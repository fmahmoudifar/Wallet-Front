"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3013],{43013:(e,n,r)=>{r.d(n,{A:()=>D});var t=r(4483),o=r(1827),c=r(13526),l=r(79474),a=r(89851),s=r(63692),i=r(2898),u=r(56883),d=r(70871),f=r(13274),p=r(17920),h=r(28599),v=r(95866),b=r(93682),m=r(24869),x=(0,r(6204).defineMessages)({searchPlaceholder:{id:"neptune.Select.searchPlaceholder"}}),j=r(40994),g=r(55052),w=r(49009);function y(e){var n=e.label,r=e.currency,t=void 0===r?"":r,o=e.note,a=void 0===o?"":o,s=e.secondary,i=void 0===s?"":s,u=e.icon,d=e.selected,p=void 0!==d&&d,h=u?(0,l.cloneElement)(u,{size:24,className:"tw-icon"}):t&&(0,f.jsx)(j.F,{code:t.toLowerCase(),intrinsicSize:24}),v=(0,f.jsxs)(g.A,{as:"span",type:w.o.BODY_LARGE,className:p?"text-ellipsis":void 0,children:[n,a&&(0,f.jsx)(g.A,{as:"span",className:"m-l-1",children:a})]}),b=i&&(0,f.jsx)(g.A,{className:(0,c.$)(p&&"text-ellipsis"),children:i});return h?(0,f.jsxs)("div",{className:"d-flex np-option-content",children:[(0,f.jsx)("div",{className:"d-flex flex-column".concat(p?" justify-content-center":""),children:h}),(0,f.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[v,b]})]}):(0,f.jsxs)(f.Fragment,{children:[h,v,b]})}var N=r(7668),k=r(7331),O=(0,l.forwardRef)(function(e,n){var r=e.id,t=e.classNames,o=void 0===t?{}:t,l=e.focusedOptionId,a=e.onChange,s=e.onClick,i=e.placeholder,u=e.value,d=function(e){return o[e]||e};return(0,f.jsx)("li",{className:d("border-bottom"),children:(0,f.jsx)("a",{className:"".concat(d("np-select-filter-link")," ").concat(d("p-a-0")),children:(0,f.jsxs)("div",{className:d("input-group"),children:[(0,f.jsx)("span",{className:(0,c.$)("input-group-addon","input-group-addon--search"),children:(0,f.jsx)(N.Search,{className:(0,c.$)(d("tw-icon"),d("tw-icon-search")),size:24})}),(0,f.jsx)(k.p,{ref:n,id:r,role:"searchbox",inputMode:"search",className:(0,c.$)(d("np-select-filter")),placeholder:void 0===i?void 0:i,value:void 0===u?"":u,spellCheck:"false","aria-activedescendant":l,onChange:a,onClick:s})]})})})});function C(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function A(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?C(Object(r),!0).forEach(function(n){(0,t.A)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var P=function(e,n){return e.toLowerCase().includes(n.toLowerCase())};function $(e){return!e.header&&!e.separator&&!e.disabled}function E(e){return null!=e&&"header"in e}function G(e){return null!=e&&"separator"in e}function M(e){return null===e||"placeholder"in e}function S(e){return!E(e)&&!G(e)&&!M(e)}var T=function(e,n){if(null!=n){var r=n.value||("string"==typeof n.label?n.label.replace(/\s/g,""):"");return"option-".concat(null!=e?e:"","-").concat(r)}},R={};function D(e){var n=e.placeholder,r=e.id,j=e.required,g=e.disabled,w=e.inverse,N=e.dropdownWidth,k=e.size,C=e.block,D=void 0===C||C,I=e.selected,z=e.search,F=e.onChange,K=e.onFocus,_=e.onBlur,B=e.options,L=e.onSearchChange,U=e.searchValue,q=void 0===U?"":U,V=e.searchPlaceholder,W=e.classNames,Y=void 0===W?R:W,H=e.dropdownUp,J=e.dropdownProps,Q=e.buttonProps,X=(0,m.jp)(),Z=(0,a.A)().formatMessage,ee=(0,o.DP)().isModern,en=function(e){return Y[e]||e},er=(0,l.useState)(!1),et=er[0],eo=er[1],ec=(0,l.useState)(""),el=ec[0],ea=ec[1],es=(0,l.useState)(-1),ei=es[0],eu=es[1],ed=(0,l.useRef)(null),ef=(0,l.useRef)(-1),ep=(0,l.useState)(1e3),eh=ep[0],ev=ep[1],eb=(0,l.useRef)(null),em=(0,l.useRef)(null),ex=(0,l.useRef)(null),ej=(0,l.useRef)(null),eg=!!L||!!z,ew=null==N,ey=(0,l.useMemo)(function(){return z&&el?B.filter(S).filter(function(e){return"function"==typeof z?z(e,el):function(e,n){if(M(e))return!0;var r=e.label,t=e.note,o=e.secondary,c=e.currency,l=e.searchStrings;return"string"==typeof r&&P(r,n)||"string"==typeof t&&P(t,n)||"string"==typeof o&&P(o,n)||!!c&&P(c,n)||!!l&&l.some(function(e){return P(e,n)})}(e,el)}):B},[B,z,el]),eN=(0,l.useMemo)(function(){return ey.filter($)},[ey]),ek=eN[ei],eO=(0,l.useId)(),eC=r||X.id||eO,eA="".concat(eC,"-listbox"),eP="".concat(eC,"-searchbox"),e$=(0,h.g)().isMobile;(0,l.useEffect)(function(){var e=!1;if(ei>=0)return requestAnimationFrame(function(){if(!e){var n,r,t;eg?null===(n=ed.current)||void 0===n||null===(r=n.scrollIntoView)||void 0===r||r.call(n,{block:"center"}):null===(t=ed.current)||void 0===t||t.focus()}}),function(){e=!0}},[ei,eg]);var eE=function(e){ev(1e3),ea(e.target.value),null==L||L(e.target.value)};function eG(){ei>=0&&eN.length>0&&eT(eN[ei])}(0,l.useEffect)(function(){et?((!e$||el)&&(eg&&eb.current&&eb.current.focus(),!eg&&ej.current&&ef.current<0&&ej.current.focus()),ef.current=ei):ef.current=-1},[et,el,eg,e$,ei]);var eM=function(){eo(!1),eu(-1),ex.current&&ex.current.focus()};function eS(e){return function(n){(0,u.dG)(n),eT(e)}}function eT(e){F(M(e)?null:e),eM()}function eR(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=o.className,a=(0,c.$)(en("np-dropdown-menu"),(e={},(0,t.A)(e,en("np-dropdown-menu-desktop"),!e$),(0,t.A)(e,en("np-dropdown-menu-".concat(N)),!e$&&!ew),e),en(void 0===l?"":l)),s=!j&&!eg&&!!n;return(0,f.jsxs)("ul",A(A({ref:ej,id:eA,role:"listbox","aria-orientation":"vertical","aria-activedescendant":T(r,null!=I?I:null),tabIndex:-1,className:a},J),{},{children:[s&&(0,f.jsx)(eI,{}),eg&&(0,f.jsx)(O,{ref:eb,id:eP,classNames:Y,value:q||el,placeholder:V||Z(x.searchPlaceholder),focusedOptionId:T(r,ek),onChange:eE,onClick:u.dG}),ey.slice(0,eh).map(e_),eh<ey.length&&(0,f.jsx)(eD,{})]}))}function eD(){function e(e){(0,u.dG)(e),ev(eh+1e3)}return(0,f.jsx)("li",{className:(0,c.$)(en("clickable"),en("border-bottom"),en("show-more")),onClick:e,onKeyPress:e,children:(0,f.jsx)("a",{children:"..."})})}function eI(){var e={placeholder:n};return(0,f.jsx)("li",{className:(0,c.$)(en("clickable"),en("border-bottom")),onClick:eS(e),onKeyPress:eS(e),children:(0,f.jsx)("a",{children:n})})}function ez(){return(0,f.jsx)("li",{className:en("np-separator"),"aria-hidden":!0})}function eF(e){var n=e.children;return(0,f.jsx)("li",{className:(0,c.$)(en("np-dropdown-header"),en("np-text-title-group")),onClick:u.dG,onKeyPress:u.dG,children:n})}function eK(e,n){return(null==e?void 0:e.value)===(null==n?void 0:n.value)}var e_=function(e,n){if(G(e)&&null!=e&&e.separator)return(0,f.jsx)(ez,{},n);if(E(e)&&e.header)return(0,f.jsx)(eF,{children:e.header},n);var o,l=eK(I,e),a=!e.disabled&&ei===ey.reduce(function(e,r,t){return t<n&&$(r)?e+1:e},0),s=(0,c.$)(en("np-dropdown-item"),e.disabled?[en("disabled")]:en("clickable"),(o={},(0,t.A)(o,en("active"),l),(0,t.A)(o,en("np-dropdown-item--focused"),a),o)),i=e.disabled?u.dG:eS(e);return(0,f.jsx)("li",{ref:a?ed:void 0,id:T(r,e),"aria-selected":l,"aria-disabled":e.disabled,role:"option",tabIndex:-1,className:s,onClick:i,onKeyPress:i,children:(0,f.jsx)("a",{disabled:e.disabled,children:(0,f.jsx)(y,A(A({label:void 0,value:void 0},e),{},{classNames:Y}))})},n)},eB=!!B.length;return et&&(q||el)&&(eB&&ei<0&&eu(0),!eB&&ei>=0&&eu(-1)),(0,f.jsxs)("div",{ref:em,className:(0,c.$)(en("np-select"),D?en("btn-block"):null,en("btn-group")),onKeyDown:function(e){switch(e.key){case"ArrowUp":case"ArrowDown":var n,r,t,o,c;et?(n="ArrowUp"===e.key?-1:1,r=eN.reduce(function(e,n,r){return e>=0?e:eK(I,n)?r:-1},-1),o=t=ef.current,t<0&&(r<0?eu(0):o=r),c=o+n,eu(Math.max(Math.min(eN.length-1,c),0))):eo(!0),(0,u.dG)(e);break;case" ":e.target!==eb.current&&(et?eG():eo(!0),(0,u.dG)(e));break;case"Enter":et?eG():eo(!0),(0,u.dG)(e);break;case"Escape":eM(),(0,u.dG)(e);break;case"Tab":et&&eG()}},onTouchMove:function(e){e.currentTarget===e.target&&et&&eM()},onFocus:function(e){null==K||K(e)},onBlur:function(e){var n=e.nativeEvent;if(n){var r=n.relatedTarget,t=e.currentTarget;if(t&&r instanceof Node&&t.contains(r))return}null==_||_(e)},children:[(0,f.jsxs)(s.A,A(A(A({ref:ex},X),{},{id:eC,block:D,size:void 0===k?"md":k,htmlType:"button",className:(0,c.$)(en("np-dropdown-toggle"),en("np-text-body-large"),w?en("np-dropdown-toggle-navy"):null),type:null,priority:null,disabled:g,"aria-controls":eA,"aria-expanded":et,onClick:function(){eo(!0)}},Q),{},{children:[I?(0,f.jsx)(y,A(A({label:void 0},I),{},{classNames:Y,selected:!0})):(0,f.jsx)("span",{className:en("form-control-placeholder"),children:n}),(0,f.jsx)(i.A,{className:(0,c.$)(en("tw-icon"),en("tw-chevron-up-icon"),en("tw-chevron"),en("bottom"),en("np-select-chevron"))})]})),e$?eg?(0,f.jsx)(b.A,{open:et,headerTitle:V||Z(x.searchPlaceholder),onClose:eM,children:eR()}):(0,f.jsx)(p.A,{open:et,onClose:eM,children:eR({className:ee?"":"p-a-1"})}):(0,f.jsx)(v.A,{open:et,flip:!1,altAxis:!0,anchorRef:em,anchorWidth:ew,position:H?d.y.TOP:d.y.BOTTOM,onClose:eM,children:eR({className:"p-a-1"})})]})}}}]);
//# sourceMappingURL=3013-547b0b6627a14ac8.js.map
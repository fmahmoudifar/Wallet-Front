"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2311],{92586:(e,t,a)=>{a.d(t,{CZ:()=>gr,P9:()=>eD,bd:()=>dQ,cZ:()=>sM,mo:()=>eL});var r,n,i,l,o,s,c,d,u,m,p,h,y=a(22155),g=a(65723),f=a(87633),v=a(80920),b=a(82209),w=a(13210),x=a(39680),C=a(28829),F=a(14238),S=a(93173),k=a(93053),j=a(91482),A=a(49482),E=a(38890),_=a(58085),I=a(57697),O=a(50549),N=a(79068),T=a(77217),L=a(72296),M=a(65849),P=a(92509),z=a(79385),R=a(8704),D=a(74562),V=a(31917),$=a(69967),U=a(35848),B=a(29351),Z=a(42537),q=a(14678),H=a(65053),K=a(53385),W=a(27868),Y=a(44553),G=a(46228),J=a(39481),X=a(50917),Q=a(92112),ee=a(84108),et=a(64862),ea=a(3709),er=a(72993),en=a(84319),ei=a(51370),el=a(37395),eo=a(41010),es=a(96588),ec=a(60492),ed=Object.create,eu=Object.defineProperty,em=Object.defineProperties,ep=Object.getOwnPropertyDescriptor,eh=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertyNames,eg=Object.getOwnPropertySymbols,ef=Object.getPrototypeOf,ev=Object.prototype.hasOwnProperty,eb=Object.prototype.propertyIsEnumerable,ew=(e,t,a)=>t in e?eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ex=(e,t)=>{for(var a in t||(t={}))ev.call(t,a)&&ew(e,a,t[a]);if(eg)for(var a of eg(t))eb.call(t,a)&&ew(e,a,t[a]);return e},eC=(e,t)=>em(e,eh(t)),eF=e=>"symbol"==typeof e?e:e+"",eS=(e,t)=>{var a={};for(var r in e)ev.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&eg)for(var r of eg(e))0>t.indexOf(r)&&eb.call(e,r)&&(a[r]=e[r]);return a},ek=(e,t)=>function(){return e&&(t=(0,e[ey(e)[0]])(e=0)),t},ej=(e,t)=>function(){return t||(0,e[ey(e)[0]])((t={exports:{}}).exports,t),t.exports},eA=(e,t,a,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of ey(t))ev.call(e,n)||n===a||eu(e,n,{get:()=>t[n],enumerable:!(r=ep(t,n))||r.enumerable});return e},eE=(e,t,a)=>(a=null!=e?ed(ef(e)):{},eA(!t&&e&&e.__esModule?a:eu(a,"default",{value:e,enumerable:!0}),e)),e_=ej({"../../node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js"(e,t){!function(){var e={}.hasOwnProperty;function a(){for(var t="",n=0;n<arguments.length;n++){var i=arguments[n];i&&(t=r(t,function(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return a.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var n="";for(var i in t)e.call(t,i)&&t[i]&&(n=r(n,i));return n}(i)))}return t}function r(e,t){return t?e?e+" "+t:e+t:e}void 0!==t&&t.exports?(a.default=a,t.exports=a):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return a}):window.classNames=a}()}}),eI=ek({"../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"(){}}),eO=ek({"../../node_modules/.pnpm/@wise+art@2.19.0_@transferwise+neptune-css@14.20.1_@types+react@18.3.18_react-dom@18.3.1_reac_mzw7cg6j4wc7ddwlhxck7linn4/node_modules/@wise/art/dist/index-8Fxev6OI.esm.js"(){var e,t,a;eI(),r="wise",n=({code:e,intrinsicSize:t=64,className:a,loading:n="lazy"})=>{let[i,l]=(0,y.useState)(null);(0,y.useEffect)(()=>{l(null)},[e]);let o=t>=150,s="unknown"!==i?`${e.toLowerCase()}${null==i&&o?"-detailed":""}`:r;return(0,g.jsx)("img",{className:function(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=function e(t){var a,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(r=e(t[a]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(r&&(r+=" "),r+=t);return r}(`wds-flag wds-flag-${s}`,a),src:`https://wise.com/web-art/assets/flags/${s}.svg`,loading:n,alt:"",width:t,height:t,onError:()=>{l(e=>null==e&&o?"simple":"unknown")}})},(e=i||(i={})).SMALL="small",e.MEDIUM="medium",e.LARGE="large",i.SMALL,i.MEDIUM,i.LARGE,i.SMALL,i.MEDIUM,i.LARGE,(t=l||(l={})).WALLET="wallet",t.TWO_INVITE_LETTERS_OPENED="two-invite-letters-opened",t.TOOL="tool",t.TARGET_PLATFORM="target-platform",t.STOPWATCH_PLATFORM="stopwatch-platform",t.SPEECH_BUBBLE="speech-bubble",t.SKIP_AUTHENTICATION="skip-authentication",t.SHOPPING_BAG="shopping-bag",t.SATELLITE_PLATFORM="satellite-platform",t.SAND_TIMER="sand-timer",t.REMINDER_LETTER="reminder-letter",t.RECEIVE="receive",t.QUESTION_MARK="question-mark",t.PUZZLE_PIECES="puzzle-pieces",t.PLANE_2="plane-2",t.PLANE="plane",t.PIE_CHART="pie-chart",t.PHONES="phones",t.PERSONAL_CARD="personal-card",t.PERCENTAGE="percentage",t.PALM_TREE="palm-tree",t.ONE_INVITE_LETTER_OPENED="one-invite-letter-opened",t.MULTI_CURRENCY="multi-currency",t.MEGAPHONE="megaphone",t.MARBLE_CARD_BUSINESS="marble-card-business",t.MARBLE_CARD="marble-card",t.MARBLE="marble",t.MAP="map",t.MAGNIFYING_GLASS="magnifying-glass",t.LOCK_PLATFORM="lock-platform",t.LOCK="lock",t.LIGHT_BULB="light-bulb",t.KEY="key",t.JARS="jars",t.INVITE_LETTER="invite-letter",t.INTEREST="interest",t.INFINITE="infinite",t.ID_CARD="id-card",t.HOUSE="house",t.HEART_5="heart-5",t.HEART_4="heart-4",t.HEART_3="heart-3",t.HEART_2="heart-2",t.HEART="heart",t.GRAPH="graph",t.GLOBE="globe",t.GEAR="gear",t.FLOWER="flower",t.FLAG="flag",t.EXCLAMATION_MARK="exclamation-mark",t.EMAIL_SUCCESS="email-success",t.EMAIL="email",t.ELECTRIC_PLUG="electric-plug",t.ECO_CARD="eco-card",t.DOOR="door",t.DOCUMENTS="documents",t.DIGITAL_CARD_2="digital-card-2",t.DIGITAL_CARD="digital-card",t.COOKIE="cookie",t.CONVERT="convert",t.CONSTRUCTION_FENCE="construction-fence",t.CONFETTI="confetti",t.COIN_PILE_UP="coin-pile-up",t.COIN_PILE_DOWN="coin-pile-down",t.CLOSED_WINDOW="closed-window",t.CHECK_MARK="check-mark",t.CALENDAR="calendar",t.BUSINESS_CARD="business-card",t.BRIEFCASE="briefcase",t.BELL="bell",(a=o||(o={}))[a.INIT=0]="INIT",a[a.FALLBACK=1]="FALLBACK",a[a.ASSET_3D=2]="ASSET_3D"}}),eN=ej({"../../node_modules/.pnpm/screenfull@5.2.0/node_modules/screenfull/dist/screenfull.js"(e,t){!function(){var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},a=void 0!==t&&t.exports,r=function(){for(var t,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,n=a.length,i={};r<n;r++)if((t=a[r])&&t[1]in e){for(r=0;r<t.length;r++)i[a[0][r]]=t[r];return i}return!1}(),n={change:r.fullscreenchange,error:r.fullscreenerror},i={request:function(t,a){return new Promise((function(n,i){var l=(function(){this.off("change",l),n()}).bind(this);this.on("change",l);var o=(t=t||e.documentElement)[r.requestFullscreen](a);o instanceof Promise&&o.then(l).catch(i)}).bind(this))},exit:function(){return new Promise((function(t,a){if(!this.isFullscreen){t();return}var n=(function(){this.off("change",n),t()}).bind(this);this.on("change",n);var i=e[r.exitFullscreen]();i instanceof Promise&&i.then(n).catch(a)}).bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(t,a){var r=n[t];r&&e.addEventListener(r,a,!1)},off:function(t,a){var r=n[t];r&&e.removeEventListener(r,a,!1)},raw:r};if(!r){a?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(i,{isFullscreen:{get:function(){return!!e[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[r.fullscreenEnabled]}}}),a?t.exports=i:window.screenfull=i}()}});function eT(e=""){return!["https://","http://","data:"].some(t=>e.startsWith(t)&&e.length>t.length)}var eL=(e,t)=>(a,r)=>fetch(eM(a,e||""),eP(null!=r?r:{},{headers:t})),eM=(e,t)=>"string"==typeof e&&eT(e)?t+e:e,eP=(e,t)=>eC(ex(ex({},e),t),{headers:ez(null==e?void 0:e.headers,null==t?void 0:t.headers)}),ez=(...e)=>e.reduce((e,t)=>ex(ex({},e),Object.fromEntries(new Headers(t).entries())),{}),eR={"dynamicFlows.ArraySchema.addItem":"保存","dynamicFlows.ArraySchema.addItemTitle":"添加项目","dynamicFlows.ArraySchema.editItem":"保存","dynamicFlows.ArraySchema.maxItemsError":"请添加不超过 {maxItems} 项。","dynamicFlows.ArraySchema.minItemsError":"请至少添加 {minItems} 项。","dynamicFlows.ArraySchema.removeItem":"移除","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"重试","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"请检查是否连接，然后重试。","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"我们无法访问您的摄像头","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"您目前使用的浏览器不支持摄像头。请尝试其他浏览器、设备或下载我们的应用。","dynamicFlows.CameraCapture.CameraNotSupported.title":"不支持摄像头","dynamicFlows.CameraCapture.NoCameraAccess.action":"允许访问摄像头","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"在浏览器设置中启用相机访问权限，再重新尝试。","dynamicFlows.CameraCapture.NoCameraAccess.title":"我们无法访问您的摄像头","dynamicFlows.CameraCapture.reviewInstructions":"您的图片是否清晰、可读和完整？","dynamicFlows.CameraCapture.reviewRetry":"否，再试一次","dynamicFlows.CameraCapture.reviewSubmit":"是，提交","dynamicFlows.CameraCapture.rotatePhone.text":"将手机旋转到纵向视图以拍照","dynamicFlows.ControlFeedback.maxLength":"请输入不超过 {maxLength} 个字符。","dynamicFlows.ControlFeedback.maximum":"请输入一个小于或等于 {maximum} 的数字。","dynamicFlows.ControlFeedback.maximumDate":"请输入 {maximum} 或之前的日期","dynamicFlows.ControlFeedback.minLength":"请至少输入 {minLength} 个字符","dynamicFlows.ControlFeedback.minimum":"请输入一个大于或等于 {minimum} 的数字","dynamicFlows.ControlFeedback.minimumDate":"请输入 {minimum} 或之后的日期","dynamicFlows.ControlFeedback.pattern":"请以正确的格式输入","dynamicFlows.ControlFeedback.patternDate":"请以正确的格式输入日期","dynamicFlows.ControlFeedback.required":"请填写此字段。","dynamicFlows.ControlFeedback.type":"类型错误","dynamicFlows.DefaultErrorMessages.required":"请填写此字段。","dynamicFlows.DynamicExternal.retryTitle":"重新打开窗口","dynamicFlows.DynamicParagraph.copied":"已复制到剪贴板","dynamicFlows.DynamicParagraph.copy":"复制","dynamicFlows.ErrorBoundary.errorAlert":"出错了。","dynamicFlows.ErrorBoundary.retry":"重试","dynamicFlows.ExternalConfirmation.cancel":"取消","dynamicFlows.ExternalConfirmation.description":"请确认您是否要在新标签页中打开**{origin}**。","dynamicFlows.ExternalConfirmation.open":"在新标签页中打开","dynamicFlows.ExternalConfirmation.title":"请确认","dynamicFlows.FileUploadSchema.maxFileSizeError":"抱歉，该文件太大。请上传一个更小的文件。","dynamicFlows.FileUploadSchema.wrongFileTypeError":"抱歉，不支持该文件格式。请上传其他文件。","dynamicFlows.Help.ariaLabel":"点击此处获取更多信息。","dynamicFlows.MultiSelect.summary":"{first} 和其他 {count} 个","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"抱歉，该文件太大。请上传一个更小的文件。","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"请上传不超过 {maxItems} 个文件。","dynamicFlows.MultipleFileUploadSchema.minItemsError":"请上传至少 {minItems} 个文件。","dynamicFlows.PersistAsyncSchema.genericError":"出错了，请重试。","dynamicFlows.ReadOnlySchema.no":"否","dynamicFlows.ReadOnlySchema.yes":"是","dynamicFlows.SearchLayout.loading":"正在加载…"},eD={en:{"dynamicFlows.ArraySchema.addItem":"Save","dynamicFlows.ArraySchema.addItemTitle":"Add Item","dynamicFlows.ArraySchema.editItem":"Save","dynamicFlows.ArraySchema.maxItemsError":"Please add {maxItems} or fewer.","dynamicFlows.ArraySchema.minItemsError":"Please add at least {minItems}.","dynamicFlows.ArraySchema.removeItem":"Remove","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Try again","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Please check if it is connected and try again.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"We can't access your camera","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"The browser you're using doesn't have support for a camera. Try a different browser, device, or download our mobile app.","dynamicFlows.CameraCapture.CameraNotSupported.title":"Camera not supported","dynamicFlows.CameraCapture.NoCameraAccess.action":"Enable camera access","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Enable camera access in your browser's settings to get going again.","dynamicFlows.CameraCapture.NoCameraAccess.title":"We can't access your camera","dynamicFlows.CameraCapture.reviewInstructions":"Is your picture clear, readable and complete?","dynamicFlows.CameraCapture.reviewRetry":"No, try again","dynamicFlows.CameraCapture.reviewSubmit":"Yes, submit","dynamicFlows.CameraCapture.rotatePhone.text":"Rotate your phone to portrait view to take a photo","dynamicFlows.ControlFeedback.maxLength":"Please enter {maxLength} or fewer characters.","dynamicFlows.ControlFeedback.maximum":"Please enter a number that's {maximum} or less.","dynamicFlows.ControlFeedback.maximumDate":"Please enter a date that's on or before {maximum}.","dynamicFlows.ControlFeedback.minLength":"Please enter at least {minLength} characters.","dynamicFlows.ControlFeedback.minimum":"Please enter a number that's {minimum} or more.","dynamicFlows.ControlFeedback.minimumDate":"Please enter a date that's on or after {minimum}.","dynamicFlows.ControlFeedback.pattern":"Please enter this in the correct format.","dynamicFlows.ControlFeedback.patternDate":"Please enter a date in the corrrect format.","dynamicFlows.ControlFeedback.required":"Please fill out this field.","dynamicFlows.ControlFeedback.type":"Incorrect type","dynamicFlows.DefaultErrorMessages.required":"Please fill out this field.","dynamicFlows.DynamicExternal.retryTitle":"Reopen window","dynamicFlows.DynamicParagraph.copied":"Copied to clipboard","dynamicFlows.DynamicParagraph.copy":"Copy","dynamicFlows.ErrorBoundary.errorAlert":"Something went wrong.","dynamicFlows.ErrorBoundary.retry":"Retry","dynamicFlows.ExternalConfirmation.cancel":"Cancel","dynamicFlows.ExternalConfirmation.description":"Please confirm you want to open **{origin}** in a new browser tab.","dynamicFlows.ExternalConfirmation.open":"Open in new tab","dynamicFlows.ExternalConfirmation.title":"Please confirm","dynamicFlows.FileUploadSchema.maxFileSizeError":"Sorry, that file is too big. Please upload a smaller file.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Sorry, that file format is not supported. Please upload a different file.","dynamicFlows.Help.ariaLabel":"Click here for more info.","dynamicFlows.MultiSelect.summary":"{first} and {count} more","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Sorry, that file is too big. Please upload a smaller file.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Please upload {maxItems} or fewer files.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Please upload at least {minItems} file(s).","dynamicFlows.PersistAsyncSchema.genericError":"Something went wrong, please try again.","dynamicFlows.ReadOnlySchema.no":"No","dynamicFlows.ReadOnlySchema.yes":"Yes","dynamicFlows.SearchLayout.loading":"Loading..."},de:{"dynamicFlows.ArraySchema.addItem":"Speichern","dynamicFlows.ArraySchema.addItemTitle":"Artikel hinzuf\xfcgen","dynamicFlows.ArraySchema.editItem":"Speichern","dynamicFlows.ArraySchema.maxItemsError":"Bitte f\xfcge {maxItems} oder weniger hinzu.","dynamicFlows.ArraySchema.minItemsError":"Bitte f\xfcge mindestens {minItems} hinzu.","dynamicFlows.ArraySchema.removeItem":"Entfernen","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Erneut versuchen","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Bitte pr\xfcfe, ob deine Kamera verbunden ist, und versuche es dann erneut.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Wir k\xf6nnen nicht auf deine Kamera zugreifen","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Der von dir verwendete Browser unterst\xfctzt keine Kameras. Bitte verwende einen anderen Browser oder ein anderes Ger\xe4t, oder lade unsere App herunter","dynamicFlows.CameraCapture.CameraNotSupported.title":"Kamera wird nicht unterst\xfctzt","dynamicFlows.CameraCapture.NoCameraAccess.action":"Kamerazugriff genehmigen","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Aktiviere den Kamerazugriff in den Einstellungen deines Browsers, um weitermachen zu k\xf6nnen.","dynamicFlows.CameraCapture.NoCameraAccess.title":"Wir k\xf6nnen nicht auf deine Kamera zugreifen","dynamicFlows.CameraCapture.reviewInstructions":"Ist das aufgenommene Bild deutlich erkennbar und vollst\xe4ndig?","dynamicFlows.CameraCapture.reviewRetry":"Nein, erneut versuchen","dynamicFlows.CameraCapture.reviewSubmit":"Ja, senden","dynamicFlows.CameraCapture.rotatePhone.text":"Drehe dein Ger\xe4t in die Hochformatansicht, um ein Foto aufzunehmen","dynamicFlows.ControlFeedback.maxLength":"Bitte gib nicht mehr als {maxLength} Zeichen ein.","dynamicFlows.ControlFeedback.maximum":"Bitte gib eine Zahl ein, die {maximum} oder weniger betr\xe4gt.","dynamicFlows.ControlFeedback.maximumDate":"Bitte gib ein Datum ein, das am oder vor dem {maximum} liegt.","dynamicFlows.ControlFeedback.minLength":"Bitte gib mindestens {minLength} Zeichen ein.","dynamicFlows.ControlFeedback.minimum":"Bitte gib eine Zahl ein, die {minimum} oder mehr betr\xe4gt.","dynamicFlows.ControlFeedback.minimumDate":"Bitte gib ein Datum ein, das am oder nach dem {minimum} liegt.","dynamicFlows.ControlFeedback.pattern":"Bitte gib die Angabe im richtigen Format ein.","dynamicFlows.ControlFeedback.patternDate":"Bitte gib ein Datum im richtigen Format ein.","dynamicFlows.ControlFeedback.required":"Bitte f\xfclle dieses Feld aus.","dynamicFlows.ControlFeedback.type":"Falscher Typ","dynamicFlows.DefaultErrorMessages.required":"Bitte f\xfclle dieses Feld aus.","dynamicFlows.DynamicExternal.retryTitle":"Fenster erneut \xf6ffnen","dynamicFlows.DynamicParagraph.copied":"In Zwischenablage kopiert","dynamicFlows.DynamicParagraph.copy":"Kopieren","dynamicFlows.ErrorBoundary.errorAlert":"Da ist etwas schiefgegangen.","dynamicFlows.ErrorBoundary.retry":"Erneut versuchen","dynamicFlows.ExternalConfirmation.cancel":"Abbrechen","dynamicFlows.ExternalConfirmation.description":"Bitte best\xe4tige, dass du **{origin}** in einem neuen Browser-Tab \xf6ffnen m\xf6chtest.","dynamicFlows.ExternalConfirmation.open":"In neuem Tab \xf6ffnen","dynamicFlows.ExternalConfirmation.title":"Bitte best\xe4tigen","dynamicFlows.FileUploadSchema.maxFileSizeError":"Diese Datei ist leider zu gro\xdf. Bitte lade eine kleinere Datei hoch.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Das Dateiformat wird leider nicht unterst\xfctzt. Bitte lade eine andere Datei hoch.","dynamicFlows.Help.ariaLabel":"Klicke hier f\xfcr mehr Informationen.","dynamicFlows.MultiSelect.summary":"{first} und {count} weitere","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Diese Datei ist leider zu gro\xdf. Bitte lade eine kleinere Datei hoch.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Bitte lade {maxItems} oder weniger Dateien hoch.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Bitte lade mindestens {minItems} Datei(en) hoch.","dynamicFlows.PersistAsyncSchema.genericError":"Da ist etwas schiefgegangen. Versuche es bitte nochmal.","dynamicFlows.ReadOnlySchema.no":"Nein","dynamicFlows.ReadOnlySchema.yes":"Ja","dynamicFlows.SearchLayout.loading":"L\xe4dt..."},es:{"dynamicFlows.ArraySchema.addItem":"Guardar","dynamicFlows.ArraySchema.addItemTitle":"A\xf1adir elemento","dynamicFlows.ArraySchema.editItem":"Guardar","dynamicFlows.ArraySchema.maxItemsError":"A\xf1ade {maxItems} o menos.","dynamicFlows.ArraySchema.minItemsError":"A\xf1ade al menos {minItems}.","dynamicFlows.ArraySchema.removeItem":"Eliminar","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Intentar de nuevo","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Comprueba si est\xe1 conectado e int\xe9ntalo de nuevo.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"No podemos acceder a tu c\xe1mara","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"El navegador que est\xe1s utilizando no es compatible con una c\xe1mara. Prueba con otro navegador, dispositivo o descarga nuestra app m\xf3vil.","dynamicFlows.CameraCapture.CameraNotSupported.title":"C\xe1mara no compatible","dynamicFlows.CameraCapture.NoCameraAccess.action":"Habilitar acceso a la c\xe1mara","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Habilita el acceso a la c\xe1mara en la configuraci\xf3n de tu navegador para volver a activarla.","dynamicFlows.CameraCapture.NoCameraAccess.title":"No podemos acceder a tu c\xe1mara","dynamicFlows.CameraCapture.reviewInstructions":"\xbfTu foto es clara, legible y completa?","dynamicFlows.CameraCapture.reviewRetry":"No, intentar de nuevo","dynamicFlows.CameraCapture.reviewSubmit":"S\xed, enviar","dynamicFlows.CameraCapture.rotatePhone.text":"Gira el tel\xe9fono a la vista vertical para hacer una foto","dynamicFlows.ControlFeedback.maxLength":"Introduce {maxLength} caracteres o menos.","dynamicFlows.ControlFeedback.maximum":"Introduce una cifra igual o inferior a {maximum}.","dynamicFlows.ControlFeedback.maximumDate":"Introduce una fecha que sea igual o anterior al {maximum}.","dynamicFlows.ControlFeedback.minLength":"Introduce al menos {minLength} caracteres.","dynamicFlows.ControlFeedback.minimum":"Introduce una cifra igual o inferior a {minimum}.","dynamicFlows.ControlFeedback.minimumDate":"Introduce una fecha que sea igual o posterior al {minimum}.","dynamicFlows.ControlFeedback.pattern":"Utiliza el formato correcto.","dynamicFlows.ControlFeedback.patternDate":"Introduce la fecha en un formato correcto.","dynamicFlows.ControlFeedback.required":"Completa este campo.","dynamicFlows.ControlFeedback.type":"Tipo incorrecto","dynamicFlows.DefaultErrorMessages.required":"Completa este campo.","dynamicFlows.DynamicExternal.retryTitle":"Reabrir ventana","dynamicFlows.DynamicParagraph.copied":"Copiado al portapapeles","dynamicFlows.DynamicParagraph.copy":"Copiar","dynamicFlows.ErrorBoundary.errorAlert":"Ha habido un error.","dynamicFlows.ErrorBoundary.retry":"Reintentar","dynamicFlows.ExternalConfirmation.cancel":"Cancelar","dynamicFlows.ExternalConfirmation.description":"Confirma que quieres abrir **{origin}** en una nueva pesta\xf1a del navegador.","dynamicFlows.ExternalConfirmation.open":"Abrir en nueva pesta\xf1a","dynamicFlows.ExternalConfirmation.title":"Por favor, confirma","dynamicFlows.FileUploadSchema.maxFileSizeError":"Lo sentimos, el archivo pesa demasiado. Sube uno m\xe1s peque\xf1o.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Lo sentimos, ese formato de archivo no es compatible. Sube otro archivo.","dynamicFlows.Help.ariaLabel":"Haz clic aqu\xed para obtener m\xe1s informaci\xf3n.","dynamicFlows.MultiSelect.summary":"{first} y {count} m\xe1s","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Lo sentimos, el archivo pesa demasiado. Sube uno m\xe1s peque\xf1o.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Sube {maxItems} o menos archivos.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Sube al menos {minItems} archivo(s).","dynamicFlows.PersistAsyncSchema.genericError":"Ha habido un error. Int\xe9ntalo de nuevo.","dynamicFlows.ReadOnlySchema.no":"No","dynamicFlows.ReadOnlySchema.yes":"S\xed","dynamicFlows.SearchLayout.loading":"Cargando..."},fr:{"dynamicFlows.ArraySchema.addItem":"Enregistrer","dynamicFlows.ArraySchema.addItemTitle":"Ajouter un \xe9l\xe9ment","dynamicFlows.ArraySchema.editItem":"Enregistrer","dynamicFlows.ArraySchema.maxItemsError":"Veuillez ajouter {maxItems} ou moins.","dynamicFlows.ArraySchema.minItemsError":"Veuillez ajouter au moins {minItems}.","dynamicFlows.ArraySchema.removeItem":"Supprimer","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"R\xe9essayez","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"V\xe9rifiez s'il est connect\xe9 et r\xe9essayez.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Nous n'avons pas acc\xe8s \xe0 votre appareil photo","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Le navigateur que vous utilisez ne prend pas en charge l'appareil photo. Veuillez essayer un autre navigateur, un autre appareil ou t\xe9l\xe9charger notre appli.","dynamicFlows.CameraCapture.CameraNotSupported.title":"Appareil photo non pris en charge","dynamicFlows.CameraCapture.NoCameraAccess.action":"Autoriser l'acc\xe8s \xe0 l'appareil photo","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Autorisez l'acc\xe8s \xe0 l'appareil photo depuis les param\xe8tres de votre navigateur.","dynamicFlows.CameraCapture.NoCameraAccess.title":"Nous n'avons pas acc\xe8s \xe0 votre appareil photo","dynamicFlows.CameraCapture.reviewInstructions":"Votre image est-elle claire, lisible et dans son int\xe9gralit\xe9\xa0?","dynamicFlows.CameraCapture.reviewRetry":"Non, r\xe9essayer","dynamicFlows.CameraCapture.reviewSubmit":"Oui, confirmer","dynamicFlows.CameraCapture.rotatePhone.text":"Faites pivoter votre t\xe9l\xe9phone vers la vue portrait pour prendre une photo","dynamicFlows.ControlFeedback.maxLength":"Veuillez saisir {maxLength} caract\xe8res ou moins.","dynamicFlows.ControlFeedback.maximum":"Veuillez saisir un nombre inf\xe9rieur ou \xe9gal \xe0 {maximum}.","dynamicFlows.ControlFeedback.maximumDate":"Veuillez saisir une date \xe9gale ou ant\xe9rieure au {maximum}.","dynamicFlows.ControlFeedback.minLength":"Veuillez saisir au moins {minLength} caract\xe8res.","dynamicFlows.ControlFeedback.minimum":"Veuillez saisir un nombre sup\xe9rieur ou \xe9gal \xe0 {minimum}.","dynamicFlows.ControlFeedback.minimumDate":"Veuillez saisir une date \xe9gale ou post\xe9rieure au {minimum}.","dynamicFlows.ControlFeedback.pattern":"Veuillez saisir les informations dans le bon format.","dynamicFlows.ControlFeedback.patternDate":"Veuillez saisir une date au format correct.","dynamicFlows.ControlFeedback.required":"Champ obligatoire.","dynamicFlows.ControlFeedback.type":"Type incorrect","dynamicFlows.DefaultErrorMessages.required":"Champ obligatoire.","dynamicFlows.DynamicExternal.retryTitle":"Rouvrir la fen\xeatre","dynamicFlows.DynamicParagraph.copied":"Copi\xe9 dans le presse-papier","dynamicFlows.DynamicParagraph.copy":"Copier","dynamicFlows.ErrorBoundary.errorAlert":"Une erreur s'est produite.","dynamicFlows.ErrorBoundary.retry":"R\xe9essayer","dynamicFlows.ExternalConfirmation.cancel":"Annuler","dynamicFlows.ExternalConfirmation.description":"Veuillez confirmer que vous souhaitez ouvrir **{origin}** dans un nouvel onglet.","dynamicFlows.ExternalConfirmation.open":"Ouvrir dans un nouvel onglet","dynamicFlows.ExternalConfirmation.title":"Veuillez confirmer","dynamicFlows.FileUploadSchema.maxFileSizeError":"Nous sommes d\xe9sol\xe9s, ce fichier est trop volumineux. Veuillez t\xe9l\xe9charger un fichier plus petit.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Nous sommes d\xe9sol\xe9s, ce format de fichier n'est pas pris en charge. Veuillez en t\xe9l\xe9charger un autre.","dynamicFlows.Help.ariaLabel":"Cliquez ici pour plus d'informations.","dynamicFlows.MultiSelect.summary":"{first} et {count} de plus","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Nous sommes d\xe9sol\xe9s, ce fichier est trop volumineux. Veuillez t\xe9l\xe9charger un fichier plus petit.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Veuillez t\xe9l\xe9charger {maxItems} fichiers ou moins.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Veuillez t\xe9l\xe9charger au moins {minItems} fichier(s).","dynamicFlows.PersistAsyncSchema.genericError":"Une erreur s'est produite, veuillez r\xe9essayer.","dynamicFlows.ReadOnlySchema.no":"Non","dynamicFlows.ReadOnlySchema.yes":"Oui","dynamicFlows.SearchLayout.loading":"Chargement..."},hu:{"dynamicFlows.ArraySchema.addItem":"Ment\xe9s","dynamicFlows.ArraySchema.addItemTitle":"Elem hozz\xe1ad\xe1sa","dynamicFlows.ArraySchema.editItem":"Ment\xe9s","dynamicFlows.ArraySchema.maxItemsError":"K\xe9r\xfcnk, {maxItems} vagy ann\xe1l kevesebb t\xe9telt adj meg.","dynamicFlows.ArraySchema.minItemsError":"K\xe9r\xfcnk, legal\xe1bb {minItems} t\xe9telt adj meg.","dynamicFlows.ArraySchema.removeItem":"Elt\xe1vol\xedt\xe1s","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Pr\xf3b\xe1ld \xfajra","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Ellenőrizd, hogy csatlakoztatva van-e, \xe9s pr\xf3b\xe1ld \xfajra.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Nem tudunk hozz\xe1f\xe9rni a kamer\xe1dhoz","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Az \xe1ltalad haszn\xe1lt b\xf6ng\xe9sző nem t\xe1mogatja a kamera haszn\xe1lat\xe1t. K\xe9r\xfcnk, pr\xf3b\xe1lkozz m\xe1s b\xf6ng\xe9szővel, eszk\xf6zzel vagy t\xf6ltsd le az appot","dynamicFlows.CameraCapture.CameraNotSupported.title":"Kamera nem t\xe1mogatott","dynamicFlows.CameraCapture.NoCameraAccess.action":"Kamer\xe1hoz val\xf3 hozz\xe1f\xe9r\xe9s enged\xe9lyez\xe9se","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Nem tudunk hozz\xe1f\xe9rni a kamer\xe1dhoz. Ezt a telefonod be\xe1ll\xedt\xe1saiban enged\xe9lyezheted","dynamicFlows.CameraCapture.NoCameraAccess.title":"Nem tudunk hozz\xe1f\xe9rni a kamer\xe1dhoz","dynamicFlows.CameraCapture.reviewInstructions":"Tiszta, olvashat\xf3, teljes k\xe9pet k\xe9sz\xedtett\xe9l?","dynamicFlows.CameraCapture.reviewRetry":"Nem, pr\xf3b\xe1ljuk \xfajra","dynamicFlows.CameraCapture.reviewSubmit":"Igen, elk\xfcld\xf6m","dynamicFlows.CameraCapture.rotatePhone.text":"F\xe9nyk\xe9p k\xe9sz\xedt\xe9s\xe9hez ford\xedtsd a telefont \xe1ll\xf3 n\xe9zetbe","dynamicFlows.ControlFeedback.maxLength":"K\xe9r\xfcnk, legfeljebb {maxLength} karaktert adj meg.","dynamicFlows.ControlFeedback.maximum":"K\xe9r\xfcnk, add meg ezt vagy egy enn\xe9l kisebb sz\xe1mot: {maximum}.","dynamicFlows.ControlFeedback.maximumDate":"K\xe9r\xfcnk, adj meg egy d\xe1tumot, ami megegyezik {maximum} napj\xe1val, vagy egy enn\xe9l kor\xe1bbit.","dynamicFlows.ControlFeedback.minLength":"K\xe9r\xfcnk, legal\xe1bb {minLength} karaktert adj meg.","dynamicFlows.ControlFeedback.minimum":"K\xe9r\xfcnk add meg ezt vagy egy enn\xe9l nagyobb sz\xe1mot: {minimum}.","dynamicFlows.ControlFeedback.minimumDate":"K\xe9r\xfcnk, adj meg egy d\xe1tumot, ami megegyezik {minimum} napj\xe1val, vagy egy enn\xe9l k\xe9sőbbit.","dynamicFlows.ControlFeedback.pattern":"Helytelen form\xe1tum","dynamicFlows.ControlFeedback.patternDate":"K\xe9r\xfcnk, hogy a d\xe1tumot helyes form\xe1tumban add meg.","dynamicFlows.ControlFeedback.required":"K\xe9r\xfcnk, t\xf6ltsd ki ezt a mezőt.","dynamicFlows.ControlFeedback.type":"Helytelen t\xedpus","dynamicFlows.DefaultErrorMessages.required":"K\xe9r\xfcnk, t\xf6ltsd ki ezt a mezőt.","dynamicFlows.DynamicExternal.retryTitle":"Ablak \xfajranyit\xe1sa","dynamicFlows.DynamicParagraph.copied":"V\xe1g\xf3lapra m\xe1solva","dynamicFlows.DynamicParagraph.copy":"M\xe1sol\xe1s","dynamicFlows.ErrorBoundary.errorAlert":"Valami hiba t\xf6rt\xe9nt.","dynamicFlows.ErrorBoundary.retry":"\xdajra","dynamicFlows.ExternalConfirmation.cancel":"M\xe9gsem","dynamicFlows.ExternalConfirmation.description":"K\xe9r\xfcnk, erős\xedtsd meg, hogy a(z) **{origin}** alkalmaz\xe1st egy \xfaj b\xf6ng\xe9szőlapon szeretn\xe9d megnyitni.","dynamicFlows.ExternalConfirmation.open":"Megnyit\xe1s \xfaj lapon","dynamicFlows.ExternalConfirmation.title":"Megerős\xedt\xe9s","dynamicFlows.FileUploadSchema.maxFileSizeError":"Sajnos ez a f\xe1jl t\xfal nagy. K\xe9r\xfcnk, t\xf6lts fel egy kisebb f\xe1jlt.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Sajnos ez a f\xe1jlform\xe1tum nem t\xe1mogatott. K\xe9r\xfcnk, t\xf6lts fel egy m\xe1sik f\xe1jlt.","dynamicFlows.Help.ariaLabel":"Kattints ide tov\xe1bbi inform\xe1ci\xf3\xe9rt.","dynamicFlows.MultiSelect.summary":"{first} \xe9s tov\xe1bbi {count}","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Sajnos ez a f\xe1jl t\xfal nagy. K\xe9r\xfcnk, t\xf6lts fel egy kisebb f\xe1jlt.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"K\xe9r\xfcnk, hogy legfeljebb {maxItems} f\xe1jlt t\xf6lts fel.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"K\xe9r\xfcnk, hogy legal\xe1bb {minItems} f\xe1jlt t\xf6lts fel.","dynamicFlows.PersistAsyncSchema.genericError":"Valami hiba t\xf6rt\xe9nt. K\xe9r\xfcnk, pr\xf3b\xe1ld \xfajra.","dynamicFlows.ReadOnlySchema.no":"Nem","dynamicFlows.ReadOnlySchema.yes":"Igen","dynamicFlows.SearchLayout.loading":"Bet\xf6lt\xe9s..."},id:{"dynamicFlows.ArraySchema.addItem":"Simpan","dynamicFlows.ArraySchema.addItemTitle":"Tambahkan Item","dynamicFlows.ArraySchema.editItem":"Simpan","dynamicFlows.ArraySchema.maxItemsError":"Harap tambahkan {maxItems} atau kurang.","dynamicFlows.ArraySchema.minItemsError":"Harap tambahkan setidaknya {minItems}.","dynamicFlows.ArraySchema.removeItem":"Hapus","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Coba lagi","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Periksa apakah sudah terhubung dan coba lagi.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Kami tidak dapat mengakses kamera Anda","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Browser yang Anda gunakan tidak mendukung kamera. Silakan coba browser, perangkat yang lain, atau unduh aplikasi seluler kami.","dynamicFlows.CameraCapture.CameraNotSupported.title":"Kamera tidak didukung","dynamicFlows.CameraCapture.NoCameraAccess.action":"Izinkan akses kamera","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Untuk melanjutkan lagi, aktifkan akses kamera di pengaturan browser Anda.","dynamicFlows.CameraCapture.NoCameraAccess.title":"Kami tidak dapat mengakses kamera Anda","dynamicFlows.CameraCapture.reviewInstructions":"Apakah gambar Anda jelas, dapat dibaca, dan lengkap?","dynamicFlows.CameraCapture.reviewRetry":"Tidak, coba lagi","dynamicFlows.CameraCapture.reviewSubmit":"Ya, kirim","dynamicFlows.CameraCapture.rotatePhone.text":"Putar ponsel Anda ke tampilan potret untuk mengambil foto","dynamicFlows.ControlFeedback.maxLength":"Harap masukkan {maxLength} karakter atau kurang.","dynamicFlows.ControlFeedback.maximum":"Harap masukkan angka paling besar {maximum} atau kurang dari itu.","dynamicFlows.ControlFeedback.maximumDate":"Harap masukkan tanggal pada atau sebelum {maximum}.","dynamicFlows.ControlFeedback.minLength":"Harap masukkan setidaknya {minLength} karakter.","dynamicFlows.ControlFeedback.minimum":"Harap masukkan angka paling kecil {minimum} atau lebih dari itu.","dynamicFlows.ControlFeedback.minimumDate":"Harap masukkan tanggal pada atau setelah {minimum}.","dynamicFlows.ControlFeedback.pattern":"Mohon masukkan ini dalam format yang benar.","dynamicFlows.ControlFeedback.patternDate":"Harap masukkan tanggal dalam format yang benar.","dynamicFlows.ControlFeedback.required":"Harap isi kolom ini.","dynamicFlows.ControlFeedback.type":"Tipe salah","dynamicFlows.DefaultErrorMessages.required":"Harap isi kolom ini.","dynamicFlows.DynamicExternal.retryTitle":"Buka window kembali","dynamicFlows.DynamicParagraph.copied":"Disalin ke clipboard","dynamicFlows.DynamicParagraph.copy":"Salin","dynamicFlows.ErrorBoundary.errorAlert":"Terjadi kesalahan.","dynamicFlows.ErrorBoundary.retry":"Coba lagi","dynamicFlows.ExternalConfirmation.cancel":"Batalkan","dynamicFlows.ExternalConfirmation.description":"Harap konfirmasikan bahwa Anda ingin membuka **{origin}** di tab browser baru.","dynamicFlows.ExternalConfirmation.open":"Buka di tab baru","dynamicFlows.ExternalConfirmation.title":"Harap konfirmasi","dynamicFlows.FileUploadSchema.maxFileSizeError":"Maaf, file Anda terlalu besar. Silakan unggah file yang lebih kecil.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Maaf, format file itu tidak didukung. Unggah file lain.","dynamicFlows.Help.ariaLabel":"Klik di sini untuk info selengkapnya.","dynamicFlows.MultiSelect.summary":"{first} dan {count} lagi","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Maaf, file Anda terlalu besar. Silakan unggah file yang lebih kecil.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Harap unggah {maxItems} file atau kurang.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Harap unggah sedikitnya {minItems} file.","dynamicFlows.PersistAsyncSchema.genericError":"Terjadi kesalahan, mohon coba lagi.","dynamicFlows.ReadOnlySchema.no":"Tidak","dynamicFlows.ReadOnlySchema.yes":"Ya","dynamicFlows.SearchLayout.loading":"Memuat ..."},it:{"dynamicFlows.ArraySchema.addItem":"Salva","dynamicFlows.ArraySchema.addItemTitle":"Aggiungi elemento","dynamicFlows.ArraySchema.editItem":"Salva","dynamicFlows.ArraySchema.maxItemsError":"Aggiungi al massimo {maxItems}.","dynamicFlows.ArraySchema.minItemsError":"Aggiungi almeno {minItems}.","dynamicFlows.ArraySchema.removeItem":"Rimuovi","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Riprova","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Controlla se la fotocamera \xe8 collegata e riprova.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Accesso alla fotocamera disabilitato","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Il browser che stai usando non supporta la videocamera. Prova con un altro browser o dispositivo, oppure scarica la nostra app","dynamicFlows.CameraCapture.CameraNotSupported.title":"Videocamera non supportata","dynamicFlows.CameraCapture.NoCameraAccess.action":"Consenti l'accesso alla fotocamera","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Non abbiamo accesso alla tua fotocamera. Puoi abilitare l'accesso nelle impostazioni del tuo browser","dynamicFlows.CameraCapture.NoCameraAccess.title":"Accesso alla fotocamera disabilitato","dynamicFlows.CameraCapture.reviewInstructions":"La tua foto \xe8 chiara, ben leggibile e completa?","dynamicFlows.CameraCapture.reviewRetry":"No, riprova","dynamicFlows.CameraCapture.reviewSubmit":"S\xec, invia","dynamicFlows.CameraCapture.rotatePhone.text":"Ruota il telefono in posizione verticale per scattare una foto","dynamicFlows.ControlFeedback.maxLength":"Inserisci un massimo di {maxLength} caratteri.","dynamicFlows.ControlFeedback.maximum":"Inserisci un numero uguale o inferiore a {maximum}.","dynamicFlows.ControlFeedback.maximumDate":"Inserisci una data corrispondente o precedente al {maximum}.","dynamicFlows.ControlFeedback.minLength":"Inserisci almeno {minLength} caratteri.","dynamicFlows.ControlFeedback.minimum":"Inserisci un numero uguale o superiore a {minimum}.","dynamicFlows.ControlFeedback.minimumDate":"Inserisci una data corrispondente o successiva al {minimum}.","dynamicFlows.ControlFeedback.pattern":"Inseriscilo in un formato corretto.","dynamicFlows.ControlFeedback.patternDate":"Inserisci la data in un formato corretto.","dynamicFlows.ControlFeedback.required":"Compila questo campo.","dynamicFlows.ControlFeedback.type":"Tipo errato","dynamicFlows.DefaultErrorMessages.required":"Compila questo campo.","dynamicFlows.DynamicExternal.retryTitle":"Riapri la finestra","dynamicFlows.DynamicParagraph.copied":"Copiato negli appunti","dynamicFlows.DynamicParagraph.copy":"Copia","dynamicFlows.ErrorBoundary.errorAlert":"Qualcosa non ha funzionato.","dynamicFlows.ErrorBoundary.retry":"Riprova","dynamicFlows.ExternalConfirmation.cancel":"Annulla","dynamicFlows.ExternalConfirmation.description":"Conferma di voler aprire **{origin}** in una nuova scheda del browser.","dynamicFlows.ExternalConfirmation.open":"Apri in una nuova scheda","dynamicFlows.ExternalConfirmation.title":"Conferma","dynamicFlows.FileUploadSchema.maxFileSizeError":"Spiacenti, il file \xe8 troppo grande. Carica un file di dimensioni inferiori.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Siamo spiacenti, questo formato di file non \xe8 supportato. Carica un file diverso.","dynamicFlows.Help.ariaLabel":"Clicca qui per maggiori informazioni.","dynamicFlows.MultiSelect.summary":"{first} e altri {count}","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Spiacenti, il file \xe8 troppo grande. Carica un file di dimensioni inferiori.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Carica al massimo {maxItems} file.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Carica almeno {minItems} file.","dynamicFlows.PersistAsyncSchema.genericError":"Qualcosa \xe8 andato storto. Riprova.","dynamicFlows.ReadOnlySchema.no":"No","dynamicFlows.ReadOnlySchema.yes":"S\xec","dynamicFlows.SearchLayout.loading":"Caricamento..."},ja:{"dynamicFlows.ArraySchema.addItem":"保存する","dynamicFlows.ArraySchema.addItemTitle":"アイテムを追加する","dynamicFlows.ArraySchema.editItem":"保存する","dynamicFlows.ArraySchema.maxItemsError":"{maxItems}アイテム以下を追加してください。","dynamicFlows.ArraySchema.minItemsError":"{minItems}アイテム以上を追加してください。","dynamicFlows.ArraySchema.removeItem":"削除する","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"やり直す","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"インターネット接続を確認して、再度お試しください。","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"カメラへのアクセスが許可されていません","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"お客様のブラウザではカメラがサポートされていません。別のブラウザまたはデバイスを使用するか、モバイルアプリをダウンロードしてください。","dynamicFlows.CameraCapture.CameraNotSupported.title":"カメラがサポートされていません","dynamicFlows.CameraCapture.NoCameraAccess.action":"カメラへのアクセスを許可する","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"ブラウザの設定でカメラへのアクセスを有効にして、再度お試しください。","dynamicFlows.CameraCapture.NoCameraAccess.title":"カメラへのアクセスが許可されていません","dynamicFlows.CameraCapture.reviewInstructions":"写真が鮮明で、すべての情報が読み取れ欠けている部分などはありませんか？","dynamicFlows.CameraCapture.reviewRetry":"いいえ、撮り直す","dynamicFlows.CameraCapture.reviewSubmit":"はい、送信する","dynamicFlows.CameraCapture.rotatePhone.text":"縦長の写真を撮影するにはスマートフォンを回転させてください","dynamicFlows.ControlFeedback.maxLength":"{maxLength}文字以下で入力してください。","dynamicFlows.ControlFeedback.maximum":"{maximum}以下の数字を入力してください。","dynamicFlows.ControlFeedback.maximumDate":"{maximum}またはそれ以前の日付を入力してください。","dynamicFlows.ControlFeedback.minLength":"{minLength}文字以上で入力してください。","dynamicFlows.ControlFeedback.minimum":"{minimum}以上の数字を入力してください。","dynamicFlows.ControlFeedback.minimumDate":"{minimum}またはそれ以降の日付を入力してください。","dynamicFlows.ControlFeedback.pattern":"正しい形式で入力してください。","dynamicFlows.ControlFeedback.patternDate":"正しい形式で日付を入力してください。","dynamicFlows.ControlFeedback.required":"この項目は入力必須です。","dynamicFlows.ControlFeedback.type":"不正なタイプ","dynamicFlows.DefaultErrorMessages.required":"この項目は入力必須です。","dynamicFlows.DynamicExternal.retryTitle":"ウィンドウをもう一度開く","dynamicFlows.DynamicParagraph.copied":"クリップボードへコピーしました","dynamicFlows.DynamicParagraph.copy":"コピーする","dynamicFlows.ErrorBoundary.errorAlert":"エラーが発生しました。","dynamicFlows.ErrorBoundary.retry":"やり直す","dynamicFlows.ExternalConfirmation.cancel":"キャンセルする","dynamicFlows.ExternalConfirmation.description":"新しいブラウザタブで**{origin}**を開くことを承認してください。","dynamicFlows.ExternalConfirmation.open":"新しいタブで開く","dynamicFlows.ExternalConfirmation.title":"承認してください","dynamicFlows.FileUploadSchema.maxFileSizeError":"大変申し訳ございませんが、ファイルが大きすぎます。これより小さいファイルをアップロードしてください。","dynamicFlows.FileUploadSchema.wrongFileTypeError":"そのファイル形式はサポートされていません。別のファイルをアップロードしてください。","dynamicFlows.Help.ariaLabel":"詳細はこちらをクリックしてください。","dynamicFlows.MultiSelect.summary":"{first}とその他{count}","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"大変申し訳ございませんが、ファイルが大きすぎます。これより小さいファイルをアップロードしてください。","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"{maxItems}個以下のファイルをアップロードしてください。","dynamicFlows.MultipleFileUploadSchema.minItemsError":"{minItems}個以上のファイルをアップロードしてください。","dynamicFlows.PersistAsyncSchema.genericError":"問題が発生しました。再度お試しください。","dynamicFlows.ReadOnlySchema.no":"いいえ","dynamicFlows.ReadOnlySchema.yes":"はい","dynamicFlows.SearchLayout.loading":"読み込み中…"},pl:{"dynamicFlows.ArraySchema.addItem":"Zapisz","dynamicFlows.ArraySchema.addItemTitle":"Dodaj pozycję","dynamicFlows.ArraySchema.editItem":"Zapisz","dynamicFlows.ArraySchema.maxItemsError":"Prosimy dodać maksymalnie {maxItems}.","dynamicFlows.ArraySchema.minItemsError":"Prosimy dodać co najmniej {minItems}.","dynamicFlows.ArraySchema.removeItem":"Usuń","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Spr\xf3buj ponownie","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Sprawdź połączenie i spr\xf3buj ponownie.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Nie możemy uzyskać dostępu do Twojego aparatu","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Przeglądarka, kt\xf3rej używasz, nie obsługuje aparatu. Wypr\xf3buj inną przeglądarkę lub urządzenie albo pobierz naszą aplikację mobilną.","dynamicFlows.CameraCapture.CameraNotSupported.title":"Aparat nie jest obsługiwany","dynamicFlows.CameraCapture.NoCameraAccess.action":"Włącz dostęp do aparatu","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Włącz dostęp do aparatu w ustawieniach przeglądarki, żeby rozpocząć ponownie.","dynamicFlows.CameraCapture.NoCameraAccess.title":"Nie możemy uzyskać dostępu do Twojego aparatu","dynamicFlows.CameraCapture.reviewInstructions":"Czy Twoje zdjęcie jest wyraźne, czytelne i kompletne?","dynamicFlows.CameraCapture.reviewRetry":"Nie, spr\xf3buj ponownie","dynamicFlows.CameraCapture.reviewSubmit":"Tak, prześlij","dynamicFlows.CameraCapture.rotatePhone.text":"Obr\xf3ć sw\xf3j telefon do widoku pionowego, żeby zrobić zdjęcie","dynamicFlows.ControlFeedback.maxLength":"Prosimy wprowadzić do {maxLength} znak\xf3w.","dynamicFlows.ControlFeedback.maximum":"Wprowadź liczbę r\xf3wną lub mniejszą niż {maximum}.","dynamicFlows.ControlFeedback.maximumDate":"Wprowadź datę nie p\xf3źniejszą niż {maximum}.","dynamicFlows.ControlFeedback.minLength":"Proszę wpisać co najmniej {minLength} znak\xf3w.","dynamicFlows.ControlFeedback.minimum":"Wprowadź liczbę r\xf3wną lub większą niż {minimum}.","dynamicFlows.ControlFeedback.minimumDate":"Wprowadź datę nie wcześniejszą niż {minimum}.","dynamicFlows.ControlFeedback.pattern":"Wprowadź tę wartość w prawidłowym formacie.","dynamicFlows.ControlFeedback.patternDate":"Wprowadź datę w prawidłowym formacie.","dynamicFlows.ControlFeedback.required":"Proszę wypełnić to pole.","dynamicFlows.ControlFeedback.type":"Nieprawidłowy typ","dynamicFlows.DefaultErrorMessages.required":"Proszę wypełnić to pole.","dynamicFlows.DynamicExternal.retryTitle":"Otw\xf3rz okno ponownie","dynamicFlows.DynamicParagraph.copied":"Skopiowano do schowka","dynamicFlows.DynamicParagraph.copy":"Kopiuj","dynamicFlows.ErrorBoundary.errorAlert":"Coś poszło nie tak.","dynamicFlows.ErrorBoundary.retry":"Spr\xf3buj ponownie","dynamicFlows.ExternalConfirmation.cancel":"Anuluj","dynamicFlows.ExternalConfirmation.description":"Prosimy potwierdzić, że chcesz otworzyć **{origin}** w nowej zakładce przeglądarki.","dynamicFlows.ExternalConfirmation.open":"Otw\xf3rz w nowej zakładce","dynamicFlows.ExternalConfirmation.title":"Potwierdź","dynamicFlows.FileUploadSchema.maxFileSizeError":"Przepraszamy, ten plik jest zbyt duży. Prześlij mniejszy plik.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Przepraszamy, ten format pliku nie jest obsługiwany. Prosimy przesłać inny plik.","dynamicFlows.Help.ariaLabel":"Kliknij tutaj, żeby uzyskać więcej informacji.","dynamicFlows.MultiSelect.summary":"{first} oraz {count} więcej","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Przepraszamy, ten plik jest zbyt duży. Prześlij mniejszy plik.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Prześlij do {maxItems} plik\xf3w.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Prześlij co najmniej następującą liczbę plik\xf3w: {minItems}.","dynamicFlows.PersistAsyncSchema.genericError":"Wystąpił błąd, prosimy spr\xf3bować ponownie.","dynamicFlows.ReadOnlySchema.no":"Nie","dynamicFlows.ReadOnlySchema.yes":"Tak","dynamicFlows.SearchLayout.loading":"Ładowanie..."},pt:{"dynamicFlows.ArraySchema.addItem":"Salvar","dynamicFlows.ArraySchema.addItemTitle":"Adicionar item","dynamicFlows.ArraySchema.editItem":"Salvar","dynamicFlows.ArraySchema.maxItemsError":"Adicione {maxItems} ou menos.","dynamicFlows.ArraySchema.minItemsError":"Adicione pelo menos {minItems}.","dynamicFlows.ArraySchema.removeItem":"Remover","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Tentar novamente","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Verifique se a c\xe2mera est\xe1 conectada e tente novamente.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"N\xe3o temos acesso \xe0 sua c\xe2mera","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"O navegador que voc\xea est\xe1 usando n\xe3o permite o uso da c\xe2mera. Por favor, tente com outro navegador ou computador, ou baixe o nosso aplicativo","dynamicFlows.CameraCapture.CameraNotSupported.title":"C\xe2mera indispon\xedvel","dynamicFlows.CameraCapture.NoCameraAccess.action":"Permitir acesso \xe0 c\xe2mera","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Ative o acesso \xe0 c\xe2mera nas configura\xe7\xf5es do navegador para continuar.","dynamicFlows.CameraCapture.NoCameraAccess.title":"N\xe3o temos acesso \xe0 sua c\xe2mera","dynamicFlows.CameraCapture.reviewInstructions":"A sua foto est\xe1 clara, leg\xedvel e aparece por inteiro?","dynamicFlows.CameraCapture.reviewRetry":"N\xe3o, tentar novamente","dynamicFlows.CameraCapture.reviewSubmit":"Sim, enviar","dynamicFlows.CameraCapture.rotatePhone.text":"Gire o telefone para o modo retrato para tirar uma foto","dynamicFlows.ControlFeedback.maxLength":"Por favor, insira {maxLength} caracteres ou menos.","dynamicFlows.ControlFeedback.maximum":"Por favor, insira um n\xfamero que seja {maximum} ou menos.","dynamicFlows.ControlFeedback.maximumDate":"Por favor, insira uma data que seja em ou antes de {maximum}.","dynamicFlows.ControlFeedback.minLength":"Por favor, insira pelo menos {minLength} caracteres.","dynamicFlows.ControlFeedback.minimum":"Por favor, insira um n\xfamero que seja {minimum} ou mais.","dynamicFlows.ControlFeedback.minimumDate":"Por favor, insira uma data que seja em ou ap\xf3s {minimum}.","dynamicFlows.ControlFeedback.pattern":"Por favor, insira essa informa\xe7\xe3o no formato correto.","dynamicFlows.ControlFeedback.patternDate":"Por favor, insira a data no formato correto.","dynamicFlows.ControlFeedback.required":"Por favor, preencha o campo.","dynamicFlows.ControlFeedback.type":"Tipo incorreto","dynamicFlows.DefaultErrorMessages.required":"Por favor, preencha o campo.","dynamicFlows.DynamicExternal.retryTitle":"Reabrir janela","dynamicFlows.DynamicParagraph.copied":"Copiado","dynamicFlows.DynamicParagraph.copy":"Copiar","dynamicFlows.ErrorBoundary.errorAlert":"Algo deu errado.","dynamicFlows.ErrorBoundary.retry":"Tentar novamente","dynamicFlows.ExternalConfirmation.cancel":"Cancelar","dynamicFlows.ExternalConfirmation.description":"Por favor, confirme que deseja abrir * *{origin}* * em uma nova aba do navegador.","dynamicFlows.ExternalConfirmation.open":"Abrir em uma nova aba","dynamicFlows.ExternalConfirmation.title":"Por favor, confirme","dynamicFlows.FileUploadSchema.maxFileSizeError":"Este arquivo \xe9 muito grande. Por favor, envie um arquivo menor.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Lamentamos, mas este formato de arquivo n\xe3o \xe9 aceito. Envie um arquivo diferente.","dynamicFlows.Help.ariaLabel":"Clique aqui para mais informa\xe7\xf5es.","dynamicFlows.MultiSelect.summary":"{first} e mais {count} ","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Este arquivo \xe9 muito grande. Por favor, envie um arquivo menor.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Por favor, envie {maxItems} ou menos arquivos.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Por favor, envie pelo menos {minItems} arquivo(s).","dynamicFlows.PersistAsyncSchema.genericError":"Ocorreu um erro. Por favor, tente novamente.","dynamicFlows.ReadOnlySchema.no":"N\xe3o","dynamicFlows.ReadOnlySchema.yes":"Sim","dynamicFlows.SearchLayout.loading":"Carregando..."},ro:{"dynamicFlows.ArraySchema.addItem":"Salvare","dynamicFlows.ArraySchema.addItemTitle":"Adaugă produs","dynamicFlows.ArraySchema.editItem":"Salvare","dynamicFlows.ArraySchema.maxItemsError":"Te rugăm să adaugi {maxItems} sau mai puține.","dynamicFlows.ArraySchema.minItemsError":"Te rugăm să adaugi cel puțin {minItems}.","dynamicFlows.ArraySchema.removeItem":"Elimină","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"\xcencearcă din nou","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Te rugăm să verifici dacă este conectată și să \xeencerci din nou.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Nu \xeeți putem accesa camera","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Browserul pe care \xeel folosești nu poate folosi o cameră foto. Te rugăm să \xeencerci alt browser, alt dispozitiv sau să descarci aplicația noastră.","dynamicFlows.CameraCapture.CameraNotSupported.title":"Camera nu este acceptată","dynamicFlows.CameraCapture.NoCameraAccess.action":"Permite acces la cameră","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Permite accesul la camera foto \xeen setările browserului tău, pentru a re\xeencepe.","dynamicFlows.CameraCapture.NoCameraAccess.title":"Nu \xeeți putem accesa camera","dynamicFlows.CameraCapture.reviewInstructions":"Imaginea ta este clară, lizibilă și completă?","dynamicFlows.CameraCapture.reviewRetry":"Nu, \xeencearcă din nou","dynamicFlows.CameraCapture.reviewSubmit":"Da, trimite","dynamicFlows.CameraCapture.rotatePhone.text":"Rotește-ți telefonul \xeen modul portret pentru a face o fotografie","dynamicFlows.ControlFeedback.maxLength":"Te rugăm să introduci {maxLength} sau mai puține caractere.","dynamicFlows.ControlFeedback.maximum":"Te rugăm să introduci un număr egal cu {maximum} sau mai mic.","dynamicFlows.ControlFeedback.maximumDate":"Te rugăm să introduci o dată de \xeenainte de sau egală cu {maximum}.","dynamicFlows.ControlFeedback.minLength":"Te rugăm să introduci cel puțin {minLength} caractere.","dynamicFlows.ControlFeedback.minimum":"Te rugăm să introduci un număr egal cu {minimum} sau mai mare.","dynamicFlows.ControlFeedback.minimumDate":"Te rugăm să introduci o dată de după sau egală cu {minimum}.","dynamicFlows.ControlFeedback.pattern":"Te rugăm să introduci acest lucru \xeen formatul corect.","dynamicFlows.ControlFeedback.patternDate":"Te rugăm să introduci o dată \xeen formatul corect.","dynamicFlows.ControlFeedback.required":"Te rugăm să completezi acest spațiu.","dynamicFlows.ControlFeedback.type":"Tip incorect","dynamicFlows.DefaultErrorMessages.required":"Te rugăm să completezi acest spațiu.","dynamicFlows.DynamicExternal.retryTitle":"Redeschide fereastra","dynamicFlows.DynamicParagraph.copied":"Copiat \xeen clipboard","dynamicFlows.DynamicParagraph.copy":"Copiază","dynamicFlows.ErrorBoundary.errorAlert":"Ceva nu a mers bine.","dynamicFlows.ErrorBoundary.retry":"\xcencearcă din nou","dynamicFlows.ExternalConfirmation.cancel":"Anulează","dynamicFlows.ExternalConfirmation.description":"Te rugăm să confirmi că vrei să deschizi **{origin}** \xeentr-o nouă filă a browserului.","dynamicFlows.ExternalConfirmation.open":"Deschide \xeentr-o filă nouă","dynamicFlows.ExternalConfirmation.title":"Te rugăm să confirmi","dynamicFlows.FileUploadSchema.maxFileSizeError":"Ne pare rău, acel fișier este prea mare. Te rugăm să \xeencarci un fișier mai mic.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Ne pare rău, acest format de fișier nu este acceptat. Te rugăm să \xeencarci un alt fișier.","dynamicFlows.Help.ariaLabel":"Dă click aici pentru mai multe informații.","dynamicFlows.MultiSelect.summary":"{first} și \xeencă {count}","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Ne pare rău, acel fișier este prea mare. Te rugăm să \xeencarci un fișier mai mic.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Te rugăm să \xeencarci {maxItems} fișiere sau mai puține.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Te rugăm să \xeencarci cel puțin {minItems} fișier(e).","dynamicFlows.PersistAsyncSchema.genericError":"Ceva nu a mers bine, te rugăm să \xeencerci din nou.","dynamicFlows.ReadOnlySchema.no":"Nu","dynamicFlows.ReadOnlySchema.yes":"Da","dynamicFlows.SearchLayout.loading":"Se \xeencarcă..."},ru:{"dynamicFlows.ArraySchema.addItem":"Сохранить","dynamicFlows.ArraySchema.addItemTitle":"Добавить пункт","dynamicFlows.ArraySchema.editItem":"Сохранить","dynamicFlows.ArraySchema.maxItemsError":"Пожалуйста, добавьте {maxItems} или меньше.","dynamicFlows.ArraySchema.minItemsError":"Пожалуйста, добавьте по крайней мере {minItems}.","dynamicFlows.ArraySchema.removeItem":"Удалить","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Повторить попытку","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"Пожалуйста, проверьте, подключена ли камера, и повторите попытку.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Мы не можем получить доступ к вашей камере","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Используемый вами браузер не поддерживает камеру. Попробуйте другой браузер или устройство, или скачайте наше приложение.","dynamicFlows.CameraCapture.CameraNotSupported.title":"Камера не поддерживается","dynamicFlows.CameraCapture.NoCameraAccess.action":"Разрешить доступ к камере","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Разрешите доступ к камере в настройках вашего браузера, чтобы попробовать снова.","dynamicFlows.CameraCapture.NoCameraAccess.title":"Мы не можем получить доступ к вашей камере","dynamicFlows.CameraCapture.reviewInstructions":"Ваша фотография четкая, легко читаемая и не обрезана?","dynamicFlows.CameraCapture.reviewRetry":"Нет, попробовать еще раз","dynamicFlows.CameraCapture.reviewSubmit":"Да, отправить","dynamicFlows.CameraCapture.rotatePhone.text":"Поверните телефон в портретный режим, чтобы сделать фотографию","dynamicFlows.ControlFeedback.maxLength":"Пожалуйста, введите {maxLength} символов или меньше.","dynamicFlows.ControlFeedback.maximum":"Пожалуйста, введите число, равное {maximum} или меньше.","dynamicFlows.ControlFeedback.maximumDate":"Пожалуйста, введите дату, равную {maximum} или более раннюю.","dynamicFlows.ControlFeedback.minLength":"Пожалуйста, введите по крайней мере {minLength} символа(-ов).","dynamicFlows.ControlFeedback.minimum":"Пожалуйста, введите число, равное {minimum} или больше.","dynamicFlows.ControlFeedback.minimumDate":"Пожалуйста, введите дату, равную {minimum} или более позднюю.","dynamicFlows.ControlFeedback.pattern":"Пожалуйста, введите это в правильном формате.","dynamicFlows.ControlFeedback.patternDate":"Пожалуйста, введите дату в правильном формате.","dynamicFlows.ControlFeedback.required":"Пожалуйста, заполните данное поле.","dynamicFlows.ControlFeedback.type":"Неверный тип","dynamicFlows.DefaultErrorMessages.required":"Пожалуйста, заполните данное поле.","dynamicFlows.DynamicExternal.retryTitle":"Повторно открыть окно","dynamicFlows.DynamicParagraph.copied":"Скопировано в буфер обмена","dynamicFlows.DynamicParagraph.copy":"Копировать","dynamicFlows.ErrorBoundary.errorAlert":"Что-то пошло не так.","dynamicFlows.ErrorBoundary.retry":"Повторить попытку","dynamicFlows.ExternalConfirmation.cancel":"Отменить","dynamicFlows.ExternalConfirmation.description":"Пожалуйста, подтвердите, что вы хотите открыть **{origin}** в новой вкладке браузера.","dynamicFlows.ExternalConfirmation.open":"Открыть в новой вкладке","dynamicFlows.ExternalConfirmation.title":"Пожалуйста, подтвердите","dynamicFlows.FileUploadSchema.maxFileSizeError":"Извините, файл слишком большой. Пожалуйста, загрузите файл меньшего размера.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"Этот формат файла не поддерживается. Загрузите другой файл.","dynamicFlows.Help.ariaLabel":"Нажмите здесь для получения дополнительной информации.","dynamicFlows.MultiSelect.summary":"{first} и еще {count} других","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"Извините, файл слишком большой. Пожалуйста, загрузите файл меньшего размера.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"Пожалуйста, загрузите не более {maxItems} файлов.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"Пожалуйста, загрузите по крайней мере {minItems} файл(-а/ов).","dynamicFlows.PersistAsyncSchema.genericError":"Что-то пошло не так, пожалуйста, попробуйте еще раз.","dynamicFlows.ReadOnlySchema.no":"Нет","dynamicFlows.ReadOnlySchema.yes":"Да","dynamicFlows.SearchLayout.loading":"Загрузка..."},th:{"dynamicFlows.ArraySchema.addItem":"บันทึก","dynamicFlows.ArraySchema.addItemTitle":"เพิ่มรายการ","dynamicFlows.ArraySchema.editItem":"บันทึก","dynamicFlows.ArraySchema.maxItemsError":"โปรดเพิ่ม {maxItems} หรือน้อยกว่า","dynamicFlows.ArraySchema.minItemsError":"โปรดเพิ่มอย่างน้อย {minItems}","dynamicFlows.ArraySchema.removeItem":"ลบ","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"ลองอีกครั้ง","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"โปรดตรวจสอบการเชื่อมต่อใหม่แล้วลองอีกครั้ง","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"เราไม่สามารถเข้าถึงกล้องของคุณได้","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"เบราว์เซอร์ที่คุณใช้ไม่รองรับกล้อง ให้ลองใช้เบราว์เซอร์และอุปกรณ์อื่น หรือดาวน์โหลดแอปมือถือของเราดู","dynamicFlows.CameraCapture.CameraNotSupported.title":"ไม่รองรับกล้อง","dynamicFlows.CameraCapture.NoCameraAccess.action":"เปิดใช้การเข้าถึงกล้อง","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"เปิดใช้งานการเข้าถึงกล้องในการตั้งค่าเบราว์เซอร์เพื่อเริ่มต้นใหม่อีกครั้ง","dynamicFlows.CameraCapture.NoCameraAccess.title":"เราไม่สามารถเข้าถึงกล้องของคุณได้","dynamicFlows.CameraCapture.reviewInstructions":"รูปภาพของคุณชัดเจน อ่านได้ และครบถ้วนหรือไม่","dynamicFlows.CameraCapture.reviewRetry":"ไม่ ลองอีกทั้ง","dynamicFlows.CameraCapture.reviewSubmit":"ใช่ ส่งเลย","dynamicFlows.CameraCapture.rotatePhone.text":"หมุนโทรศัพท์ของคุณให้เป็นมุมแนวตั้งแล้วถ่ายรูป","dynamicFlows.ControlFeedback.maxLength":"โปรดป้อน {maxLength} อักขระหรือน้อยกว่า","dynamicFlows.ControlFeedback.maximum":"โปรดป้อนตัวเลข {maximum} หรือน้อยกว่า","dynamicFlows.ControlFeedback.maximumDate":"โปรดป้อนวันที่ที่อยู่ตรงพอดีหรือก่อน {maximum}","dynamicFlows.ControlFeedback.minLength":"โปรดป้อนอักขระอย่างน้อย {minLength} ตัว","dynamicFlows.ControlFeedback.minimum":"โปรดป้อนตัวเลข {minimum} หรือมากกว่า","dynamicFlows.ControlFeedback.minimumDate":"โปรดป้อนวันที่ที่อยู่ตรงพอดีหรือหลัง {minimum}","dynamicFlows.ControlFeedback.pattern":"โปรดใส่ในรูปแบบที่ถูกต้อง","dynamicFlows.ControlFeedback.patternDate":"โปรดป้อนวันที่ในรูปแบบที่ถูกต้อง","dynamicFlows.ControlFeedback.required":"โปรดใส่ข้อมูลในช่องนี้","dynamicFlows.ControlFeedback.type":"ประเภทไม่ถูกต้อง","dynamicFlows.DefaultErrorMessages.required":"โปรดใส่ข้อมูลในช่องนี้","dynamicFlows.DynamicExternal.retryTitle":"เปิดหน้าต่างอีกครั้ง","dynamicFlows.DynamicParagraph.copied":"คัดลอกไปยังคลิปบอร์ด","dynamicFlows.DynamicParagraph.copy":"คัดลอก","dynamicFlows.ErrorBoundary.errorAlert":"เกิดข้อผิดพลาดบางอย่างขึ้น","dynamicFlows.ErrorBoundary.retry":"ลองอีกครั้ง","dynamicFlows.ExternalConfirmation.cancel":"ยกเลิก","dynamicFlows.ExternalConfirmation.description":"โปรดยืนยันว่าคุณต้องการเปิด **{origin}** เป็นแท็บใหม่ในเบราว์เซอร์","dynamicFlows.ExternalConfirmation.open":"เปิดในแท็บใหม่","dynamicFlows.ExternalConfirmation.title":"โปรดยืนยัน","dynamicFlows.FileUploadSchema.maxFileSizeError":"ขออภัย ไฟล์นั้นใหญ่เกินไป โปรดอัปโหลดไฟล์ที่มีขนาดเล็กลง","dynamicFlows.FileUploadSchema.wrongFileTypeError":"ขออภัย ระบบไม่รองรับรูปแบบไฟล์ดังกล่าว โปรดอัปโหลดไฟล์อื่น","dynamicFlows.Help.ariaLabel":"คลิกที่นี่เพื่อดูข้อมูลเพิ่มเติม","dynamicFlows.MultiSelect.summary":"{first} และอีก {count}","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"ขออภัย ไฟล์นั้นใหญ่เกินไป โปรดอัปโหลดไฟล์ที่มีขนาดเล็กลง","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"โปรดอัปโหลด {maxItems} ไฟล์หรือน้อยกว่า","dynamicFlows.MultipleFileUploadSchema.minItemsError":"โปรดอัปโหลดอย่างน้อย {minItems} ไฟล์","dynamicFlows.PersistAsyncSchema.genericError":"เกิดข้อผิดพลาดบางอย่าง โปรดลองอีกครั้ง","dynamicFlows.ReadOnlySchema.no":"ไม่ใช่","dynamicFlows.ReadOnlySchema.yes":"ใช่","dynamicFlows.SearchLayout.loading":"กำลังโหลด..."},tr:{"dynamicFlows.ArraySchema.addItem":"Kaydet","dynamicFlows.ArraySchema.addItemTitle":"\xd6ge ekle","dynamicFlows.ArraySchema.editItem":"Kaydet","dynamicFlows.ArraySchema.maxItemsError":"L\xfctfen {maxItems} veya daha az ekleme yapın","dynamicFlows.ArraySchema.minItemsError":"L\xfctfen en az {minItems} ekleme yapın.","dynamicFlows.ArraySchema.removeItem":"Kaldır","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"Tekrar deneyin","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"L\xfctfen bağlı olup olmadığını kontrol edip tekrar deneyin.","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"Kameranıza erişemiyoruz","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"Kullandığınız tarayıcıda kamera desteği yok. Farklı bir tarayıcı / cihaz deneyin veya mobil uygulamamızı indirin.","dynamicFlows.CameraCapture.CameraNotSupported.title":"Kamera desteklenmiyor","dynamicFlows.CameraCapture.NoCameraAccess.action":"Kamera erişimi verin","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"Tekrar başlamak i\xe7in tarayıcınızın ayarlarında kamera erişimini etkinleştirin.","dynamicFlows.CameraCapture.NoCameraAccess.title":"Kameranıza erişemiyoruz","dynamicFlows.CameraCapture.reviewInstructions":"Fotoğrafınız net, okunaklı ve eksiksiz mi?","dynamicFlows.CameraCapture.reviewRetry":"Hayır, tekrar dene","dynamicFlows.CameraCapture.reviewSubmit":"Evet, g\xf6nder","dynamicFlows.CameraCapture.rotatePhone.text":"Fotoğraf \xe7ekmek i\xe7in telefonunuzu dik pozisyonda tutun","dynamicFlows.ControlFeedback.maxLength":"L\xfctfen {maxLength} veya daha az karakter girin.","dynamicFlows.ControlFeedback.maximum":"L\xfctfen {maximum} veya daha d\xfcş\xfck bir sayı girin.","dynamicFlows.ControlFeedback.maximumDate":"L\xfctfen {maximum} veya daha erken bir tarih girin.","dynamicFlows.ControlFeedback.minLength":"En az {minLength} karakter girebilirsiniz.","dynamicFlows.ControlFeedback.minimum":"L\xfctfen {minimum} veya daha y\xfcksek bir sayı girin.","dynamicFlows.ControlFeedback.minimumDate":"L\xfctfen {minimum} veya daha ge\xe7 bir tarih girin.","dynamicFlows.ControlFeedback.pattern":"Yanlış bi\xe7im","dynamicFlows.ControlFeedback.patternDate":"L\xfctfen tarihi doğru bi\xe7imde girin.","dynamicFlows.ControlFeedback.required":"L\xfctfen bu alanı doldurun.","dynamicFlows.ControlFeedback.type":"Ge\xe7ersiz se\xe7im","dynamicFlows.DefaultErrorMessages.required":"L\xfctfen bu alanı doldurun.","dynamicFlows.DynamicExternal.retryTitle":"Pencereyi yeniden a\xe7","dynamicFlows.DynamicParagraph.copied":"Panoya kopyalandı","dynamicFlows.DynamicParagraph.copy":"Kopyala","dynamicFlows.ErrorBoundary.errorAlert":"Bir sorun oluştu.","dynamicFlows.ErrorBoundary.retry":"Tekrar dene","dynamicFlows.ExternalConfirmation.cancel":"İptal edin","dynamicFlows.ExternalConfirmation.description":"L\xfctfen yeni bir tarayıcı sekmesinde **{origin}** a\xe7mak istediğinizi onaylayın.","dynamicFlows.ExternalConfirmation.open":"Yeni sekmede a\xe7","dynamicFlows.ExternalConfirmation.title":"L\xfctfen onaylayın","dynamicFlows.FileUploadSchema.maxFileSizeError":"\xdczg\xfcn\xfcz, bu dosya \xe7ok b\xfcy\xfck. L\xfctfen daha k\xfc\xe7\xfck bir dosya y\xfckleyin.","dynamicFlows.FileUploadSchema.wrongFileTypeError":"\xdczg\xfcn\xfcz, bu dosya bi\xe7imi desteklenmiyor. L\xfctfen farklı bir dosya y\xfckleyin.","dynamicFlows.Help.ariaLabel":"Ayrıntılar i\xe7in tıklayın.","dynamicFlows.MultiSelect.summary":"{first} ve {count} daha","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"\xdczg\xfcn\xfcz, bu dosya \xe7ok b\xfcy\xfck. L\xfctfen daha k\xfc\xe7\xfck bir dosya y\xfckleyin.","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"L\xfctfen {maxItems} veya daha az dosya y\xfckleyin.","dynamicFlows.MultipleFileUploadSchema.minItemsError":"L\xfctfen en az {minItems} dosya y\xfckleyin.","dynamicFlows.PersistAsyncSchema.genericError":"Bir şeyler ters gitti, l\xfctfen tekrar deneyin.","dynamicFlows.ReadOnlySchema.no":"Hayır","dynamicFlows.ReadOnlySchema.yes":"Evet","dynamicFlows.SearchLayout.loading":"Y\xfckleniyor..."},zh:eR,"zh-CN":eR,"zh-HK":{"dynamicFlows.ArraySchema.addItem":"儲存","dynamicFlows.ArraySchema.addItemTitle":"添加項目","dynamicFlows.ArraySchema.editItem":"儲存","dynamicFlows.ArraySchema.maxItemsError":"請添加不超過{maxItems}項。","dynamicFlows.ArraySchema.minItemsError":"請至少添加{minItems}項。","dynamicFlows.ArraySchema.removeItem":"移除","dynamicFlows.CameraCapture.CameraConnectionIssue.action":"再試一次","dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph":"請檢查連線狀態，然後再試一次。","dynamicFlows.CameraCapture.CameraConnectionIssue.title":"我們無法取用你的相機","dynamicFlows.CameraCapture.CameraNotSupported.paragraph":"你目前使用的瀏覽器不支持相機。請嘗試使用其他瀏覽器或其他裝置，或者你可以下載我們的應用程式。","dynamicFlows.CameraCapture.CameraNotSupported.title":"不支持相機","dynamicFlows.CameraCapture.NoCameraAccess.action":"允許取用相機","dynamicFlows.CameraCapture.NoCameraAccess.paragraph":"你可以在瀏覽器的設定中開啟相機存取權限。","dynamicFlows.CameraCapture.NoCameraAccess.title":"我們無法取用你的相機","dynamicFlows.CameraCapture.reviewInstructions":"你的照片是否完整、清晰及可讀？","dynamicFlows.CameraCapture.reviewRetry":"否，再試一次","dynamicFlows.CameraCapture.reviewSubmit":"是，提交","dynamicFlows.CameraCapture.rotatePhone.text":"將手機旋轉至垂直畫面以拍照","dynamicFlows.ControlFeedback.maxLength":"請輸入最多{maxLength}個字元。","dynamicFlows.ControlFeedback.maximum":"請輸入一個小於或等於{maximum}的數字。","dynamicFlows.ControlFeedback.maximumDate":"請輸入{maximum}或之前的日期。","dynamicFlows.ControlFeedback.minLength":"請輸入至少{minLength}個字元。","dynamicFlows.ControlFeedback.minimum":"請輸入一個大於或等於{minimum}的數字。","dynamicFlows.ControlFeedback.minimumDate":"請輸入{minimum}或之後的日期。","dynamicFlows.ControlFeedback.pattern":"請以正確格式輸入内容。","dynamicFlows.ControlFeedback.patternDate":"請以正確格式輸入日期。","dynamicFlows.ControlFeedback.required":"請填寫此欄位。","dynamicFlows.ControlFeedback.type":"錯誤的類型","dynamicFlows.DefaultErrorMessages.required":"請填寫此欄位。","dynamicFlows.DynamicExternal.retryTitle":"重新打開視窗","dynamicFlows.DynamicParagraph.copied":"複製到剪貼板","dynamicFlows.DynamicParagraph.copy":"複製","dynamicFlows.ErrorBoundary.errorAlert":"出了些問題。","dynamicFlows.ErrorBoundary.retry":"重試","dynamicFlows.ExternalConfirmation.cancel":"取消","dynamicFlows.ExternalConfirmation.description":"請確認你是否要在瀏覽器的新分頁打開**{origin}**。","dynamicFlows.ExternalConfirmation.open":"在新分頁中開啟","dynamicFlows.ExternalConfirmation.title":"請確認","dynamicFlows.FileUploadSchema.maxFileSizeError":"抱歉，該檔案太大。請上載一個較小的檔案。","dynamicFlows.FileUploadSchema.wrongFileTypeError":"抱歉，系統不支援該檔案。請上載其他檔案。","dynamicFlows.Help.ariaLabel":"按此查看詳情。","dynamicFlows.MultiSelect.summary":"{first}和其他{count}項","dynamicFlows.MultipleFileUploadSchema.maxFileSizeError":"抱歉，該檔案太大。請上載一個較小的檔案。","dynamicFlows.MultipleFileUploadSchema.maxItemsError":"請不要上載超過{maxItems}個檔案。","dynamicFlows.MultipleFileUploadSchema.minItemsError":"請上載至少{minItems}個檔案。","dynamicFlows.PersistAsyncSchema.genericError":"出現了問題，請再試一次。","dynamicFlows.ReadOnlySchema.no":"否","dynamicFlows.ReadOnlySchema.yes":"是","dynamicFlows.SearchLayout.loading":"載入中…"}},eV=(0,w.YK)({genericErrorRetryHint:{id:"dynamicFlows.PersistAsyncSchema.genericError",defaultMessage:"Something went wrong, please try again.",description:"Generic error message for persist async schema"},genericError:{id:"dynamicFlows.ErrorBoundary.errorAlert",defaultMessage:"Something went wrong.",description:"Generic error message for when something has gone wrong."},retry:{id:"dynamicFlows.ErrorBoundary.retry",defaultMessage:"Retry",description:"Usually this follows the generic error and contains a link."}});function e$({onDismiss:e}){let{formatMessage:t}=(0,b.A)();return(0,g.jsx)(f.A,{action:{text:t(eV.retry),href:window.location.href},message:t(eV.genericError),type:v.g.NEGATIVE,className:"m-b-3",onDismiss:e})}var eU=()=>{},eB=class extends y.Component{constructor(e){super(e),this.handleErrorReset=()=>{this.setState({hasError:!1,isFatalError:!1})},this.state={hasError:!1,isFatalError:!1}}static getDerivedStateFromError(){return{hasError:!0,isFatalError:!0}}componentDidCatch(e){let{onError:t=eU}=this.props;t(e)}render(){let{children:e}=this.props,{hasError:t,isFatalError:a}=this.state;return(0,g.jsxs)(g.Fragment,{children:[t&&(0,g.jsx)(e$,{onDismiss:this.handleErrorReset}),!a&&e]})}},eZ={canRenderType:"container",render:({children:e})=>(0,g.jsx)(g.Fragment,{children:e})},eq=e=>"string"==typeof e,eH=e=>"number"==typeof e&&!Number.isNaN(e),eK=e=>eH(e)&&Math.floor(e)===e,eW=e=>"boolean"==typeof e,eY=e=>!eQ(e)&&(null==e?void 0:e.constructor)===Object,eG=e=>Array.isArray(e),eJ=e=>null===e,eX=e=>void 0===e,eQ=e=>eJ(e)||eX(e),e0=e=>e instanceof File,e1=e=>"getChildren"in e&&"function"==typeof e.getChildren,e2=e=>Object.hasOwnProperty.call(e,"startComponents")&&Object.hasOwnProperty.call(e,"endComponents"),e4=e=>"hidden"in e&&e.hidden,e9=e=>Object.hasOwnProperty.call(e,"editableComponent"),e3=e=>null!=e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof File),e5=e=>Array.isArray(e),e6=e=>null!=e&&"object"==typeof e&&!Array.isArray(e),e8=e=>Array.isArray(e),e7=e=>"allOf"in e&&!eQ(e.allOf),te=e=>"type"in e&&"boolean"===e.type,tt=e=>"type"in e&&"blob"===e.type,ta=e=>"const"in e&&void 0!==e.const,tr=e=>"type"in e&&"integer"===e.type,tn=e=>"type"in e&&"number"===e.type,ti=e=>"type"in e&&"object"===e.type,tl=e=>"oneOf"in e&&!eQ(e.oneOf),to=e=>"items"in e&&!eQ(e.items),ts=e=>"items"in e&&eY(e.items)&&!eG(e.items),tc=e=>"items"in e&&!eY(e.items)&&eG(e.items),td=e=>"type"in e&&"string"===e.type,tu=e=>td(e)&&"base64url"===e.format,tm=e=>"persistAsync"in e&&!eQ(e.persistAsync);function tp(e,...t){let a={};return t.forEach(t=>{a[t]=e[t]}),a}var th=(e,t)=>eC(ex({type:"step"},tp(e,"back","description","error","external","loadingState","step","title","onAction","trackEvent")),{children:t}),ty=e=>tp(e,"type","callToAction","context","control","margin","markdown"),tg=(e,t)=>eC(ex({type:"form-section"},tp(e,"control","description","help","icon","image","title")),{children:t}),tf=e=>{if(e)return e.length>0?{status:"invalid",message:e[0]}:{status:"valid"}},tv=(e,t)=>{var a,r,n,i;let{autoComplete:l,control:o,description:s,disabled:c,errors:d,help:u,icon:m,id:p,image:h,placeholder:y,required:g,title:f,validationAsyncState:v,onBlur:b,onFocus:w}=e,{messages:x}=null!=v?v:{};return{type:t,autoComplete:l,control:o,description:s,disabled:c,error:null!=(a=null==x?void 0:x.error)?a:null==d?void 0:d[0],help:u,icon:m,id:p,image:h?{accessibilityDescription:null!=(r=h.accessibilityDescription)?r:h.text,uri:h.uri,url:null!=(i=null!=(n=h.uri)?n:h.url)?i:""}:void 0,label:f,placeholder:y,required:g,validationState:tb(d,v),value:e.getLocalValue(),onBlur:b.bind(e),onFocus:w.bind(e)}},tb=(e,t)=>{if(t){if(null==t?void 0:t.messages.error)return{status:"invalid",message:null==t?void 0:t.messages.error};if(null==t?void 0:t.messages.success)return{status:"valid",message:null==t?void 0:t.messages.success}}return tf(e)},tw=e=>{var t;return eC(ex({},tv(e,"input-boolean")),{value:null!=(t=e.value)&&t,onChange:e.onChange.bind(e)})},tx=(e,t)=>eC(ex({},tp(e,"type","border","control","width","margin")),{children:t}),tC=e=>ex({type:"button"},tp(e,"title","control","context","disabled","margin","pinOrder","size","onClick")),tF=({bias:e,control:t,margin:a},r,n)=>({type:"columns",bias:e,control:t,margin:a,startChildren:r,endChildren:n}),tS=e=>({type:"container",children:e}),tk=e=>eC(ex({},tv(e,"input-date")),{minimumDate:e.minimumDate,maximumDate:e.maximumDate,onChange:e.onChange.bind(e)}),tj=e=>eC(ex({},tp(e,"type","control","margin","title")),{options:e.options.map(e=>{var t,a,r,{image:n}=e;return eC(ex({},eS(e,["image"])),{image:n?{accessibilityDescription:null!=(t=n.accessibilityDescription)?t:n.text,uri:n.uri,url:null!=(r=null!=(a=n.uri)?a:n.url)?r:""}:n})})}),tA=e=>tp(e,"type","control","margin"),tE=({control:e,margin:t},a)=>({type:"form",children:a,control:e,margin:t}),t_=e=>tp(e,"type","align","control","margin","size","text"),tI=()=>({type:"hidden"}),tO=e=>{var t;return eC(ex({},tp(e,"type","control","margin","size")),{accessibilityDescription:e.content.accessibilityDescription,url:null!=(t=e.content.url)?t:"",uri:e.content.uri})},tN=e=>tp(e,"type","control","items","margin","title"),tT=e=>eC(ex({},tv(e,"input-integer")),{maximum:e.maximum,minimum:e.minimum,onChange:e.onChange.bind(e)}),tL=e=>tp(e,"type","control","margin","size"),tM=e=>tp(e,"type","align","margin","content","control"),tP=({content:e,control:t,margin:a,trigger:r},n)=>({type:"modal",content:{components:n,title:e.title},control:t,margin:a,trigger:r}),tz=e=>{let{accepts:t,errorsMap:a,fileMap:r,maxSize:n,minItems:i,maxItems:l,uploadLabel:o}=e,s=Object.entries(r).map(([e,t])=>({id:e,file:t,validationState:tf(a[e])}));return eC(ex({},tv(e,"input-upload-multi")),{accepts:t,maxSize:n,minItems:i,maxItems:l,uploadLabel:o,value:s,onUpload:e.onUpload.bind(e),onDelete:e.onDelete.bind(e)})},tR=e=>eC(ex({},tv(e,"input-number")),{maximum:e.maximum,minimum:e.minimum,onChange:e.onChange.bind(e)}),tD=(e,t)=>{var a,r;return eC(ex({type:"form-section"},tp(e,"control","description","help","icon","title")),{image:e.image?eC(ex({},e.image),{url:null!=(r=null==(a=e.image)?void 0:a.url)?r:""}):void 0,children:t})},tV=e=>tp(e,"type","align","control","margin","text"),t$=(e,t,a)=>{var r,n;let{addItemTitle:i,control:l,components:o,description:s,editItemTitle:c,errors:d,icon:u,image:m,maxItems:p,minItems:h,summaryDefaults:y,title:g="",onEdit:f,onAdd:v,onSave:b,onRemove:w}=e,x=e=>{var t,a;return e.image?eC(ex({},e.image),{url:null!=(t=e.image.url)?t:""}):y.image?eC(ex({},y.image),{url:null!=(a=y.image.url)?a:""}):void 0},C=e=>{var t,a,r;return{title:null!=(t=e.title)?t:y.title,description:null!=(a=e.description)?a:y.description,icon:null!=(r=e.icon)?r:y.icon,image:x(e)}},F=o.map(e=>eC(ex({},C(e.getSummary())),{id:`${e.uid}-summary`}));return{type:"repeatable",children:t,addItemTitle:i,control:l,description:s,editableItem:a,editItemTitle:c,error:null==d?void 0:d[0],icon:u,image:m?{accessibilityDescription:null!=(r=m.accessibilityDescription)?r:m.text,uri:m.uri,url:null!=(n=m.url)?n:""}:void 0,items:F,maxItems:p,minItems:h,title:g,validationState:tf(d),onAdd:v.bind(e),onEdit:f.bind(e),onSave:b.bind(e),onRemove:w.bind(e)}},tU=e=>tp(e,"type","callToAction","control","fields","margin","title"),tB=e=>{let{uid:t,control:a,emptyMessage:r,error:n,isLoading:i,margin:l,query:o,results:s,title:c}=e,d=e.onChange.bind(e),u=tZ({emptyMessage:r,error:n,isLoading:i,query:o,results:s,onChange:d,onSelect:e.onSelect.bind(e)});return{type:"search",id:t,control:a,isLoading:i,margin:l,query:o,state:u,title:c,onChange:d}},tZ=({emptyMessage:e,error:t,isLoading:a,query:r,results:n,onChange:i,onSelect:l})=>!r||a?{type:"pending"}:t?{type:"error",onRetry:()=>i(r)}:0===n.length?{type:"noResults",message:e}:{type:"results",results:n.map(e=>{var t;return eC(ex({},e),{id:"action"===e.type?null!=(t=e.value.id)?t:e.value.$id:void 0,onClick:()=>l(e)})})},tq=(e,t)=>{var a;let{options:r,selectedIndex:n,onSelect:i}=e,l=tv(e,"input-select"),{value:o}=l;return eC(ex({},eS(l,["value"])),{options:r,selectedIndex:n,onSelect:i.bind(e),children:null!=(a=t[null!=n?n:-1])?a:null})},tH=e=>tp(e,"type","control","items","margin","title"),tK=e=>eC(ex({},tv(e,"input-text")),{displayFormat:e.displayFormat,maxLength:e.maxLength,minLength:e.minLength,onChange:e.onChange.bind(e)}),tW=e=>{let{maxItems:t,minItems:a,options:r,selectedIndices:n,onSelect:i}=e,l=tv(e,"input-multi-select"),{required:o,value:s}=l;return eC(ex({},eS(l,["required","value"])),{maxItems:t,minItems:a,options:r,selectedIndices:n,onSelect:i.bind(e)})},tY=e=>{let{accepts:t,maxSize:a}=e;return eC(ex({},tv(e,"input-upload")),{accepts:t,maxSize:a,onUpload:e.onUpload.bind(e)})},tG=(e,t)=>{var a,r;return eC(ex({type:"form-section"},tp(e,"control","description","help","icon","title")),{image:e.image?eC(ex({},e.image),{url:null!=(r=null==(a=e.image)?void 0:a.url)?r:""}):void 0,children:t})},tJ=e=>eC(ex({},tp(e,"type","callToAction","control","margin","title")),{items:e.items.map(e=>{var t,a,r,{image:n}=e;return eC(ex({},eS(e,["image"])),{image:n?{accessibilityDescription:null!=(t=null==n?void 0:n.accessibilityDescription)?t:null==n?void 0:n.text,uri:null==n?void 0:n.uri,url:null!=(r=null!=(a=null==n?void 0:n.url)?a:null==n?void 0:n.url)?r:""}:void 0})})}),tX=(e,t)=>{let{children:a,startChildren:r,endChildren:n,editableItemChildren:i}=t;if(e4(e))return tI();switch(e.type){case"step":return th(e,a);case"alert":return ty(e);case"all-of":return tg(e,a);case"boolean":return tw(e);case"box":return tx(e,a);case"button":return tC(e);case"columns":return tF(e,r,n);case"container":return tS(a);case"date":return tk(e);case"decision":return tj(e);case"divider":return tA(e);case"form":return tE(e,a);case"heading":return t_(e);case"const":return tI();case"image":return tO(e);case"instructions":return tN(e);case"integer":return tT(e);case"list":return tJ(e);case"loading-indicator":return tL(e);case"markdown":return tM(e);case"modal":return tP(e,a);case"multi-select":return tW(e);case"multi-upload":return tz(e);case"number":return tR(e);case"object":return tD(e,a);case"paragraph":return tV(e);case"repeatable":return t$(e,null!=a?a:[],i);case"review":return tU(e);case"search":return tB(e);case"select":return tq(e,null!=a?a:[]);case"status-list":return tH(e);case"text":return tK(e);case"tuple":return tG(e,a);case"upload":return tY(e);default:throw Error("Unknown component type")}},tQ=e=>{function t(t){let{type:a}=t;if("hidden"===a)return null;let r=e.find(({canRenderType:e,canRender:r=()=>!0})=>e===a&&r(t));if(!r)throw Error(`Could not find a renderer for ${a}`);return r.render(t)}let a=e=>e1(e)?e2(e)?{startChildren:e.startComponents.map(r),endChildren:e.endComponents.map(r)}:e9(e)?{children:e.components.map(r),editableItemChildren:null!==e.editableComponent?r(e.editableComponent):null}:{children:e.getChildren().map(r)}:{},r=e=>(0,g.jsx)(t,ex({},tX(e,a(e))),e.uid);return r},t0=Object.defineProperty,t1=Object.defineProperties,t2=Object.getOwnPropertyDescriptors,t4=Object.getOwnPropertySymbols,t9=Object.prototype.hasOwnProperty,t3=Object.prototype.propertyIsEnumerable,t5=(e,t,a)=>t in e?t0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,t6=(e,t)=>{for(var a in t||(t={}))t9.call(t,a)&&t5(e,a,t[a]);if(t4)for(var a of t4(t))t3.call(t,a)&&t5(e,a,t[a]);return e},t8=(e,t)=>t1(e,t2(t));!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let a of e)t[a]=a;return t},e.getValidEnumValues=t=>{let a=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(let e of a)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t},e.find=(e,t)=>{for(let a of e)if(t(a))return a},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(s||(s={})),(c||(c={})).mergeShapes=(e,t)=>t6(t6({},e),t);var t7=s.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ae=e=>{switch(typeof e){case"undefined":return t7.undefined;case"string":return t7.string;case"number":return isNaN(e)?t7.nan:t7.number;case"boolean":return t7.boolean;case"function":return t7.function;case"bigint":return t7.bigint;case"symbol":return t7.symbol;case"object":if(Array.isArray(e))return t7.array;if(null===e)return t7.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return t7.promise;if("undefined"!=typeof Map&&e instanceof Map)return t7.map;if("undefined"!=typeof Set&&e instanceof Set)return t7.set;if("undefined"!=typeof Date&&e instanceof Date)return t7.date;return t7.object;default:return t7.unknown}},at=s.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),aa=class e extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},a={_errors:[]},r=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(r);else if("invalid_return_type"===n.code)r(n.returnTypeError);else if("invalid_arguments"===n.code)r(n.argumentsError);else if(0===n.path.length)a._errors.push(t(n));else{let e=a,r=0;for(;r<n.path.length;){let a=n.path[r];r===n.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(t(n))):e[a]=e[a]||{_errors:[]},e=e[a],r++}}};return r(this),a}static assert(t){if(!(t instanceof e))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,s.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},a=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}};aa.create=e=>new aa(e);var ar=(e,t)=>{let a;switch(e.code){case at.invalid_type:a=e.received===t7.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case at.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,s.jsonStringifyReplacer)}`;break;case at.unrecognized_keys:a=`Unrecognized key(s) in object: ${s.joinValues(e.keys,", ")}`;break;case at.invalid_union:a="Invalid input";break;case at.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${s.joinValues(e.options)}`;break;case at.invalid_enum_value:a=`Invalid enum value. Expected ${s.joinValues(e.options)}, received '${e.received}'`;break;case at.invalid_arguments:a="Invalid function arguments";break;case at.invalid_return_type:a="Invalid function return type";break;case at.invalid_date:a="Invalid date";break;case at.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:s.assertNever(e.validation):a="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case at.too_small:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case at.too_big:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case at.custom:a="Invalid input";break;case at.invalid_intersection_types:a="Intersection results could not be merged";break;case at.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case at.not_finite:a="Number must be finite";break;default:a=t.defaultError,s.assertNever(e)}return{message:a}},an=ar;function ai(){return an}var al=e=>{let{data:t,path:a,errorMaps:r,issueData:n}=e,i=[...a,...n.path||[]],l=t8(t6({},n),{path:i});if(void 0!==n.message)return t8(t6({},n),{path:i,message:n.message});let o="";for(let e of r.filter(e=>!!e).slice().reverse())o=e(l,{data:t,defaultError:o}).message;return t8(t6({},n),{path:i,message:o})};function ao(e,t){let a=ai(),r=al({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,a,a===ar?void 0:ar].filter(e=>!!e)});e.common.issues.push(r)}var as=class e{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let a=[];for(let r of t){if("aborted"===r.status)return ac;"dirty"===r.status&&e.dirty(),a.push(r.value)}return{status:e.value,value:a}}static async mergeObjectAsync(t,a){let r=[];for(let e of a){let t=await e.key,a=await e.value;r.push({key:t,value:a})}return e.mergeObjectSync(t,r)}static mergeObjectSync(e,t){let a={};for(let r of t){let{key:t,value:n}=r;if("aborted"===t.status||"aborted"===n.status)return ac;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||r.alwaysSet)&&(a[t.value]=n.value)}return{status:e.value,value:a}}},ac=Object.freeze({status:"aborted"}),ad=e=>({status:"dirty",value:e}),au=e=>({status:"valid",value:e}),am=e=>"aborted"===e.status,ap=e=>"dirty"===e.status,ah=e=>"valid"===e.status,ay=e=>"undefined"!=typeof Promise&&e instanceof Promise;function ag(e,t,a,r){if("a"===a&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)}function af(e,t,a,r,n){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a}!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(d||(d={}));var av=class{constructor(e,t,a,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ab=(e,t)=>{if(ah(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new aa(e.common.issues);return this._error=t,this._error}}};function aw(e){if(!e)return{};let{errorMap:t,invalid_type_error:a,required_error:r,description:n}=e;if(t&&(a||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{var i,l;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:n.defaultError}:void 0===n.data?{message:null!==(i=null!=o?o:r)&&void 0!==i?i:n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:null!==(l=null!=o?o:a)&&void 0!==l?l:n.defaultError}},description:n}}var ax=class{get description(){return this._def.description}_getType(e){return ae(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new as,ctx:{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ay(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;let r={common:{issues:[],async:null!==(a=null==t?void 0:t.async)&&void 0!==a&&a,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},n=this._parseSync({data:e,path:r.path,parent:r});return ab(r,n)}"~validate"(e){var t,a;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:r});return ah(t)?{value:t.value}:{issues:r.common.issues}}catch(e){(null===(a=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===a?void 0:a.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(e=>ah(e)?{value:e.value}:{issues:r.common.issues})}async parseAsync(e,t){let a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){let a={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},r=this._parse({data:e,path:a.path,parent:a});return ab(a,await (ay(r)?r:Promise.resolve(r)))}refine(e,t){let a=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let n=e(t),i=()=>r.addIssue(t6({code:at.custom},a(t)));return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(i(),!1)):!!n||(i(),!1)})}refinement(e,t){return this._refinement((a,r)=>!!e(a)||(r.addIssue("function"==typeof t?t(a,r):t),!1))}_refinement(e){return new ri({schema:this,typeName:h.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return rl.create(this,this._def)}nullable(){return ro.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return aX.create(this)}promise(){return rn.create(this,this._def)}or(e){return a0.create([this,e],this._def)}and(e){return a4.create(this,e,this._def)}transform(e){return new ri(t8(t6({},aw(this._def)),{schema:this,typeName:h.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){return new rs(t8(t6({},aw(this._def)),{innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:h.ZodDefault}))}brand(){return new rm(t6({typeName:h.ZodBranded,type:this},aw(this._def)))}catch(e){return new rc(t8(t6({},aw(this._def)),{innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:h.ZodCatch}))}describe(e){return new this.constructor(t8(t6({},this._def),{description:e}))}pipe(e){return rp.create(this,e)}readonly(){return rh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},aC=/^c[^\s-]{8,}$/i,aF=/^[0-9a-z]+$/,aS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ak=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aj=/^[a-z0-9_-]{21}$/i,aA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,a_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",az=RegExp(`^${aP}$`);function aR(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function aD(e){let t=`${aP}T${aR(e)}`,a=[];return a.push(e.local?"Z?":"Z"),e.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,RegExp(`^${t}$`)}var aV=class e extends ax{_parse(e){var t,a,r,n;let i;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==t7.string){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.string,received:t.parsedType}),ac}let l=new as;for(let o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(ao(i=this._getOrReturnCtx(e,i),{code:at.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),l.dirty());else if("max"===o.kind)e.data.length>o.value&&(ao(i=this._getOrReturnCtx(e,i),{code:at.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),l.dirty());else if("length"===o.kind){let t=e.data.length>o.value,a=e.data.length<o.value;(t||a)&&(i=this._getOrReturnCtx(e,i),t?ao(i,{code:at.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&ao(i,{code:at.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),l.dirty())}else if("email"===o.kind)a_.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"email",code:at.invalid_string,message:o.message}),l.dirty());else if("emoji"===o.kind)p||(p=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),p.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:at.invalid_string,message:o.message}),l.dirty());else if("uuid"===o.kind)ak.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:at.invalid_string,message:o.message}),l.dirty());else if("nanoid"===o.kind)aj.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:at.invalid_string,message:o.message}),l.dirty());else if("cuid"===o.kind)aC.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:at.invalid_string,message:o.message}),l.dirty());else if("cuid2"===o.kind)aF.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:at.invalid_string,message:o.message}),l.dirty());else if("ulid"===o.kind)aS.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:at.invalid_string,message:o.message}),l.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(t){ao(i=this._getOrReturnCtx(e,i),{validation:"url",code:at.invalid_string,message:o.message}),l.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"regex",code:at.invalid_string,message:o.message}),l.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(ao(i=this._getOrReturnCtx(e,i),{code:at.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),l.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(ao(i=this._getOrReturnCtx(e,i),{code:at.invalid_string,validation:{startsWith:o.value},message:o.message}),l.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(ao(i=this._getOrReturnCtx(e,i),{code:at.invalid_string,validation:{endsWith:o.value},message:o.message}),l.dirty()):"datetime"===o.kind?aD(o).test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{code:at.invalid_string,validation:"datetime",message:o.message}),l.dirty()):"date"===o.kind?az.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{code:at.invalid_string,validation:"date",message:o.message}),l.dirty()):"time"===o.kind?RegExp(`^${aR(o)}$`).test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{code:at.invalid_string,validation:"time",message:o.message}),l.dirty()):"duration"===o.kind?aE.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"duration",code:at.invalid_string,message:o.message}),l.dirty()):"ip"===o.kind?(t=e.data,("v4"===(a=o.version)||!a)&&aI.test(t)||("v6"===a||!a)&&aN.test(t)||(ao(i=this._getOrReturnCtx(e,i),{validation:"ip",code:at.invalid_string,message:o.message}),l.dirty())):"jwt"===o.kind?!function(e,t){if(!aA.test(e))return!1;try{let[a]=e.split("."),r=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),n=JSON.parse(atob(r));if("object"!=typeof n||null===n||!n.typ||!n.alg||t&&n.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,o.alg)&&(ao(i=this._getOrReturnCtx(e,i),{validation:"jwt",code:at.invalid_string,message:o.message}),l.dirty()):"cidr"===o.kind?(r=e.data,("v4"===(n=o.version)||!n)&&aO.test(r)||("v6"===n||!n)&&aT.test(r)||(ao(i=this._getOrReturnCtx(e,i),{validation:"cidr",code:at.invalid_string,message:o.message}),l.dirty())):"base64"===o.kind?aL.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"base64",code:at.invalid_string,message:o.message}),l.dirty()):"base64url"===o.kind?aM.test(e.data)||(ao(i=this._getOrReturnCtx(e,i),{validation:"base64url",code:at.invalid_string,message:o.message}),l.dirty()):s.assertNever(o);return{status:l.value,value:e.data}}_regex(e,t,a){return this.refinement(t=>e.test(t),t6({validation:t,code:at.invalid_string},d.errToObj(a)))}_addCheck(t){return new e(t8(t6({},this._def),{checks:[...this._def.checks,t]}))}email(e){return this._addCheck(t6({kind:"email"},d.errToObj(e)))}url(e){return this._addCheck(t6({kind:"url"},d.errToObj(e)))}emoji(e){return this._addCheck(t6({kind:"emoji"},d.errToObj(e)))}uuid(e){return this._addCheck(t6({kind:"uuid"},d.errToObj(e)))}nanoid(e){return this._addCheck(t6({kind:"nanoid"},d.errToObj(e)))}cuid(e){return this._addCheck(t6({kind:"cuid"},d.errToObj(e)))}cuid2(e){return this._addCheck(t6({kind:"cuid2"},d.errToObj(e)))}ulid(e){return this._addCheck(t6({kind:"ulid"},d.errToObj(e)))}base64(e){return this._addCheck(t6({kind:"base64"},d.errToObj(e)))}base64url(e){return this._addCheck(t6({kind:"base64url"},d.errToObj(e)))}jwt(e){return this._addCheck(t6({kind:"jwt"},d.errToObj(e)))}ip(e){return this._addCheck(t6({kind:"ip"},d.errToObj(e)))}cidr(e){return this._addCheck(t6({kind:"cidr"},d.errToObj(e)))}datetime(e){var t,a;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(t6({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(a=null==e?void 0:e.local)&&void 0!==a&&a},d.errToObj(null==e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(t6({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},d.errToObj(null==e?void 0:e.message)))}duration(e){return this._addCheck(t6({kind:"duration"},d.errToObj(e)))}regex(e,t){return this._addCheck(t6({kind:"regex",regex:e},d.errToObj(t)))}includes(e,t){return this._addCheck(t6({kind:"includes",value:e,position:null==t?void 0:t.position},d.errToObj(null==t?void 0:t.message)))}startsWith(e,t){return this._addCheck(t6({kind:"startsWith",value:e},d.errToObj(t)))}endsWith(e,t){return this._addCheck(t6({kind:"endsWith",value:e},d.errToObj(t)))}min(e,t){return this._addCheck(t6({kind:"min",value:e},d.errToObj(t)))}max(e,t){return this._addCheck(t6({kind:"max",value:e},d.errToObj(t)))}length(e,t){return this._addCheck(t6({kind:"length",value:e},d.errToObj(t)))}nonempty(e){return this.min(1,d.errToObj(e))}trim(){return new e(t8(t6({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new e(t8(t6({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new e(t8(t6({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};aV.create=e=>{var t;return new aV(t6({checks:[],typeName:h.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},aw(e)))};var a$=class e extends ax{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==t7.number){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.number,received:t.parsedType}),ac}let a=new as;for(let r of this._def.checks)"int"===r.kind?s.isInteger(e.data)||(ao(t=this._getOrReturnCtx(e,t),{code:at.invalid_type,expected:"integer",received:"float",message:r.message}),a.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(ao(t=this._getOrReturnCtx(e,t),{code:at.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(ao(t=this._getOrReturnCtx(e,t),{code:at.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"multipleOf"===r.kind?0!==function(e,t){let a=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=a>r?a:r;return parseInt(e.toFixed(n).replace(".",""))%parseInt(t.toFixed(n).replace(".",""))/Math.pow(10,n)}(e.data,r.value)&&(ao(t=this._getOrReturnCtx(e,t),{code:at.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(ao(t=this._getOrReturnCtx(e,t),{code:at.not_finite,message:r.message}),a.dirty()):s.assertNever(r);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(t,a,r,n){return new e(t8(t6({},this._def),{checks:[...this._def.checks,{kind:t,value:a,inclusive:r,message:d.toString(n)}]}))}_addCheck(t){return new e(t8(t6({},this._def),{checks:[...this._def.checks,t]}))}int(e){return this._addCheck({kind:"int",message:d.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&s.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===t||a.value>t)&&(t=a.value):"max"===a.kind&&(null===e||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}};a$.create=e=>new a$(t6({checks:[],typeName:h.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},aw(e)));var aU=class e extends ax{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==t7.bigint)return this._getInvalidInput(e);let a=new as;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(ao(t=this._getOrReturnCtx(e,t),{code:at.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(ao(t=this._getOrReturnCtx(e,t),{code:at.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(ao(t=this._getOrReturnCtx(e,t),{code:at.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):s.assertNever(r);return{status:a.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.bigint,received:t.parsedType}),ac}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(t,a,r,n){return new e(t8(t6({},this._def),{checks:[...this._def.checks,{kind:t,value:a,inclusive:r,message:d.toString(n)}]}))}_addCheck(t){return new e(t8(t6({},this._def),{checks:[...this._def.checks,t]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};aU.create=e=>{var t;return new aU(t6({checks:[],typeName:h.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},aw(e)))};var aB=class extends ax{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==t7.boolean){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.boolean,received:t.parsedType}),ac}return au(e.data)}};aB.create=e=>new aB(t6({typeName:h.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},aw(e)));var aZ=class e extends ax{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==t7.date){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.date,received:t.parsedType}),ac}if(isNaN(e.data.getTime()))return ao(this._getOrReturnCtx(e),{code:at.invalid_date}),ac;let a=new as;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(ao(t=this._getOrReturnCtx(e,t),{code:at.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),a.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(ao(t=this._getOrReturnCtx(e,t),{code:at.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),a.dirty()):s.assertNever(r);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e(t8(t6({},this._def),{checks:[...this._def.checks,t]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};aZ.create=e=>new aZ(t6({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:h.ZodDate},aw(e)));var aq=class extends ax{_parse(e){if(this._getType(e)!==t7.symbol){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.symbol,received:t.parsedType}),ac}return au(e.data)}};aq.create=e=>new aq(t6({typeName:h.ZodSymbol},aw(e)));var aH=class extends ax{_parse(e){if(this._getType(e)!==t7.undefined){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.undefined,received:t.parsedType}),ac}return au(e.data)}};aH.create=e=>new aH(t6({typeName:h.ZodUndefined},aw(e)));var aK=class extends ax{_parse(e){if(this._getType(e)!==t7.null){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.null,received:t.parsedType}),ac}return au(e.data)}};aK.create=e=>new aK(t6({typeName:h.ZodNull},aw(e)));var aW=class extends ax{constructor(){super(...arguments),this._any=!0}_parse(e){return au(e.data)}};aW.create=e=>new aW(t6({typeName:h.ZodAny},aw(e)));var aY=class extends ax{constructor(){super(...arguments),this._unknown=!0}_parse(e){return au(e.data)}};aY.create=e=>new aY(t6({typeName:h.ZodUnknown},aw(e)));var aG=class extends ax{_parse(e){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.never,received:t.parsedType}),ac}};aG.create=e=>new aG(t6({typeName:h.ZodNever},aw(e)));var aJ=class extends ax{_parse(e){if(this._getType(e)!==t7.undefined){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.void,received:t.parsedType}),ac}return au(e.data)}};aJ.create=e=>new aJ(t6({typeName:h.ZodVoid},aw(e)));var aX=class e extends ax{_parse(e){let{ctx:t,status:a}=this._processInputParams(e),r=this._def;if(t.parsedType!==t7.array)return ao(t,{code:at.invalid_type,expected:t7.array,received:t.parsedType}),ac;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&(ao(t,{code:e?at.too_big:at.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ao(t,{code:at.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ao(t,{code:at.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((e,a)=>r.type._parseAsync(new av(t,e,t.path,a)))).then(e=>as.mergeArray(a,e));let n=[...t.data].map((e,a)=>r.type._parseSync(new av(t,e,t.path,a)));return as.mergeArray(a,n)}get element(){return this._def.type}min(t,a){return new e(t8(t6({},this._def),{minLength:{value:t,message:d.toString(a)}}))}max(t,a){return new e(t8(t6({},this._def),{maxLength:{value:t,message:d.toString(a)}}))}length(t,a){return new e(t8(t6({},this._def),{exactLength:{value:t,message:d.toString(a)}}))}nonempty(e){return this.min(1,e)}};aX.create=(e,t)=>new aX(t6({type:e,minLength:null,maxLength:null,exactLength:null,typeName:h.ZodArray},aw(t)));var aQ=class e extends ax{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=s.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==t7.object){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.object,received:t.parsedType}),ac}let{status:t,ctx:a}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),i=[];if(!(this._def.catchall instanceof aG&&"strip"===this._def.unknownKeys))for(let e in a.data)n.includes(e)||i.push(e);let l=[];for(let e of n){let t=r[e],n=a.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new av(a,n,a.path,e)),alwaysSet:e in a.data})}if(this._def.catchall instanceof aG){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)l.push({key:{status:"valid",value:e},value:{status:"valid",value:a.data[e]}});else if("strict"===e)i.length>0&&(ao(a,{code:at.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let r=a.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new av(a,r,a.path,t)),alwaysSet:t in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let a=await t.key,r=await t.value;e.push({key:a,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>as.mergeObjectSync(t,e)):as.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(t){return d.errToObj,new e(t6(t8(t6({},this._def),{unknownKeys:"strict"}),void 0!==t?{errorMap:(e,a)=>{var r,n,i,l;let o=null!==(i=null===(n=(r=this._def).errorMap)||void 0===n?void 0:n.call(r,e,a).message)&&void 0!==i?i:a.defaultError;return"unrecognized_keys"===e.code?{message:null!==(l=d.errToObj(t).message)&&void 0!==l?l:o}:{message:o}}}:{}))}strip(){return new e(t8(t6({},this._def),{unknownKeys:"strip"}))}passthrough(){return new e(t8(t6({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new e(t8(t6({},this._def),{shape:()=>t6(t6({},this._def.shape()),t)}))}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>t6(t6({},this._def.shape()),t._def.shape()),typeName:h.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e(t8(t6({},this._def),{catchall:t}))}pick(t){let a={};return s.objectKeys(t).forEach(e=>{t[e]&&this.shape[e]&&(a[e]=this.shape[e])}),new e(t8(t6({},this._def),{shape:()=>a}))}omit(t){let a={};return s.objectKeys(this.shape).forEach(e=>{t[e]||(a[e]=this.shape[e])}),new e(t8(t6({},this._def),{shape:()=>a}))}deepPartial(){return function e(t){if(t instanceof aQ){let a={};for(let r in t.shape){let n=t.shape[r];a[r]=rl.create(e(n))}return new aQ(t8(t6({},t._def),{shape:()=>a}))}return t instanceof aX?new aX(t8(t6({},t._def),{type:e(t.element)})):t instanceof rl?rl.create(e(t.unwrap())):t instanceof ro?ro.create(e(t.unwrap())):t instanceof a9?a9.create(t.items.map(t=>e(t))):t}(this)}partial(t){let a={};return s.objectKeys(this.shape).forEach(e=>{let r=this.shape[e];t&&!t[e]?a[e]=r:a[e]=r.optional()}),new e(t8(t6({},this._def),{shape:()=>a}))}required(t){let a={};return s.objectKeys(this.shape).forEach(e=>{if(t&&!t[e])a[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof rl;)t=t._def.innerType;a[e]=t}}),new e(t8(t6({},this._def),{shape:()=>a}))}keyof(){return rt(s.objectKeys(this.shape))}};aQ.create=(e,t)=>new aQ(t6({shape:()=>e,unknownKeys:"strip",catchall:aG.create(),typeName:h.ZodObject},aw(t))),aQ.strictCreate=(e,t)=>new aQ(t6({shape:()=>e,unknownKeys:"strict",catchall:aG.create(),typeName:h.ZodObject},aw(t))),aQ.lazycreate=(e,t)=>new aQ(t6({shape:e,unknownKeys:"strip",catchall:aG.create(),typeName:h.ZodObject},aw(t)));var a0=class extends ax{_parse(e){let{ctx:t}=this._processInputParams(e),a=this._def.options;if(t.common.async)return Promise.all(a.map(async e=>{let a=t8(t6({},t),{common:t8(t6({},t.common),{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;let a=e.map(e=>new aa(e.ctx.common.issues));return ao(t,{code:at.invalid_union,unionErrors:a}),ac});{let e;let r=[];for(let n of a){let a=t8(t6({},t),{common:t8(t6({},t.common),{issues:[]}),parent:null}),i=n._parseSync({data:t.data,path:t.path,parent:a});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:a}),a.common.issues.length&&r.push(a.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=r.map(e=>new aa(e));return ao(t,{code:at.invalid_union,unionErrors:n}),ac}}get options(){return this._def.options}};a0.create=(e,t)=>new a0(t6({options:e,typeName:h.ZodUnion},aw(t)));var a1=e=>{if(e instanceof a7)return a1(e.schema);if(e instanceof ri)return a1(e.innerType());if(e instanceof re)return[e.value];if(e instanceof ra)return e.options;if(e instanceof rr)return s.objectValues(e.enum);if(e instanceof rs)return a1(e._def.innerType);if(e instanceof aH)return[void 0];else if(e instanceof aK)return[null];else if(e instanceof rl)return[void 0,...a1(e.unwrap())];else if(e instanceof ro)return[null,...a1(e.unwrap())];else if(e instanceof rm)return a1(e.unwrap());else if(e instanceof rh)return a1(e.unwrap());else if(e instanceof rc)return a1(e._def.innerType);else return[]},a2=class e extends ax{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==t7.object)return ao(t,{code:at.invalid_type,expected:t7.object,received:t.parsedType}),ac;let a=this.discriminator,r=t.data[a],n=this.optionsMap.get(r);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(ao(t,{code:at.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),ac)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,a,r){let n=new Map;for(let e of a){let a=a1(e.shape[t]);if(!a.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let r of a){if(n.has(r))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(r)}`);n.set(r,e)}}return new e(t6({typeName:h.ZodDiscriminatedUnion,discriminator:t,options:a,optionsMap:n},aw(r)))}},a4=class extends ax{_parse(e){let{status:t,ctx:a}=this._processInputParams(e),r=(e,r)=>{if(am(e)||am(r))return ac;let n=function e(t,a){let r=ae(t),n=ae(a);if(t===a)return{valid:!0,data:t};if(r===t7.object&&n===t7.object){let r=s.objectKeys(a),n=s.objectKeys(t).filter(e=>-1!==r.indexOf(e)),i=t6(t6({},t),a);for(let r of n){let n=e(t[r],a[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===t7.array&&n===t7.array){if(t.length!==a.length)return{valid:!1};let r=[];for(let n=0;n<t.length;n++){let i=e(t[n],a[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===t7.date&&n===t7.date&&+t==+a?{valid:!0,data:t}:{valid:!1}}(e.value,r.value);return n.valid?((ap(e)||ap(r))&&t.dirty(),{status:t.value,value:n.data}):(ao(a,{code:at.invalid_intersection_types}),ac)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};a4.create=(e,t,a)=>new a4(t6({left:e,right:t,typeName:h.ZodIntersection},aw(a)));var a9=class e extends ax{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==t7.array)return ao(a,{code:at.invalid_type,expected:t7.array,received:a.parsedType}),ac;if(a.data.length<this._def.items.length)return ao(a,{code:at.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ac;!this._def.rest&&a.data.length>this._def.items.length&&(ao(a,{code:at.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...a.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new av(a,e,a.path,t)):null}).filter(e=>!!e);return a.common.async?Promise.all(r).then(e=>as.mergeArray(t,e)):as.mergeArray(t,r)}get items(){return this._def.items}rest(t){return new e(t8(t6({},this._def),{rest:t}))}};a9.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new a9(t6({items:e,typeName:h.ZodTuple,rest:null},aw(t)))};var a3=class e extends ax{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==t7.object)return ao(a,{code:at.invalid_type,expected:t7.object,received:a.parsedType}),ac;let r=[],n=this._def.keyType,i=this._def.valueType;for(let e in a.data)r.push({key:n._parse(new av(a,e,a.path,e)),value:i._parse(new av(a,a.data[e],a.path,e)),alwaysSet:e in a.data});return a.common.async?as.mergeObjectAsync(t,r):as.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(t,a,r){return new e(a instanceof ax?t6({keyType:t,valueType:a,typeName:h.ZodRecord},aw(r)):t6({keyType:aV.create(),valueType:t,typeName:h.ZodRecord},aw(a)))}},a5=class extends ax{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==t7.map)return ao(a,{code:at.invalid_type,expected:t7.map,received:a.parsedType}),ac;let r=this._def.keyType,n=this._def.valueType,i=[...a.data.entries()].map(([e,t],i)=>({key:r._parse(new av(a,e,a.path,[i,"key"])),value:n._parse(new av(a,t,a.path,[i,"value"]))}));if(a.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let a of i){let r=await a.key,n=await a.value;if("aborted"===r.status||"aborted"===n.status)return ac;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let a of i){let r=a.key,n=a.value;if("aborted"===r.status||"aborted"===n.status)return ac;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}}};a5.create=(e,t,a)=>new a5(t6({valueType:t,keyType:e,typeName:h.ZodMap},aw(a)));var a6=class e extends ax{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==t7.set)return ao(a,{code:at.invalid_type,expected:t7.set,received:a.parsedType}),ac;let r=this._def;null!==r.minSize&&a.data.size<r.minSize.value&&(ao(a,{code:at.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&a.data.size>r.maxSize.value&&(ao(a,{code:at.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let n=this._def.valueType;function i(e){let a=new Set;for(let r of e){if("aborted"===r.status)return ac;"dirty"===r.status&&t.dirty(),a.add(r.value)}return{status:t.value,value:a}}let l=[...a.data.values()].map((e,t)=>n._parse(new av(a,e,a.path,t)));return a.common.async?Promise.all(l).then(e=>i(e)):i(l)}min(t,a){return new e(t8(t6({},this._def),{minSize:{value:t,message:d.toString(a)}}))}max(t,a){return new e(t8(t6({},this._def),{maxSize:{value:t,message:d.toString(a)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};a6.create=(e,t)=>new a6(t6({valueType:e,minSize:null,maxSize:null,typeName:h.ZodSet},aw(t)));var a8=class e extends ax{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==t7.function)return ao(t,{code:at.invalid_type,expected:t7.function,received:t.parsedType}),ac;function a(e,a){return al({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ai(),ar].filter(e=>!!e),issueData:{code:at.invalid_arguments,argumentsError:a}})}function r(e,a){return al({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ai(),ar].filter(e=>!!e),issueData:{code:at.invalid_return_type,returnTypeError:a}})}let n={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof rn){let e=this;return au(async function(...t){let l=new aa([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw l.addIssue(a(t,e)),l}),s=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(s,n).catch(e=>{throw l.addIssue(r(s,e)),l})})}{let e=this;return au(function(...t){let l=e._def.args.safeParse(t,n);if(!l.success)throw new aa([a(t,l.error)]);let o=Reflect.apply(i,this,l.data),s=e._def.returns.safeParse(o,n);if(!s.success)throw new aa([r(o,s.error)]);return s.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e(t8(t6({},this._def),{args:a9.create(t).rest(aY.create())}))}returns(t){return new e(t8(t6({},this._def),{returns:t}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(t,a,r){return new e(t6({args:t||a9.create([]).rest(aY.create()),returns:a||aY.create(),typeName:h.ZodFunction},aw(r)))}},a7=class extends ax{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};a7.create=(e,t)=>new a7(t6({getter:e,typeName:h.ZodLazy},aw(t)));var re=class extends ax{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ao(t,{received:t.data,code:at.invalid_literal,expected:this._def.value}),ac}return{status:"valid",value:e.data}}get value(){return this._def.value}};function rt(e,t){return new ra(t6({values:e,typeName:h.ZodEnum},aw(t)))}re.create=(e,t)=>new re(t6({value:e,typeName:h.ZodLiteral},aw(t)));var ra=class e extends ax{constructor(){super(...arguments),u.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),a=this._def.values;return ao(t,{expected:s.joinValues(a),received:t.parsedType,code:at.invalid_type}),ac}if(ag(this,u,"f")||af(this,u,new Set(this._def.values),"f"),!ag(this,u,"f").has(e.data)){let t=this._getOrReturnCtx(e),a=this._def.values;return ao(t,{received:t.data,code:at.invalid_enum_value,options:a}),ac}return au(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(t,a=this._def){return e.create(t,t6(t6({},this._def),a))}exclude(t,a=this._def){return e.create(this.options.filter(e=>!t.includes(e)),t6(t6({},this._def),a))}};u=new WeakMap,ra.create=rt;var rr=class extends ax{constructor(){super(...arguments),m.set(this,void 0)}_parse(e){let t=s.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==t7.string&&a.parsedType!==t7.number){let e=s.objectValues(t);return ao(a,{expected:s.joinValues(e),received:a.parsedType,code:at.invalid_type}),ac}if(ag(this,m,"f")||af(this,m,new Set(s.getValidEnumValues(this._def.values)),"f"),!ag(this,m,"f").has(e.data)){let e=s.objectValues(t);return ao(a,{received:a.data,code:at.invalid_enum_value,options:e}),ac}return au(e.data)}get enum(){return this._def.values}};m=new WeakMap,rr.create=(e,t)=>new rr(t6({values:e,typeName:h.ZodNativeEnum},aw(t)));var rn=class extends ax{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==t7.promise&&!1===t.common.async?(ao(t,{code:at.invalid_type,expected:t7.promise,received:t.parsedType}),ac):au((t.parsedType===t7.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};rn.create=(e,t)=>new rn(t6({type:e,typeName:h.ZodPromise},aw(t)));var ri=class extends ax{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===h.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:a}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{ao(a,e),e.fatal?t.abort():t.dirty()},get path(){return a.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){let e=r.transform(a.data,n);if(a.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ac;let r=await this._def.schema._parseAsync({data:e,path:a.path,parent:a});return"aborted"===r.status?ac:"dirty"===r.status||"dirty"===t.value?ad(r.value):r});{if("aborted"===t.value)return ac;let r=this._def.schema._parseSync({data:e,path:a.path,parent:a});return"aborted"===r.status?ac:"dirty"===r.status||"dirty"===t.value?ad(r.value):r}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,n);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(a=>"aborted"===a.status?ac:("dirty"===a.status&&t.dirty(),e(a.value).then(()=>({status:t.value,value:a.value}))));{let r=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===r.status?ac:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(e=>ah(e)?Promise.resolve(r.transform(e.value,n)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!ah(e))return e;let i=r.transform(e.value,n);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}s.assertNever(r)}};ri.create=(e,t,a)=>new ri(t6({schema:e,typeName:h.ZodEffects,effect:t},aw(a))),ri.createWithPreprocess=(e,t,a)=>new ri(t6({schema:t,effect:{type:"preprocess",transform:e},typeName:h.ZodEffects},aw(a)));var rl=class extends ax{_parse(e){return this._getType(e)===t7.undefined?au(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};rl.create=(e,t)=>new rl(t6({innerType:e,typeName:h.ZodOptional},aw(t)));var ro=class extends ax{_parse(e){return this._getType(e)===t7.null?au(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ro.create=(e,t)=>new ro(t6({innerType:e,typeName:h.ZodNullable},aw(t)));var rs=class extends ax{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return t.parsedType===t7.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};rs.create=(e,t)=>new rs(t6({innerType:e,typeName:h.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default},aw(t)));var rc=class extends ax{_parse(e){let{ctx:t}=this._processInputParams(e),a=t8(t6({},t),{common:t8(t6({},t.common),{issues:[]})}),r=this._def.innerType._parse({data:a.data,path:a.path,parent:t6({},a)});return ay(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new aa(a.common.issues)},input:a.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new aa(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};rc.create=(e,t)=>new rc(t6({innerType:e,typeName:h.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch},aw(t)));var rd=class extends ax{_parse(e){if(this._getType(e)!==t7.nan){let t=this._getOrReturnCtx(e);return ao(t,{code:at.invalid_type,expected:t7.nan,received:t.parsedType}),ac}return{status:"valid",value:e.data}}};rd.create=e=>new rd(t6({typeName:h.ZodNaN},aw(e)));var ru=Symbol("zod_brand"),rm=class extends ax{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}},rp=class e extends ax{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?ac:"dirty"===e.status?(t.dirty(),ad(e.value)):this._def.out._parseAsync({data:e.value,path:a.path,parent:a})})();{let e=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?ac:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:a.path,parent:a})}}static create(t,a){return new e({in:t,out:a,typeName:h.ZodPipeline})}},rh=class extends ax{_parse(e){let t=this._def.innerType._parse(e),a=e=>(ah(e)&&(e.value=Object.freeze(e.value)),e);return ay(t)?t.then(e=>a(e)):a(t)}unwrap(){return this._def.innerType}};function ry(e,t={},a){return e?aW.create().superRefine((r,n)=>{var i,l;if(!e(r)){let e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(l=null!==(i=e.fatal)&&void 0!==i?i:a)||void 0===l||l,s="string"==typeof e?{message:e}:e;n.addIssue(t8(t6({code:"custom"},s),{fatal:o}))}}):aW.create()}rh.create=(e,t)=>new rh(t6({innerType:e,typeName:h.ZodReadonly},aw(t)));var rg={object:aQ.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(h||(h={}));var rf=aV.create,rv=a$.create,rb=rd.create,rw=aU.create,rx=aB.create,rC=aZ.create,rF=aq.create,rS=aH.create,rk=aK.create,rj=aW.create,rA=aY.create,rE=aG.create,r_=aJ.create,rI=aX.create,rO=aQ.create,rN=aQ.strictCreate,rT=a0.create,rL=a2.create,rM=a4.create,rP=a9.create,rz=a3.create,rR=a5.create,rD=a6.create,rV=a8.create,r$=a7.create,rU=re.create,rB=ra.create,rZ=rr.create,rq=rn.create,rH=ri.create,rK=rl.create,rW=ro.create,rY=ri.createWithPreprocess,rG=rp.create,rJ=Object.freeze({__proto__:null,defaultErrorMap:ar,setErrorMap:function(e){an=e},getErrorMap:ai,makeIssue:al,EMPTY_PATH:[],addIssueToContext:ao,ParseStatus:as,INVALID:ac,DIRTY:ad,OK:au,isAborted:am,isDirty:ap,isValid:ah,isAsync:ay,get util(){return s},get objectUtil(){return c},ZodParsedType:t7,getParsedType:ae,ZodType:ax,datetimeRegex:aD,ZodString:aV,ZodNumber:a$,ZodBigInt:aU,ZodBoolean:aB,ZodDate:aZ,ZodSymbol:aq,ZodUndefined:aH,ZodNull:aK,ZodAny:aW,ZodUnknown:aY,ZodNever:aG,ZodVoid:aJ,ZodArray:aX,ZodObject:aQ,ZodUnion:a0,ZodDiscriminatedUnion:a2,ZodIntersection:a4,ZodTuple:a9,ZodRecord:a3,ZodMap:a5,ZodSet:a6,ZodFunction:a8,ZodLazy:a7,ZodLiteral:re,ZodEnum:ra,ZodNativeEnum:rr,ZodPromise:rn,ZodEffects:ri,ZodTransformer:ri,ZodOptional:rl,ZodNullable:ro,ZodDefault:rs,ZodCatch:rc,ZodNaN:rd,BRAND:ru,ZodBranded:rm,ZodPipeline:rp,ZodReadonly:rh,custom:ry,Schema:ax,ZodSchema:ax,late:rg,get ZodFirstPartyTypeKind(){return h},coerce:{string:e=>aV.create(t8(t6({},e),{coerce:!0})),number:e=>a$.create(t8(t6({},e),{coerce:!0})),boolean:e=>aB.create(t8(t6({},e),{coerce:!0})),bigint:e=>aU.create(t8(t6({},e),{coerce:!0})),date:e=>aZ.create(t8(t6({},e),{coerce:!0}))},any:rj,array:rI,bigint:rw,boolean:rx,date:rC,discriminatedUnion:rL,effect:rH,enum:rB,function:rV,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ry(t=>t instanceof e,t),intersection:rM,lazy:r$,literal:rU,map:rR,nan:rb,nativeEnum:rZ,never:rE,null:rk,nullable:rW,number:rv,object:rO,oboolean:()=>rx().optional(),onumber:()=>rv().optional(),optional:rK,ostring:()=>rf().optional(),pipeline:rG,preprocess:rY,promise:rq,record:rz,set:rD,strictObject:rN,string:rf,symbol:rF,transformer:rH,tuple:rP,undefined:rS,union:rT,unknown:rA,void:r_,NEVER:ac,ZodIssueCode:at,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:aa}),rX=rJ.object({text:rJ.string().optional(),url:rJ.string(),accessibilityDescription:rJ.string().optional()}),rQ=rJ.union([rJ.literal("GET"),rJ.literal("POST"),rJ.literal("PUT"),rJ.literal("PATCH"),rJ.literal("DELETE")]),r0=rJ.object({name:rJ.string()}),r1=rJ.union([rJ.literal("positive"),rJ.literal("neutral"),rJ.literal("warning"),rJ.literal("negative"),rJ.literal("success"),rJ.literal("failure"),rJ.literal("info"),rJ.literal("primary")]),r2=rJ.object({text:rJ.string()}),r4=rJ.union([rJ.literal("xs"),rJ.literal("sm"),rJ.literal("md"),rJ.literal("lg"),rJ.literal("xl")]),r9=rJ.union([rJ.literal("none"),rJ.literal("characters"),rJ.literal("sentences"),rJ.literal("words")]),r3=rJ.union([rJ.literal("left"),rJ.literal("center"),rJ.literal("right")]),r5=rJ.union([r0,r2]),r6=rJ.union([rJ.literal("on"),rJ.literal("name"),rJ.literal("name-prefix"),rJ.literal("given-name"),rJ.literal("additional-name"),rJ.literal("family-name"),rJ.literal("name-suffix"),rJ.literal("nickname"),rJ.literal("email"),rJ.literal("username"),rJ.literal("new-username"),rJ.literal("new-password"),rJ.literal("password"),rJ.literal("one-time-code"),rJ.literal("job-title"),rJ.literal("organization-name"),rJ.literal("full-street-address"),rJ.literal("street-address-line-1"),rJ.literal("street-address-line-2"),rJ.literal("street-address-line-3"),rJ.literal("address-level-1"),rJ.literal("address-level-2"),rJ.literal("address-level-3"),rJ.literal("address-level-4"),rJ.literal("country-code"),rJ.literal("country-name"),rJ.literal("postal-code"),rJ.literal("credit-card-name"),rJ.literal("credit-card-given-name"),rJ.literal("credit-card-middle-name"),rJ.literal("credit-card-family-name"),rJ.literal("credit-card-number"),rJ.literal("credit-card-expiration"),rJ.literal("credit-card-expiration-month"),rJ.literal("credit-card-expiration-year"),rJ.literal("credit-card-security-code"),rJ.literal("credit-card-type"),rJ.literal("transaction-currency"),rJ.literal("transaction-amount"),rJ.literal("language"),rJ.literal("birthdate"),rJ.literal("birthdate-day"),rJ.literal("birthdate-month"),rJ.literal("birthdate-year"),rJ.literal("gender"),rJ.literal("phone-number"),rJ.literal("phone-country-code"),rJ.literal("phone-national"),rJ.literal("phone-area-code"),rJ.literal("phone-local"),rJ.literal("phone-local-prefix"),rJ.literal("phone-local-suffix"),rJ.literal("phone-extension"),rJ.literal("url"),rJ.literal("photo"),rJ.literal("impp"),rJ.literal("shipping"),rJ.literal("billing"),rJ.literal("home"),rJ.literal("work"),rJ.literal("mobile"),rJ.literal("fax"),rJ.literal("pager")]),r8=rJ.object({type:rJ.literal("loading-indicator"),size:r4.optional(),control:rJ.string().optional(),margin:r4.optional()}),r7=rJ.object({type:rJ.literal("paragraph"),text:rJ.string(),align:r3.optional(),control:rJ.string().optional(),margin:r4.optional()}),ne=rJ.object({type:rJ.literal("divider"),control:rJ.string().optional(),margin:r4.optional()}),nt=rJ.union([rJ.literal("warning"),rJ.literal("neutral"),rJ.literal("positive")]),na=rJ.object({$ref:rJ.string()}),nr=rJ.object({type:rJ.literal("image"),text:rJ.string().optional(),url:rJ.string(),size:r4.optional(),accessibilityDescription:rJ.string().optional(),control:rJ.string().optional(),margin:r4.optional()}),nn=rJ.union([rJ.literal("not-done"),rJ.literal("pending"),rJ.literal("done")]),ni=rJ.object({text:rJ.string(),context:r1}),nl=rJ.object({title:rJ.string()}),no=rJ.object({type:rJ.literal("search"),title:rJ.string(),method:rQ,url:rJ.string(),param:rJ.string(),emptyMessage:rJ.string().optional(),control:rJ.string().optional(),margin:r4.optional()}),ns=rJ.object({type:rJ.literal("info"),markdown:rJ.string(),align:r3.optional(),control:rJ.string().optional(),margin:r4.optional()}),nc=rJ.object({type:rJ.literal("form"),schema:na.optional(),schemaId:rJ.string(),control:rJ.string().optional(),margin:r4.optional()}),nd=rJ.object({type:rJ.literal("heading"),text:rJ.string(),size:r4.optional(),align:r3.optional(),control:rJ.string().optional(),margin:r4.optional()}),nu=rJ.object({type:rJ.literal("markdown"),content:rJ.string(),align:r3.optional(),control:rJ.string().optional(),margin:r4.optional()}),nm=rJ.union([rJ.literal("none"),rJ.literal("left"),rJ.literal("right")]),np=rJ.object({markdown:rJ.string()}),nh=rJ.object({url:rJ.string(),method:rQ,param:rJ.string(),query:rJ.string()}),ny=rJ.lazy(()=>rJ.union([rJ.string(),rJ.number(),rJ.boolean(),rJ.record(ny),rJ.array(ny)]).nullable()),ng=rJ.object({url:rJ.string()}),nf=rJ.object({error:rJ.string().optional(),validation:ny.optional()}),nv=rJ.union([rJ.literal("date"),rJ.literal("email"),rJ.literal("numeric"),rJ.literal("password"),rJ.literal("phone-number"),rJ.literal("base64url")]),nb=rJ.object({defaultTitle:rJ.string().optional(),defaultDescription:rJ.string().optional(),defaultIcon:r5.optional(),defaultImage:nr.optional(),providesTitle:rJ.boolean().optional(),providesDescription:rJ.boolean().optional(),providesIcon:rJ.boolean().optional(),providesImage:rJ.boolean().optional()}),nw=rJ.object({param:rJ.string(),method:rQ,url:rJ.string()}),nx=rJ.object({providesTitle:rJ.boolean().optional(),providesDescription:rJ.boolean().optional(),providesIcon:rJ.boolean().optional(),providesImage:rJ.boolean().optional()}),nC=rJ.union([rJ.literal("camera"),rJ.literal("file")]),nF=rJ.union([rJ.literal("default"),rJ.literal("remove-previous"),rJ.literal("remove-all"),rJ.literal("replace-current")]),nS=rJ.union([rJ.literal("primary"),rJ.literal("secondary"),rJ.literal("link"),rJ.literal("positive"),rJ.literal("negative")]);rJ.union([nx,nb]);var nk=rJ.object({url:rJ.string()}),nj=rJ.object({title:rJ.string().optional(),type:nS.optional(),disabled:rJ.boolean().optional(),$id:rJ.string().optional(),$ref:rJ.string().optional(),id:rJ.string().optional(),url:rJ.string().optional(),method:rQ.optional(),exit:rJ.boolean().optional(),result:ny.optional(),data:ny.optional(),timeout:rJ.number().optional(),skipValidation:rJ.boolean().optional()}),nA=rJ.object({description:rJ.string().optional(),status:nt.optional(),icon:r5.optional(),image:rX.optional(),title:rJ.string(),subtitle:rJ.string().optional(),value:rJ.string().optional(),subvalue:rJ.string().optional()}),nE=rJ.object({action:nj,title:rJ.string(),description:rJ.string().optional(),disabled:rJ.boolean().optional(),icon:r5.optional(),image:nr.optional()}),n_=rJ.object({type:rJ.literal("instructions"),title:rJ.string().optional(),items:rJ.array(ni),control:rJ.string().optional(),margin:r4.optional()}),nI=rJ.object({action:nj.optional(),link:nk.optional()}),nO=rJ.object({title:rJ.string(),accessibilityDescription:rJ.string().optional(),behavior:nI}),nN=rJ.object({type:rJ.literal("button"),size:r4.optional(),title:rJ.string().optional(),action:nj,context:r1.optional(),disabled:rJ.boolean().optional(),pinOrder:rJ.number().optional(),control:rJ.string().optional(),margin:r4.optional()}),nT=rJ.object({label:rJ.string(),value:rJ.string(),rawValue:rJ.string().optional(),help:np.optional()}),nL=rJ.object({type:rJ.literal("search"),title:rJ.string(),description:rJ.string().optional(),icon:r5.optional(),image:nr.optional(),value:nh}),nM=rJ.object({type:rJ.literal("action"),title:rJ.string(),description:rJ.string().optional(),icon:r5.optional(),image:nr.optional(),value:nj}),nP=rJ.object({action:nj});rJ.object({refreshFormUrl:rJ.string().optional(),analytics:rJ.record(rJ.string()).optional(),error:rJ.string().optional(),validation:ny.optional(),refreshUrl:rJ.string().optional()});var nz=rJ.object({regexPattern:rJ.string(),action:nj}),nR=rJ.object({action:nj}),nD=rJ.object({title:rJ.string().optional(),action:nj}),nV=rJ.object({title:rJ.string(),action:nj}),n$=rJ.object({title:rJ.string(),accessibilityDescription:rJ.string().optional(),behavior:nI}),nU=rJ.object({title:rJ.string(),accessibilityDescription:rJ.string().optional(),behavior:nI}),nB=rJ.object({type:rJ.literal("decision"),title:rJ.string().optional(),options:rJ.array(nE),control:rJ.string().optional(),margin:r4.optional()}),nZ=rJ.object({title:rJ.string(),description:rJ.string().optional(),icon:r5,status:nn.optional(),callToAction:nO.optional()}),nq=rJ.object({type:rJ.literal("review"),orientation:rJ.string().optional(),action:nj.optional(),fields:rJ.array(nT),title:rJ.string().optional(),callToAction:nV.optional(),control:rJ.string().optional(),margin:r4.optional()}),nH=rJ.union([nM,nL]),nK=rJ.object({url:rJ.string(),interval:rJ.number().optional(),delay:rJ.number().optional(),timeout:rJ.number().optional(),maxAttempts:rJ.number(),onError:nR}),nW=rJ.object({backButton:nD.optional(),back:nD.optional(),stackBehavior:nF.optional()}),nY=rJ.object({type:rJ.literal("alert"),markdown:rJ.string(),context:r1.optional(),control:rJ.string().optional(),margin:r4.optional(),callToAction:n$.optional()}),nG=rJ.object({type:rJ.literal("list"),title:rJ.string().optional(),callToAction:nU.optional(),items:rJ.array(nA),control:rJ.string().optional(),margin:r4.optional()}),nJ=rJ.object({type:rJ.literal("status-list"),items:rJ.array(nZ),title:rJ.string().optional(),control:rJ.string().optional(),margin:r4.optional()});rJ.object({results:rJ.array(nH)});var nX=rJ.object({type:rJ.literal("blob"),promoted:rJ.boolean().optional(),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),hidden:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),validationAsync:nw.optional(),validationMessages:rJ.record(rJ.string()).optional(),alert:nY.optional(),cameraConfig:ny.optional(),accepts:rJ.array(rJ.string()).optional(),maxSize:rJ.number().optional(),source:nC.optional(),disabled:rJ.boolean().optional()}),nQ=rJ.object({hidden:rJ.boolean().optional(),alert:nY.optional(),control:rJ.string().optional(),promoted:rJ.boolean().optional(),$id:rJ.string().optional(),const:ny,title:rJ.string().optional(),description:rJ.string().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),disabled:rJ.boolean().optional()}),n0=rJ.lazy(()=>rJ.union([nY,n1,nN,n2,nB,ne,nc,nd,nr,ns,n_,nG,r8,nu,n4,r7,nq,no,nJ])),n1=rJ.lazy(()=>rJ.object({type:rJ.literal("box"),components:rJ.array(n0),width:r4.optional(),border:rJ.boolean().optional(),control:rJ.string().optional(),margin:r4.optional()})),n2=rJ.lazy(()=>rJ.object({type:rJ.literal("columns"),left:rJ.array(n0),right:rJ.array(n0),bias:nm.optional(),control:rJ.string().optional(),margin:r4.optional()})),n4=rJ.lazy(()=>rJ.object({type:rJ.literal("modal"),control:rJ.string().optional(),margin:r4.optional(),trigger:nl,content:n9})),n9=rJ.lazy(()=>rJ.object({title:rJ.string().optional(),components:rJ.array(n0)})),n3=rJ.lazy(()=>rJ.object({key:rJ.string().optional(),type:rJ.string().optional(),actions:rJ.array(nj).optional(),refreshFormUrl:rJ.string().optional(),id:rJ.string(),title:rJ.string(),schemas:rJ.array(n5),layout:rJ.array(n0),description:rJ.string().optional(),model:ny.optional(),external:ng.optional(),polling:nK.optional(),linkHandlers:rJ.array(nz).optional(),analytics:rJ.record(rJ.string()).optional(),errors:nf.optional(),navigation:nW.optional(),refreshUrl:rJ.string().optional()})),n5=rJ.lazy(()=>rJ.union([n6,n8,nX,n7,nQ,ie,it,ia,ir,ii])),n6=rJ.lazy(()=>rJ.object({disabled:rJ.boolean().optional(),promoted:rJ.boolean().optional(),allOf:rJ.array(n5),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),hidden:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),alert:nY.optional()})),n8=rJ.lazy(()=>rJ.union([il,is])),n7=rJ.lazy(()=>rJ.object({type:rJ.literal("boolean"),autofillProvider:rJ.string().optional(),promoted:rJ.boolean().optional(),refreshFormOnChange:rJ.boolean().optional(),refreshUrl:rJ.string().optional(),refreshFormUrl:rJ.string().optional(),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),default:rJ.boolean().optional(),hidden:rJ.boolean().optional(),disabled:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),persistAsync:io.optional(),refreshStepOnChange:rJ.boolean().optional(),validationAsync:nw.optional(),alert:nY.optional(),autofillKey:rJ.string().optional(),help:np.optional()})),ie=rJ.lazy(()=>rJ.object({type:rJ.literal("integer"),autofillProvider:rJ.string().optional(),promoted:rJ.boolean().optional(),refreshFormOnChange:rJ.boolean().optional(),refreshUrl:rJ.string().optional(),refreshFormUrl:rJ.string().optional(),placeholder:rJ.string().optional(),minimum:rJ.number().optional(),maximum:rJ.number().optional(),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),default:rJ.number().optional(),hidden:rJ.boolean().optional(),disabled:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),persistAsync:io.optional(),refreshStepOnChange:rJ.boolean().optional(),validationAsync:nw.optional(),validationMessages:rJ.record(rJ.string()).optional(),alert:nY.optional(),autocompleteHint:rJ.array(r6).optional(),autofillKey:rJ.string().optional(),help:np.optional()})),it=rJ.lazy(()=>rJ.object({type:rJ.literal("number"),autofillProvider:rJ.string().optional(),promoted:rJ.boolean().optional(),refreshFormOnChange:rJ.boolean().optional(),refreshUrl:rJ.string().optional(),refreshFormUrl:rJ.string().optional(),placeholder:rJ.string().optional(),minimum:rJ.number().optional(),maximum:rJ.number().optional(),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),default:rJ.number().optional(),hidden:rJ.boolean().optional(),disabled:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),persistAsync:io.optional(),refreshStepOnChange:rJ.boolean().optional(),validationAsync:nw.optional(),validationMessages:rJ.record(rJ.string()).optional(),alert:nY.optional(),autocompleteHint:rJ.array(r6).optional(),autofillKey:rJ.string().optional(),help:np.optional()})),ia=rJ.lazy(()=>rJ.object({type:rJ.literal("object"),disabled:rJ.boolean().optional(),promoted:rJ.boolean().optional(),help:np.optional(),properties:rJ.record(n5),displayOrder:rJ.array(rJ.string()),required:rJ.array(rJ.string()).optional(),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),hidden:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),alert:nY.optional()})),ir=rJ.lazy(()=>rJ.object({autofillProvider:rJ.string().optional(),promoted:rJ.boolean().optional(),refreshFormOnChange:rJ.boolean().optional(),refreshUrl:rJ.string().optional(),refreshFormUrl:rJ.string().optional(),promotion:ny.optional(),oneOf:rJ.array(n5),placeholder:rJ.string().optional(),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),default:ny.optional(),hidden:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),refreshStepOnChange:rJ.boolean().optional(),alert:nY.optional(),help:np.optional(),autocompleteHint:rJ.array(r6).optional(),autofillKey:rJ.string().optional(),validationMessages:rJ.record(rJ.string()).optional(),disabled:rJ.boolean().optional()})),ii=rJ.lazy(()=>rJ.object({type:rJ.literal("string"),autofillProvider:rJ.string().optional(),promoted:rJ.boolean().optional(),refreshFormOnChange:rJ.boolean().optional(),refreshUrl:rJ.string().optional(),refreshFormUrl:rJ.string().optional(),format:nv.optional(),displayFormat:rJ.string().optional(),placeholder:rJ.string().optional(),minLength:rJ.number().optional(),maxLength:rJ.number().optional(),minimum:rJ.string().optional(),maximum:rJ.string().optional(),pattern:rJ.string().optional(),autocapitalization:r9.optional(),$id:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),default:rJ.string().optional(),hidden:rJ.boolean().optional(),disabled:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),persistAsync:io.optional(),refreshStepOnChange:rJ.boolean().optional(),validationAsync:nw.optional(),validationMessages:rJ.record(rJ.string()).optional(),alert:nY.optional(),cameraConfig:ny.optional(),accepts:rJ.array(rJ.string()).optional(),maxSize:rJ.number().optional(),source:nC.optional(),autocompleteHint:rJ.array(r6).optional(),autofillKey:rJ.string().optional(),help:np.optional()})),il=rJ.lazy(()=>rJ.object({type:rJ.literal("array"),promoted:rJ.boolean().optional(),$id:rJ.string().optional(),items:n5,addItemTitle:rJ.string(),editItemTitle:rJ.string(),minItems:rJ.number().optional(),maxItems:rJ.number().optional(),placeholder:rJ.string().optional(),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),hidden:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nb.optional(),analyticsId:rJ.string().optional(),persistAsync:io.optional(),validationAsync:nw.optional(),alert:nY.optional(),validationMessages:rJ.record(rJ.string()).optional(),disabled:rJ.boolean().optional()})),io=rJ.lazy(()=>rJ.object({param:rJ.string(),idProperty:rJ.string(),schema:n5,url:rJ.string(),method:rQ})),is=rJ.lazy(()=>rJ.object({type:rJ.literal("array"),promoted:rJ.boolean().optional(),$id:rJ.string().optional(),items:rJ.array(n5),title:rJ.string().optional(),description:rJ.string().optional(),control:rJ.string().optional(),hidden:rJ.boolean().optional(),icon:r5.optional(),image:rX.optional(),keywords:rJ.array(rJ.string()).optional(),summary:nx.optional(),analyticsId:rJ.string().optional(),persistAsync:io.optional(),validationAsync:nw.optional(),alert:nY.optional()})),ic=e=>iu(e,n3),id=e=>iu(e,nP),iu=(e,t)=>{let a=t.safeParse(e);return a.success?{valid:!0}:{valid:!1,errors:JSON.stringify(im(a.error.errors))}},im=e=>e.flatMap(e=>"invalid_type"===e.code?e:"invalid_union"===e.code?e.unionErrors.flatMap(e=>e.issues.every(e=>"invalid_literal"!==e.code)?im(e.issues):void 0):void 0).filter(Boolean),ip=async e=>Promise.all(e.map(async e=>e.getSubmittableValue())).then(e=>e.reduce((e,t)=>iv(e,t),null)),ih=e=>e.map(e=>e.getSubmittableValueSync()).reduce((e,t)=>iv(e,t),null),iy=e=>e.map(e=>e.getLocalValue()).reduce((e,t)=>ig(e,t),null),ig=(e,t)=>null===e?t:null===t?e:e3(e)&&e3(t)?ex(ex({},e),t):t,iv=(e,t)=>null===e?t:null===t?e:e6(e)&&e6(t)?ex(ex({},e),t):t,ib=e=>t=>{let{summary:a,icon:r,image:n}=e;return iF(a,{value:eq(t)?t:null,icon:r,image:n})},iw=(e,t)=>{let{summary:a,icon:r,image:n}=e;return iF(a,{value:eq(t)?t:null,icon:r,image:n})},ix=e=>e.reduce((e,t)=>iC(e,t.getSummary()),{}),iC=(e,t)=>{var a,r,n,i;return{title:null!=(a=e.title)?a:t.title,description:null!=(r=e.description)?r:t.description,icon:null!=(n=e.icon)?n:t.icon,image:null!=(i=e.image)?i:t.image}},iF=(e,{value:t,icon:a,image:r})=>e?{title:e.providesTitle&&t||void 0,description:e.providesDescription&&t||void 0,icon:e.providesIcon&&a||void 0,image:e.providesImage&&r||void 0}:{},iS=e=>e.reduce((e,t)=>t.validate()&&e,!0),ik=e=>t=>e.map(e=>e(t)).filter(eq),ij=(e,t)=>a=>{t(e,e=>{a(e)})},iA=e=>{let{uid:t,stepPolling:a,updateComponent:r}=e,n=eS(e,["uid","stepPolling","updateComponent"]),i=ij(t,r);return eC(ex({uid:t},n),{type:"step",getChildren(){return this.components},async getSubmittableValue(){return ip(this.components)},getSubmittableValueSync(){return ih(this.components)},getSummary(){return ix(this.getChildren())},getLocalValue(){return iy(this.components)},validate(){return iS(this.getChildren())},setLoadingState(e){i(t=>{t.loadingState=e})},stop(){null==a||a.stop()}})},iE=({pollingConfig:e,onAction:t,onPoll:a})=>{let{interval:r,delay:n=r,maxAttempts:i,url:l,onError:o}=e,s=new AbortController;if(null==n)throw Error("Polling configuration must include delay or interval");let c=i_(o),d=0,u=()=>{d+=1,s.abort();let{signal:e}=s=new AbortController;a(l,c,e).then(a=>{if(a){p();return}d>=i&&!e.aborted&&(t(c),p())}).catch(()=>{})},m=setInterval(u,1e3*n),p=()=>{clearTimeout(m),s.abort()};return u(),{stop:p}},i_=e=>"behavior"in e&&(e.behavior&&"type"in e.behavior&&"action"===e.behavior.type||e.behavior&&"action"in e.behavior&&e.behavior.action)?e.behavior.action:"action"in e?e.action:{},iI=e=>eC(ex({type:"alert"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0}),iO=e=>{switch(e){case"success":return"positive";case"failure":return"negative";case"info":case"primary":return"neutral";default:return e}},iN=e=>{switch(e){case"left":return"start";case"right":return"end";default:return e}},iT=e=>{switch(e){case"left":return"start";case"right":return"end";default:return e}},iL={positive:"positive",negative:"negative",primary:"neutral",secondary:"neutral",link:"neutral"},iM=e=>e&&e in iL?iL[e]:"neutral",iP={primary:"primary",secondary:"secondary",link:"tertiary",positive:"primary",negative:"primary"},iz=e=>e&&e in iP?iP[e]:"secondary",iR=(e,{control:t,markdown:a,margin:r="md",context:n="neutral",callToAction:i},{onAction:l})=>iI({uid:e,control:t,markdown:a,margin:r,callToAction:iD(i,l),context:iO(n)}),iD=(e,t)=>{if(!e)return;let{accessibilityDescription:a,behavior:r,title:n}=e;if("type"in r)switch(r.type){case"action":{let{action:e}=r;return{type:"action",accessibilityDescription:a,title:n,onClick:()=>{t(e)}}}case"link":return{type:"link",accessibilityDescription:a,href:r.url,title:n};default:return}if(r.link){let{url:e}=r.link;return{type:"link",accessibilityDescription:a,href:e,title:n}}if(r.action){let{action:e}=r;return{type:"action",accessibilityDescription:a,title:n,onClick:()=>{t(e)}}}},iV=e=>eC(ex({},e),{type:"box",getChildren(){return this.components},async getSubmittableValue(){return ip(this.components)},getSubmittableValueSync(){return ih(this.components)},getSummary(){return ix(this.getChildren())},getLocalValue(){return iy(this.components)},validate(){return iS(this.getChildren())}}),i$=(e,{border:t=!1,components:a,control:r,margin:n="md",width:i="xl"},l)=>iV({uid:e,border:t,control:r,margin:n,width:i,components:a.map((t,a)=>sh(`${e}.box-${a}`,t,l))}),iU=e=>eC(ex({type:"button"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0}),iB=(e,t=[])=>e.$ref?ex(ex({},iZ(e.$ref,t)),e):e,iZ=(e,t=[])=>{let a=t.find(t=>t.$id===e);if(!a)throw Error("Action reference not found in actions array.");return a},iq=(e,t,a)=>t.behavior?iH(e,eC(ex({},t),{behavior:t.behavior}),a):t.action?iK(e,eC(ex({},t),{action:t.action}),a):iW(e,t),iH=(e,t,a)=>{let{onAction:r,onLink:n,step:i}=a,{context:l,control:o,disabled:s,margin:c="md",pinOrder:d,size:u,title:m,behavior:p}=t;return iU({uid:e,context:iO(null!=l?l:"neutral"),control:o,disabled:null!=s&&s,margin:c,pinOrder:d,size:u,title:null!=m?m:"",onClick:(()=>{if("type"in p)switch(p.type){case"action":{let e=iB(p.action,null==i?void 0:i.actions);return()=>{r(e)}}case"link":{let{url:e}=p;return()=>{n(e)}}default:return()=>{}}let{action:e,link:t}=p,a=e?iB(e,null==i?void 0:i.actions):null;return a?()=>{r(a)}:t?()=>{n(t.url)}:()=>{}})()})},iK=(e,t,a)=>{let{onAction:r,step:n}=a,{context:i,control:l,disabled:o,margin:s="md",pinOrder:c,size:d,title:u}=t,{action:m}=t,p=m?iB(m,null==n?void 0:n.actions):{};return iU({uid:e,context:iX({context:i,action:p}),control:iJ({control:l,action:p}),disabled:iG({disabled:o,action:p}),margin:s,pinOrder:c,size:d,title:iY({title:u,action:p}),onClick:()=>{r(p)}})},iW=(e,t)=>{let{context:a,control:r,disabled:n,margin:i="md",pinOrder:l,size:o,title:s}=t;return iU({uid:e,context:iO(null!=a?a:"neutral"),control:r,disabled:null!=n&&n,margin:i,pinOrder:l,size:o,title:null!=s?s:"",onClick:()=>{}})},iY=({title:e,action:t})=>{var a;return null!=(a=null!=e?e:null==t?void 0:t.title)?a:""},iG=({disabled:e,action:t})=>{var a;return null!=(a=null!=e?e:null==t?void 0:t.disabled)&&a},iJ=({control:e,action:t})=>e||((null==t?void 0:t.type)?iz(t.type):void 0),iX=({context:e,action:t})=>e?iO(e):(null==t?void 0:t.type)?iM(t.type):"neutral",iQ=e=>eC(ex({},e),{type:"columns",getChildren(){return[...this.startComponents,...this.endComponents]},async getSubmittableValue(){return ip(this.getChildren())},getSubmittableValueSync(){return ih(this.getChildren())},getSummary(){return ix(this.getChildren())},getLocalValue(){return iy(this.getChildren())},validate(){return iS(this.getChildren())}}),i0=(e,{control:t,left:a,right:r,bias:n="none",margin:i="md"},l)=>iQ({uid:e,control:t,margin:i,bias:iN(n),startComponents:a.map((t,a)=>sh(`${e}.columns-start-${a}`,t,l)),endComponents:r.map((t,a)=>sh(`${e}.columns-end-${a}`,t,l))}),i1=e=>eC(ex({type:"decision"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0}),i2=(e,{control:t,margin:a="md",options:r,title:n},i)=>i1({uid:e,control:t,margin:a,options:r.map(e=>eC(ex({},e),{href:i4(e),onClick:i9(e,i)})),title:n}),i4=e=>{let{behavior:t}=e;if(t&&"type"in t&&"link"===t.type)return t.url},i9=(e,{step:t,onAction:a,onLink:r})=>{let{behavior:n}=e;if(!n){let r=iB(e.action,null==t?void 0:t.actions);return()=>{a(r)}}if("type"in n)switch(n.type){case"action":{let e=iB(n.action,null==t?void 0:t.actions);return()=>{a(e)}}case"link":return()=>{r(n.url)}}return()=>{}},i3=e=>eC(ex({type:"divider"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0}),i5=(e,{control:t,margin:a="md"})=>i3({uid:e,control:t,margin:a});function i6({value:e,signal:t,requestConfig:a}){let r=e instanceof File,{method:n,param:i}=a,l=r?i8(i,e):JSON.stringify({[i]:e});return{method:n,headers:ex({},!r&&{"Content-Type":"application/json"}),body:l,signal:t}}var i8=(e,t)=>{let a=new FormData;return a.append(e,t),a},i7=e=>(e.abort(),new AbortController),le=(e,t)=>{if(e5(e)&&e5(t))return e.length===t.length&&e.every((e,a)=>le(e,t[a]));if(e3(e)&&e3(t)){let a=Object.keys(e),r=Object.keys(t);return a.length===r.length&&a.every(a=>le(e[a],t[a]))}return e===t},lt=(e,t)=>async(a,r)=>{let{abortController:n,lastSubmitted:i,submission:l}=a;if(le(i,r))return l;let o=i7(n);if(eQ(r)){let t=Promise.resolve(null);return e(e=>{e.persistedState.abortController=o,e.persistedState.lastResponse=null,e.persistedState.lastSubmitted=r,e.persistedState.submission=t}),t}let{signal:s}=o,c=t({value:r,signal:s}).then(t=>(e(e=>{e.persistedState.lastResponse=t}),t)).catch(t=>{if(t instanceof DOMException&&"AbortError"===t.name)return null;throw e(e=>{e.errors=[t.message],e.persistedState.lastResponse=null,e.persistedState.lastSubmitted=null}),t});return e(e=>{e.persistedState={abortController:o,lastResponse:null,lastSubmitted:r,submission:c}}),c},la=(e,t)=>async(a,r)=>{if(eQ(a))throw Error("Value must be a file or base64 string.");let n=new AbortController,{signal:i}=n,l=t({value:a,signal:i}).then(t=>(e(e=>{let a=e.persistedState.findIndex(e=>e.id===r);e.persistedState[a].lastResponse=t}),t)).catch(t=>{throw e(e=>{e.persistedState=e.persistedState.filter(e=>e.id!==r)}),t});return e(e=>{e.persistedState=[...e.persistedState,{id:r,abortController:n,lastResponse:null,lastSubmitted:null,submission:l}]}),l},lr=(e,t)=>{let a=null,r=null,n=()=>{a&&(clearTimeout(a),a=null),r=null},i=(...n)=>{r=n,null!==a&&clearTimeout(a),a=setTimeout(()=>{e(...r),a=null,r=null},t)};return i.cancel=()=>{null!==a&&n()},i.flush=()=>{null!==a&&(e(...r),n())},i},ln=(e,t)=>{var a,r;if("refreshStepOnChange"in e&&null!=(a=e.refreshStepOnChange)&&a||"refreshFormOnChange"in e&&null!=(r=e.refreshFormOnChange)&&r){let{$id:a,analyticsId:r,refreshUrl:n,refreshFormUrl:i}=e,l=null!=r?r:a;return()=>{t(l,null!=n?n:i)}}},li=e=>e?lr(e,1e3):void 0,ll=(e,t)=>async(a,r)=>{let{abortController:n,lastSubmitted:i}=a;if(i===r)return;let l=i7(n);if(eQ(r)){e(e=>{e.validationAsyncState={abortController:l,lastSubmitted:r,messages:{}}});return}let{signal:o}=l,s=t({value:r,signal:o}).then(t=>(e(e=>{t&&(e.validationAsyncState.messages.success=t)}),t)).catch(t=>{if(t instanceof DOMException&&"AbortError"===t.name)return null;e(e=>{e.validationAsyncState.messages.error=t.message})});return e(e=>{e.validationAsyncState={abortController:l,lastSubmitted:r,messages:{}}}),s},lo=(e,t)=>{let{uid:a,id:r,checks:n,performPersistAsync:i,performRefresh:l,performValidationAsync:o,onValueChange:s,summariser:c}=e,d=eS(e,["uid","id","checks","performPersistAsync","performRefresh","performValidationAsync","onValueChange","summariser"]),u=li(l),m=ij(a,t),p=ik(n),h=e=>{let t=p(e);return m(e=>{e.errors=t}),t},y=ex({type:"number",uid:a,id:r,onBlur(){h(this.getLocalValue()),null==u||u.flush()},onFocus(){},onChange(e){m(t=>{t.errors=[],t.validationAsyncState.messages={},t.value=e}),null==u||u(),s()},async getSubmittableValue(){return this.getSubmittableValueSync()},getSubmittableValueSync(){var e;return null!=(e=this.getLocalValue())?e:null},getSummary(){return c(this.getLocalValue())},getLocalValue(){return this.value},validate(){return 0===h(this.getLocalValue()).length}},d);if(l)return y;if(i){let e=lt(m,i);return eC(ex({},y),{onBlur(){this.validate()&&e(this.persistedState,this.getLocalValue()).catch(()=>{})},async getSubmittableValue(){return e(this.persistedState,this.getLocalValue())},getSubmittableValueSync(){return this.persistedState.lastResponse}})}if(o){let e=ll(m,o);return eC(ex({},y),{onBlur(){this.validate()&&e(this.validationAsyncState,this.getLocalValue()).catch(()=>{})}})}return y},ls=(e,t)=>{if(e)try{RegExp(e,"u")}catch(r){let a="Invalid schema pattern. Failed to instantiate RegExp with Unicode support.";t?t("warning",a,{pattern:e,error:null==r?void 0:r.toString()}):console.warn(`DynamicFlow - warning - ${a}`,{pattern:e,error:null==r?void 0:r.toString()})}},lc=({maxItems:e},t)=>a=>eH(e)&&eG(a)&&a.length>e?t.maxItems(e):null,ld=({minItems:e},t)=>a=>eH(e)&&eG(a)&&a.length>0&&a.length<e?t.minFiles(e):null,lu=({maxItems:e},t)=>a=>eH(e)&&eG(a)&&a.length>e?t.maxFiles(e):null,lm=(e,t)=>a=>{let r="persistAsync"in e?e.persistAsync.schema.maxSize:e.maxSize;return r&&a&&a.size>r?t.maxSize():null},lp=(e,t)=>a=>{let r="persistAsync"in e?e.persistAsync.schema.accepts:e.accepts;return r&&a&&!r.includes(a.type)?t.accepts():null},lh=({minItems:e},t)=>a=>eH(e)&&eG(a)&&a.length>0&&a.length<e?t.minItems(e):null,ly=({maxLength:e},t)=>a=>eH(e)&&eq(a)&&a.length>e?t.maxLength(e):null,lg=({minLength:e},t)=>a=>eH(e)&&eq(a)&&a.length<e?t.minLength(e):null,lf=({maximum:e},t)=>a=>eH(e)&&eH(a)&&a>e?t.maximum(e):null,lv=({minimum:e},t)=>a=>eH(e)&&eH(a)&&a<e?t.minimum(e):null,lb=({maximum:e},t)=>a=>eq(e)&&eq(a)&&a>e?t.maximumDate(e):null,lw=({minimum:e},t)=>a=>eq(e)&&eq(a)&&a<e?t.minimumDate(e):null,lx=({pattern:e},t,a)=>(ls(e,null==a?void 0:a.logEvent),a=>eq(e)&&eq(a)?new RegExp(e).test(a)?null:t.pattern():null),lC=(e,t)=>a=>e?eG(a)&&0===a.length?t.required():eQ(a)?t.required():null:null,lF=e=>{if(!e||0===e.length)return"off";let t=e.filter(e=>lS[e]);return 0===t.length?"off":t.map(e=>lS[e]).join(" ")},lS={on:"on",name:"name","name-prefix":"honorific-prefix","given-name":"given-name","additional-name":"additional-name","family-name":"family-name","name-suffix":"honorific-suffix",nickname:"nickname",email:"email","new-username":"username",username:"username","new-password":"new-password",password:"current-password","one-time-code":"one-time-code","job-title":"organization-title","organization-name":"organization","full-street-address":"street-address","street-address-line-1":"address-line1","street-address-line-2":"address-line2","street-address-line-3":"address-line3","address-level-1":"address-level1","address-level-2":"address-level2","address-level-3":"address-level3","address-level-4":"address-level4","country-code":"country","country-name":"country-name","postal-code":"postal-code","credit-card-name":"cc-name","credit-card-given-name":"cc-given-name","credit-card-middle-name":"cc-additional-name","credit-card-family-name":"cc-family-name","credit-card-number":"cc-number","credit-card-expiration":"cc-exp","credit-card-expiration-month":"cc-exp-month","credit-card-expiration-year":"cc-exp-year","credit-card-security-code":"cc-csc","credit-card-type":"cc-type","transaction-currency":"transaction-currency","transaction-amount":"transaction-amount",language:"language",birthdate:"bday","birthdate-day":"bday-day","birthdate-month":"bday-month","birthdate-year":"bday-year",gender:"sex","phone-number":"tel","phone-country-code":"tel-country-code","phone-national":"tel-national","phone-area-code":"tel-area-code","phone-local":"tel-local","phone-local-prefix":"tel-local-prefix","phone-local-suffix":"tel-local-suffix","phone-extension":"tel-extension",url:"url",photo:"photo",impp:"impp",shipping:"shipping",billing:"billing",home:"home",work:"work",mobile:"mobile",fax:"fax",pager:"pager"},lk=e=>{if(!lj(e))throw Error("Incorrect type of response from fetch. Expected object of type Response.");if(e.bodyUsed)throw Error("The body of the provided Response object has already been used. Every request must respond with a new Response object.")},lj=e=>"object"==typeof e&&null!==e&&"clone"in e&&"bodyUsed"in e,lA=async e=>{try{return await e.json()}catch(e){return null}};function lE(e){if(!eY(e)||!eY(e.action))throw Error("Incorrect response body in action response. Expected an object satisfying the type { action: Action }.")}function l_(e){return!!(eY(e)&&(e.refreshFormUrl||e.refreshUrl||e.validation||e.error||e.analytics))}function lI(e){if(!eY(e))throw Error("Incorrect response body in step response. Expected an object.")}var lO=e=>{if(!l_(e))return;let{analytics:t}=e;return eY(t)?t:void 0},lN=({genericErrorMessage:e,httpClient:t,persistAsyncConfig:a,schemaId:r,logEvent:n,trackEvent:i})=>{let{idProperty:l,param:o,method:s,url:c}=a,d=e=>{i("PersistAsync Failed",ex({schema:r},lO(e)))};return async function({value:a,signal:u}){let m,p;try{if(i("PersistAsync Triggered",{schema:r}),m=await t(c,i6({value:a,signal:u,requestConfig:{method:s,param:o}})),p=await m.json(),m.ok&&eY(p)){if(i("PersistAsync Succeeded",{schema:r}),void 0===p[l])throw n("error",`Response from persist async did not contain expected property ${l}.`),Error(e);return p[l]}}catch(t){throw d(),Error(e)}let h=!m.ok&&eY(p)?lT(o,p):null;throw d(p),Error(null!=h?h:e)}},lT=(e,t)=>{var a;let r=null==(a=t.validation)?void 0:a[e];return eq(r)?r:null},lL=(e,t)=>({abortController:new AbortController,lastSubmitted:eQ(t)?null:null!=e?e:null,lastResponse:null!=t?t:null,submission:Promise.resolve(null!=t?t:null)}),lM=(e,t)=>{let{localValue:a,model:r}=e,n=lP(e,t),i=n?lL(a,r):lL();return{performPersistAsync:n,persistedState:i}},lP=(e,t)=>{let{schema:a,persistAsyncConfig:r}=e,{trackEvent:n,logEvent:i}=t;if(!r)return;let{$id:l,analyticsId:o}=a,{getErrorMessageFunctions:s,httpClient:c}=t;return lN({genericErrorMessage:s(lz(a)?a.validationMessages:void 0).genericError(),httpClient:c,logEvent:i,persistAsyncConfig:r,schemaId:null!=o?o:l,trackEvent:n})},lz=e=>!!("validationMessages"in e&&e.validationMessages),lR=e=>{var t;let{uid:a,schema:r,required:n,validationErrors:i}=e,{$id:l,analyticsId:o,control:s,description:c,icon:d,image:u,keywords:m,title:p,hidden:h}=r;return ex(ex({uid:a,id:null!=l?l:a,analyticsId:null!=(t=null!=o?o:l)?t:"",control:s,description:c,disabled:!!lD(r)&&r.disabled,errors:eq(i)?[i]:void 0,hidden:!!h,icon:d,image:u,keywords:m,required:!!n,title:p,summariser:ib(r)},lV(r)?{help:r.help.markdown}:{}),l$(r)?{placeholder:r.placeholder}:{})},lD=e=>!!("disabled"in e&&void 0!==e.disabled),lV=e=>!!("help"in e&&e.help),l$=e=>!!("placeholder"in e&&e.placeholder),lU=({httpClient:e,validationAsyncConfig:t,schemaId:a,trackEvent:r})=>{let{method:n,param:i,url:l}=t,o=e=>(r("ValidationAsync Failed",ex({schema:a},lO(e))),null);return async function({value:t,signal:s}){let c;r("ValidationAsync Triggered",{schema:a});try{c=await e(l,i6({value:t,signal:s,requestConfig:{method:n,param:i}}))}catch(e){return o()}let d=await c.json().catch(()=>null),u=lB(d);if(c.ok)return r("ValidationAsync Succeeded",{schema:a}),u;if(422===c.status&&u)throw r("ValidationAsync Succeeded",{schema:a}),Error(u);return o(d)}},lB=e=>{if(!eY(e))return null;let{message:t}=e;return eq(t)?t:null},lZ=()=>({abortController:new AbortController,lastSubmitted:null,messages:{}}),lq=(e,t)=>({performValidationAsync:lH(e,t),validationAsyncState:lZ()}),lH=(e,t)=>{let{schema:a}=e,{trackEvent:r}=t;if(!lK(a))return;let{$id:n,analyticsId:i,validationAsync:l}=a,{httpClient:o}=t;return lU({httpClient:o,validationAsyncConfig:l,schemaId:null!=i?i:n,trackEvent:r})},lK=e=>!!("validationAsync"in e&&e.validationAsync),lW=(e,t)=>{let{schema:a,model:r,localValue:n,required:i=!1}=e,{autocompleteHint:l,validationMessages:o,default:s,maximum:c,minimum:d}=a,{getErrorMessageFunctions:u,updateComponent:m,onRefresh:p,onValueChange:h}=t,y=u(o),{performPersistAsync:g,persistedState:f}=lM(e,t),{performValidationAsync:v,validationAsyncState:b}=lq(e,t),w=eH(n)?n:null,x=eH(r)?r:null!=s?s:null;return lo(eC(ex({},lR(e)),{autoComplete:lF(l),checks:[lC(i,y),lv(a,y),lf(a,y)],value:g?w:x,maximum:c,minimum:d,persistedState:f,validationAsyncState:b,performPersistAsync:g,performRefresh:ln(a,p),performValidationAsync:v,onValueChange:h}),m)},lY=e=>{let{uid:t,analyticsId:a,componentMap:r,control:n,description:i,displayOrder:l,help:o,hidden:s,icon:c,image:d,summariser:u,title:m}=e;return{type:"object",uid:t,analyticsId:a,componentMap:r,control:n,description:i,help:o,hidden:s,icon:c,image:d,title:m,getChildren(){return l.map(e=>this.componentMap[e])},async getSubmittableValue(){return Promise.all(l.map(async e=>this.componentMap[e].getSubmittableValue().then(t=>({value:t,propName:e})))).then(e=>e.reduce((e,{value:t,propName:a})=>ex(ex({},e),null===t?{}:{[a]:t}),{}))},getSubmittableValueSync(){return lG(l,e=>this.componentMap[e].getSubmittableValueSync())},getSummary(){return iC(u(this.getLocalValue()),ix(this.getChildren()))},getLocalValue(){return lG(l,e=>this.componentMap[e].getLocalValue())},validate(){return!!s||iS(this.getChildren())}}},lG=(e,t)=>e.reduce((e,a)=>{let r=t(a);return ex(ex({},e),null===r?{}:{[a]:r})},{}),lJ=(e,t)=>{let{uid:a,localValue:r,schema:n,model:i,validationErrors:l}=e,{$id:o,displayOrder:s,properties:c,required:d}=n;lX(o,s,c,t.logEvent);let u=s.reduce((e,n)=>{var s;let u=c[n];if(void 0===u)throw Error(`Object schema ${o} has no property named ${n}`);return eC(ex({},e),{[n]:oV({uid:`${a}.obj-${n}`,schema:u,model:e6(i)?i[n]:null,localValue:e3(r)?r[n]:null,required:null!=(s=null==d?void 0:d.includes(n))&&s,validationErrors:eY(l)?l[n]:void 0},t)})},{});return lY(eC(ex({},lR(e)),{componentMap:u,displayOrder:s}))},lX=(e,t,a,r)=>{if(!t){let t=`Object schema ${e} has no displayOrder property.`;throw r("error",t),Error(t)}let n=Object.keys(a);t.forEach(t=>{if(!a[t]){let a=`Object schema ${e} has no property named "${t}", but it is listed in the displayOrder array.`;throw r("error",a),Error(a)}}),n.forEach(a=>{if(!t.includes(a)){let t=`Object schema ${e} has a "${a}" property which is missing in the displayOrder array.`;throw r("error",t),Error(t)}})},lQ=e=>{let{uid:t,analyticsId:a,components:r,control:n,description:i,help:l,hidden:o,icon:s,image:c,title:d}=e;return{type:"all-of",uid:t,analyticsId:a,components:r,control:n,description:i,help:l,hidden:o,icon:s,image:c,title:d,getChildren(){return this.components},getSummary(){return ix(this.getChildren())},async getSubmittableValue(){return ip(this.components)},getSubmittableValueSync(){return ih(this.components)},getLocalValue(){return iy(this.components)},validate(){return!!o||iS(this.getChildren())}}},l0=(e,t)=>{let{uid:a,schema:r,localValue:n,model:i,required:l,validationErrors:o}=e,{allOf:s}=r,c=s.map((e,r)=>oV({uid:`${a}.allOf-${r}`,schema:e,model:i,localValue:n,required:l,validationErrors:o},t));return lQ(eC(ex({},lR(e)),{components:c}))},l1=e=>{let{uid:t,analyticsId:a,value:r,summary:n}=e;return{type:"const",uid:t,analyticsId:a,getLocalValue:()=>r,getSubmittableValue:async()=>r,getSubmittableValueSync:()=>r,getSummary:()=>n,validate:()=>!0}},l2=(e,t)=>{var a;let{schema:r}=t,{title:n,const:i,analyticsId:l,$id:o}=r;return l1({uid:e,analyticsId:null!=l?l:o,summary:iw(r,null!=(a=null!=n?n:i)?a:null),value:r.const})},l4=(e,t)=>{let{uid:a,id:r,checks:n,value:i,performPersistAsync:l,performRefresh:o,performValidationAsync:s,onValueChange:c,summariser:d}=e,u=eS(e,["uid","id","checks","value","performPersistAsync","performRefresh","performValidationAsync","onValueChange","summariser"]),m=li(o),p=ij(a,t),h=ik(n),y=e=>{let t=h(e);return p(e=>{e.errors=t}),t},g=ex({type:"integer",uid:a,id:r,value:i,onBlur(){y(this.getLocalValue()),null==m||m.flush()},onFocus(){},onChange(e){p(t=>{t.errors=[],t.validationAsyncState.messages={},t.value=e}),null==m||m(),c()},async getSubmittableValue(){return this.getSubmittableValueSync()},getSubmittableValueSync(){var e;return null!=(e=this.getLocalValue())?e:null},getSummary(){return d(this.getLocalValue())},getLocalValue(){return this.value},validate(){return 0===y(this.getLocalValue()).length}},u);if(o)return g;if(l){let e=lt(p,l);return eC(ex({},g),{onBlur(){this.validate()&&e(this.persistedState,this.getLocalValue()).catch(()=>{})},async getSubmittableValue(){return e(this.persistedState,this.getLocalValue())},getSubmittableValueSync(){return this.persistedState.lastResponse}})}if(s){let e=ll(p,s);return eC(ex({},g),{onBlur(){this.validate()&&e(this.validationAsyncState,this.getLocalValue()).catch(()=>{})}})}return g},l9=(e,t)=>{let{schema:a,localValue:r,model:n,required:i=!1}=e,{autocompleteHint:l,validationMessages:o,default:s,maximum:c,minimum:d}=a,{getErrorMessageFunctions:u,updateComponent:m,onRefresh:p,onValueChange:h}=t,y=u(o),{performPersistAsync:g,persistedState:f}=lM(e,t),{performValidationAsync:v,validationAsyncState:b}=lq(e,t),w=eK(r)?r:null,x=eK(n)?n:null!=s?s:null,C=[lC(i,y),lv(a,y),lf(a,y)];return l4(eC(ex({},lR(e)),{autoComplete:lF(l),checks:C,maximum:c,minimum:d,persistedState:f,value:g?w:x,validationAsyncState:b,performPersistAsync:g,performRefresh:ln(a,p),performValidationAsync:v,onValueChange:h}),m)},l3=(e,t)=>{if(e8(e)&&e8(t))return e.length===t.length&&e.every((e,a)=>l3(e,t[a]));if(e6(e)&&e6(t)){if(0===Object.keys(e).length&&0===Object.keys(t).length)return!0;let a=l5(e).filter(e=>l5(t).includes(e));return a.length>0&&a.every(a=>l3(e[a],t[a]))}return e===t},l5=e=>Object.keys(e).filter(t=>!eQ(e[t])),l6=(e,t)=>{let{uid:a,checks:r,initialModel:n,options:i,performRefresh:l,onValueChange:o,summariser:s}=e,c=eS(e,["uid","checks","initialModel","options","performRefresh","onValueChange","summariser"]),d=i.map(e=>e.component),u=i.map(e=>l3(e.component.getSubmittableValueSync(),n)),m=1===u.filter(e=>e).length?u.indexOf(!0):null,p=ij(a,t),h=ik(r),y=e=>{let t=h(e);return p(e=>{e.errors=t}),t};return eC(ex({uid:a,type:"select",children:d,options:i,selectedIndex:m,value:null},c),{getChildren(){return this.children},getSelectedChild(){return null!==this.selectedIndex?this.children[this.selectedIndex]:null},async getSubmittableValue(){var e,t;return null!=(t=await (null==(e=this.getSelectedChild())?void 0:e.getSubmittableValue()))?t:null},getSubmittableValueSync(){var e,t;return null!=(t=null==(e=this.getSelectedChild())?void 0:e.getSubmittableValueSync())?t:null},getSummary(){var e,t;return null!=(t=null==(e=this.getSelectedChild())?void 0:e.getSummary())?t:{}},getLocalValue(){var e,t;return null!=(t=null==(e=this.getSelectedChild())?void 0:e.getLocalValue())?t:null},onBlur(){y(this.getLocalValue())},onFocus(){},onSelect(t){null!==t&&this.analyticsId&&e.trackEvent("OneOf Selected",{oneOfId:this.analyticsId,schemaId:this.children[t].analyticsId}),p(e=>{e.errors=[],e.selectedIndex=t}),null==l||l(),o()},validate(){var e,t;let a=null==(t=null==(e=this.getSelectedChild())?void 0:e.validate())||t;return 0===y(this.getLocalValue()).length&&a}})},l8=(e,t)=>{var a;let{uid:r,localValue:n,schema:i,model:l,validationErrors:o,required:s=!1}=e,c=null!=(a=null!=l?l:i.default)?a:null;if(1===i.oneOf.length&&l7(i.oneOf[0]))return oV({uid:r,schema:oe(i.oneOf[0]),model:c,localValue:n,validationErrors:o,required:s},t);let d=i.oneOf.map((e,a)=>{let{title:i="",description:l,image:d,icon:u,keywords:m=[]}=e;return{title:i,description:l,image:d,icon:u,keywords:m,disabled:"disabled"in e&&!!e.disabled,component:oV({uid:`${r}.oneOf-${a}`,schema:l7(e)?oe(e):e,model:c,localValue:n,validationErrors:o,required:s},t)}}),{getErrorMessageFunctions:u,updateComponent:m,trackEvent:p,onRefresh:h,onValueChange:y}=t,{validationMessages:g}=i,f=u(g);return l6(eC(ex({},lR(e)),{autoComplete:lF(i.autocompleteHint),checks:i.hidden?[]:[lC(s,f)],options:d,initialModel:c,performRefresh:ln(i,h),onValueChange:y,trackEvent:p}),m)},l7=e=>ti(e)||tc(e)||e7(e),oe=e=>{let{title:t,description:a}=e;return eS(e,["title","description"])},ot=(e,t)=>{let{uid:a,id:r,checks:n,performPersistAsync:i,performRefresh:l,performValidationAsync:o,onValueChange:s,summariser:c,value:d}=e,u=eS(e,["uid","id","checks","performPersistAsync","performRefresh","performValidationAsync","onValueChange","summariser","value"]),m=ij(a,t),p=ik(n),h=e=>{let t=p(e);return m(e=>{e.errors=t}),t},y=ex({type:"date",uid:a,id:r,value:d,onBlur(){h(this.getLocalValue())},onFocus(){},onChange(e){m(t=>{t.errors=[],t.validationAsyncState.messages={},t.value=e}),null==l||l(),s()},async getSubmittableValue(){return this.getSubmittableValueSync()},getSubmittableValueSync(){var e;return null!=(e=this.getLocalValue())?e:null},getSummary(){return c(this.getLocalValue())},getLocalValue(){return this.value},validate(){return 0===h(this.getLocalValue()).length}},u);if(l)return y;if(i){let e=lt(m,i);return eC(ex({},y),{onChange(t){y.onChange.call(this,t),0===p(t).length&&e(this.persistedState,this.getLocalValue()).catch(()=>{})},async getSubmittableValue(){return e(this.persistedState,this.getLocalValue())},getSubmittableValueSync(){return this.persistedState.lastResponse}})}if(o){let e=ll(m,o);return eC(ex({},y),{onBlur(){this.validate()&&e(this.validationAsyncState,this.getLocalValue()).catch(()=>{})}})}return y},oa=(e,t)=>{let{schema:a,localValue:r,model:n,required:i=!1}=e,{autocompleteHint:l,default:o,minimum:s,maximum:c}=a,{getErrorMessageFunctions:d,updateComponent:u,onRefresh:m,onValueChange:p}=t,h=d(a.validationMessages),{performPersistAsync:y,persistedState:g}=lM(e,t),{performValidationAsync:f,validationAsyncState:v}=lq(e,t),b=eq(r)?r:null,w=eq(n)?n:null!=o?o:null;return ot(eC(ex({},lR(e)),{autoComplete:lF(l),checks:a.hidden?[]:[lC(i,h),lb(a,h),lw(a,h)],minimumDate:s,maximumDate:c,value:y?b:w,persistedState:g,validationAsyncState:v,performPersistAsync:y,performRefresh:ln(a,m),performValidationAsync:f,onValueChange:p}),u)},or=async e=>new Promise((t,a)=>{let r=new FileReader;r.addEventListener("load",()=>t(r.result)),r.addEventListener("error",a),r.readAsDataURL(e)}),on=(e,t)=>{if(!oi(e))return null;let[,a]=e.split(",");return new File([oo(a)],t,{type:ol(e)})},oi=e=>e.startsWith("data:")&&e.includes("base64")&&e.includes(","),ol=e=>e.substring(5).split(";")[0],oo=e=>{let t=atob(e).split("").map(e=>e.charCodeAt(0));return Uint8Array.from(t)},os=(e,t)=>{let{uid:a,id:r,checks:n,format:i,value:l,performPersistAsync:o,performRefresh:s,onValueChange:c,summariser:d}=e,u=eS(e,["uid","id","checks","format","value","performPersistAsync","performRefresh","onValueChange","summariser"]),m=ij(a,t),p=ik(n),h=e=>{let t=p(e);return m(e=>{e.errors=t}),t},y=ex({type:"upload",uid:a,id:r,format:"base64",value:l,onBlur(){h(this.getLocalValue())},onFocus(){},async onUpload(e){m(t=>{t.errors=[],t.value=e}),null==s||s(),c()},async getSubmittableValue(){let e=this.getLocalValue();return e?or(e):null},getSubmittableValueSync:()=>null,getSummary(){var e,t;return d(null!=(t=null==(e=this.getLocalValue())?void 0:e.name)?t:null)},getLocalValue(){return this.value},validate(){return 0===h(this.getLocalValue()).length}},u);if(!o)return y;let g=lt(m,o);return eC(ex({},y),{format:i,async onUpload(e){m(t=>{t.errors=[],t.value=e}),c();let t="base64"===i&&e?await or(e):e;await g(this.persistedState,t).catch(e=>{throw m(e=>{e.persistedState.lastResponse=null,e.persistedState.lastSubmitted=null,e.persistedState.submission=Promise.resolve(null),e.errors=[],e.value=null}),e}),c()},async getSubmittableValue(){return this.persistedState.submission},getSubmittableValueSync(){return this.persistedState.lastResponse}})},oc=(e,t)=>{var a;let{schema:r,localValue:n,model:i,required:l=!1}=e,{accepts:o,autocompleteHint:s,hidden:c,maxSize:d,validationMessages:u}=r,{getErrorMessageFunctions:m,updateComponent:p,onRefresh:h,onValueChange:y}=t,g=m(u),{performPersistAsync:f}=lM(e,t),v=f?lL(null,i):lL(),b=e0(n)?n:null,w=null!=(a=od(i))?a:b,x=c?[]:[lC(l,g),lm(r,g),lp(r,g)];return os(eC(ex({},lR(e)),{accepts:o,autoComplete:lF(s),checks:x,format:"base64",maxSize:d,value:w,persistedState:v,performPersistAsync:f,performRefresh:ln(r,h),onValueChange:y}),p)},od=e=>eq(e)?on(e,""):null,ou=(e,t)=>{let{uid:a,id:r,checks:n,performPersistAsync:i,performRefresh:l,performValidationAsync:o,onValueChange:s,summariser:c,value:d}=e,u=eS(e,["uid","id","checks","performPersistAsync","performRefresh","performValidationAsync","onValueChange","summariser","value"]),m=li(l),p=ij(a,t),h=ik(n),y=e=>{let t=h(e);return p(e=>{e.errors=t}),t},g=ex({type:"text",uid:a,id:r,value:d,onBlur(){y(this.getLocalValue()),null==m||m.flush()},onFocus(){},onChange(e){p(t=>{t.errors=[],t.validationAsyncState.messages={},t.value=e}),null==m||m(),s()},async getSubmittableValue(){return this.getSubmittableValueSync()},getSubmittableValueSync(){var e;return null!=(e=this.getLocalValue())?e:null},getSummary(){return c(this.getLocalValue())},getLocalValue(){return this.value},validate(){return 0===y(this.getLocalValue()).length}},u);if(l)return g;if(i){let e=lt(p,i);return eC(ex({},g),{onBlur(){this.validate()&&e(this.persistedState,this.getLocalValue()).catch(()=>{})},async getSubmittableValue(){return e(this.persistedState,this.getLocalValue())},getSubmittableValueSync(){return this.persistedState.lastResponse}})}if(o){let e=ll(p,o);return eC(ex({},g),{onBlur(){this.validate()&&e(this.validationAsyncState,this.getLocalValue()).catch(()=>{})}})}return g},om=(e,t)=>{let{schema:a,localValue:r,model:n,required:i=!1}=e,{autocompleteHint:l,control:o,default:s,displayFormat:c,format:d,maxLength:u,minLength:m,validationMessages:p}=a,{getErrorMessageFunctions:h,updateComponent:y,onRefresh:g,onValueChange:f,logEvent:v}=t,b=op(d),w=h(p),{performPersistAsync:x,persistedState:C}=lM(e,t),{performValidationAsync:F,validationAsyncState:S}=lq(e,t),k=eq(r)?r:null,j=eq(n)?n:null!=s?s:null;return ou(eC(ex({},lR(e)),{autoComplete:lF(l),checks:a.hidden?[]:[lC(i,w),ly(a,w),lg(a,w),lx(a,w,{logEvent:v})],control:null!=o?o:b,displayFormat:c,maxLength:u,minLength:m,value:x?k:j,persistedState:C,validationAsyncState:S,performPersistAsync:x,performRefresh:ln(a,g),performValidationAsync:F,onValueChange:f}),y)},op=e=>{if(e&&["numeric","phone-number","email","password"].includes(e))return e},oh=(e,t)=>{let{schema:a}=e;return oy(a)?oc(eC(ex({},e),{schema:a}),t):"date"===a.format?oa(e,t):om(e,t)},oy=e=>"base64url"===e.format&&!("persistAsync"in e),og=e=>eC(ex({},e),{type:"container",getChildren(){return this.components},async getSubmittableValue(){return ip(this.components)},getSubmittableValueSync(){return ih(this.components)},getSummary(){return ix(this.getChildren())},getLocalValue(){return iy(this.components)},validate(){return iS(this.getChildren())}}),of=(e,t)=>{let{uid:a,id:r,checks:n,components:i,summary:l,onValueChange:o,createEditableComponent:s,summariser:c}=e,d=eS(e,["uid","id","checks","components","summary","onValueChange","createEditableComponent","summariser"]),u=ij(a,t),m=ik(n);return eC(ex({uid:a,id:r,type:"repeatable",components:i,editableComponent:null,editableIndex:null,summaryDefaults:{title:null==l?void 0:l.defaultTitle,description:null==l?void 0:l.defaultDescription,icon:null==l?void 0:l.defaultIcon,image:null==l?void 0:l.defaultImage}},d),{onEdit(e){u(t=>{t.editableComponent=s(t.components[e].getLocalValue()),t.editableIndex=e})},onAdd(){u(e=>{e.editableComponent=s(null),e.editableIndex=null,e.errors=[]})},onSave(){var e;return null!=(e=this.editableComponent)&&!!e.validate()&&(u(e=>{if(null!==e.editableComponent){if(null===e.editableIndex){let t=ex({},e.editableComponent);e.components=[...this.components,t]}else e.components[e.editableIndex]=eC(ex({},e.editableComponent),{uid:e.components[e.editableIndex].uid});e.editableComponent=null,e.editableIndex=null}}),o(),!0)},onRemove(){u(e=>{null!==e.editableIndex&&(e.components.splice(e.editableIndex,1),e.editableComponent=null,e.editableIndex=null)}),o()},getChildren(){return null!==this.editableComponent?[...this.components,this.editableComponent]:this.components},async getSubmittableValue(){return Promise.all(this.components.map(async e=>e.getSubmittableValue()))},getSubmittableValueSync(){return this.components.map(e=>e.getSubmittableValueSync())},getSummary:()=>c(null),getLocalValue(){return this.components.map(e=>e.getLocalValue())},validate(){let e=m(this.getLocalValue()),t=iS(this.getChildren());return u(t=>{t.errors=e}),0===e.length&&t}})},ov=(e,t)=>{let{getErrorMessageFunctions:a}=t,{uid:r,localValue:n,schema:i,model:l,required:o=!1,validationErrors:s}=e,{items:c,addItemTitle:d,editItemTitle:u,maxItems:m,minItems:p,summary:h}=i,y=eG(n)?n:[],g=null==l?void 0:l.map((e,a)=>oV({uid:`${r}.arr-${a}`,schema:c,model:e,localValue:null==y?void 0:y[a],validationErrors:s},t)),{onValueChange:f}=t,v=a(i.validationMessages);return of(eC(ex({},lR(e)),{addItemTitle:d,checks:i.hidden?[]:[lC(o,v),lc(i,v),lh(i,v)],components:null!=g?g:[],editItemTitle:u,maxItems:m,minItems:p,summary:h,createEditableComponent:e=>oV({uid:`${r}.arr-rnd-${ow()}`,schema:c,localValue:e,model:ob(e),validationErrors:void 0,required:!0},t),onValueChange:f}),t.updateComponent)},ob=e=>e instanceof Array?e.map(ob):eY(e)?Object.fromEntries(Object.entries(e).map(([e,t])=>[e,ob(t)])):e instanceof File?e.name:e,ow=()=>Math.floor(1e8*Math.random()),ox=(e,t)=>{let{uid:a,id:r,checks:n,fileChecks:i,format:l,performPersistAsync:o,onValueChange:s,summariser:c}=e,d=eS(e,["uid","id","checks","fileChecks","format","performPersistAsync","onValueChange","summariser"]),u=ij(a,t),m=ik(n),p=ik(i),h=e=>{let t=m(e);return u(e=>{e.errors=t}),t},y=ex({type:"multi-upload",uid:a,id:r,format:"base64",errorsMap:{},fileMap:{},onBlur(){h(this.getLocalValue())},onFocus(){},async onDelete(e){let t=this.fileMap[e],a=this.value.findIndex(e=>e===t);-1!==a&&u(t=>{t.value.splice(a,1);let r=t.fileMap,{[e]:n}=r,i=eS(r,[eF(e)]),l=t.errorsMap,{[e]:o}=l,s=eS(l,[eF(e)]);t.fileMap=i,t.errorsMap=s})},async onUpload(e,t){let a=p(e);u(r=>{r.fileMap[t]=e,r.errorsMap[t]=a,r.value=[...this.value,e],r.errors=[]}),s()},async getSubmittableValue(){let e=this.getLocalValue();return e?Promise.all(e.map(or)):null},getSubmittableValueSync:()=>null,getSummary(){return c(this.getLocalValue().map(({name:e})=>e))},getLocalValue(){return this.value},validate(){return 0===h(this.getLocalValue()).length&&Object.values(this.errorsMap).every(e=>0===e.length)}},d);if(!o)return y;let g=la(u,o);return eC(ex({},y),{format:l,async onUpload(e,t){await y.onUpload.call(this,e,t);let a="blob"===l?e:await or(e);await g(a,t),s()},async onDelete(e){var t;await y.onDelete.call(this,e),null==(t=this.persistedState.find(t=>t.id===e))||t.abortController.abort(),u(t=>{t.persistedState=t.persistedState.filter(t=>t.id!==e)})},async getSubmittableValue(){return Promise.all(this.persistedState.map(async({submission:e})=>e))},getSubmittableValueSync(){return this.persistedState.map(({lastResponse:e})=>e)}})},oC=(e,t)=>{var a;let{getErrorMessageFunctions:r}=t,{localValue:n,model:i,schema:l,required:o=!1}=e,s=oS(l.items),{accepts:c,maxSize:d}=s,{minItems:u,maxItems:m,title:p,validationMessages:h}=l,y=r(h),g=r(s.validationMessages),f=[lC(o,y),lu(l,y),ld(l,y)],v=[lm(l.items,g),lp(l.items,g)],b=ok(l.items),w=oF(l.items),x=eC(ex({},e),{persistAsyncConfig:b,schema:eC(ex({},s),{hidden:null!=(a=l.hidden)?a:s.hidden})}),{onValueChange:C}=t,{performPersistAsync:F}=lM(x,t),S=F?oj(n):[],k=F&&eG(i)?i.map(e=>lL(null,e)):[];return ox(eC(ex({},lR(x)),{title:p,uploadLabel:s.title,accepts:c,autoComplete:"off",checks:l.hidden?[]:f,fileChecks:l.hidden?[]:v,format:w,maxSize:d,minItems:u,maxItems:m,required:o,value:S,persistedState:k,performPersistAsync:F,onValueChange:C}),t.updateComponent)},oF=e=>tu(e)?"base64":tt(e.persistAsync.schema)?"blob":"base64",oS=e=>tu(e)?e:e.persistAsync.schema,ok=e=>{if(!tm(e))return;let{persistAsync:t}=e,{idProperty:a,method:r,param:n,url:i}=t;return{idProperty:a,method:r,param:n,url:i}},oj=e=>eG(e)&&e.every(e0)?e:[],oA=(e,t)=>{let{uid:a,checks:r,options:n,initialValue:i,performValidationAsync:l,performRefresh:o,onValueChange:s}=e,c=eS(e,["uid","checks","options","initialValue","performValidationAsync","performRefresh","onValueChange"]),d=ij(a,t),u=n.map(e=>e.component),m=oE(i,u),p=ik(r),h=e=>{let t=p(e);return d(e=>{e.errors=t}),t},y=eC(ex({uid:a,type:"multi-select",children:u,options:n,selectedIndices:m,value:null},c),{onSelect(e){d(t=>{t.selectedIndices=e,t.errors=[]}),null==o||o(),s(),h(this.getLocalValue())},onBlur(){},onFocus(){},getLocalValue(){var e,t;return null!=(t=null==(e=this.getSelectedChildren())?void 0:e.map(e=>e.getLocalValue()))?t:null},validate(){return 0===h(this.getLocalValue()).length},async getSubmittableValue(){let e=this.getSelectedChildren();return e?Promise.all(e.map(async e=>e.getSubmittableValue())):null},getSubmittableValueSync(){var e,t;return null!=(t=null==(e=this.getSelectedChildren())?void 0:e.map(e=>e.getSubmittableValueSync()))?t:null},getSummary:()=>({}),getChildren(){return this.children},getSelectedChildren(){return this.selectedIndices.map(e=>this.children[e])}});if(o)return y;if(l){let e=ll(d,l);return eC(ex({},y),{onSelect(t){y.onSelect.call(this,t),this.validate()&&e(this.validationAsyncState,this.getLocalValue()).catch(()=>{})}})}return y},oE=(e,t)=>eG(e)?e.map(e=>t.findIndex(t=>t.getLocalValue()===e)).filter(e=>e>=0):[],o_=(e,t)=>{let{uid:a,localValue:r,schema:n,model:i,required:l=!1,validationErrors:o}=e,s=null!=i?i:null,c=n.items.oneOf.map((e,n)=>{let{title:i="",description:c,image:d,icon:u,keywords:m=[]}=e;return{title:i,description:c,image:d,icon:u,keywords:m,disabled:"disabled"in e&&!!e.disabled,component:oV({uid:`${a}.oneOf-${n}`,schema:e,model:s,localValue:r,validationErrors:o,required:l},t)}}),{maxItems:d,minItems:u,title:m,validationMessages:p}=n,{getErrorMessageFunctions:h,onRefresh:y,onValueChange:g,updateComponent:f}=t,v=h(p),{performValidationAsync:b,validationAsyncState:w}=lq(e,t);return oA(eC(ex({},lR(e)),{autoComplete:"off",checks:n.hidden?[]:[lC(l,v),lc(n,v),lh(n,v)],initialValue:null!=i?i:null,maxItems:d,minItems:u,options:c,required:l,title:m,validationAsyncState:w,performValidationAsync:b,performRefresh:ln(n,y),onValueChange:g}),f)},oI=e=>{let{uid:t,analyticsId:a,components:r,control:n,description:i,help:l,hidden:o,icon:s,image:c,summariser:d,title:u}=e;return{type:"tuple",uid:t,analyticsId:a,components:r,control:n,description:i,help:l,hidden:o,icon:s,image:c,title:u,getChildren(){return this.components},async getSubmittableValue(){return Promise.all(this.components.map(async e=>e.getSubmittableValue()))},getSubmittableValueSync(){return this.components.map(e=>e.getSubmittableValueSync())},getSummary(){return iC(d(this.getLocalValue()),ix(this.getChildren()))},getLocalValue(){return this.components.map(e=>e.getLocalValue())},validate(){return!!o||iS(this.getChildren())}}},oO=(e,t)=>{let{uid:a,localValue:r,schema:n,model:i,required:l=!1,validationErrors:o}=e,{items:s}=n,c=s.map((e,n)=>{var s,c;return oV({uid:`${a}-arr.${n}`,schema:e,model:eG(i)&&null!=(s=i[n])?s:null,localValue:eG(r)&&null!=(c=r[n])?c:null,validationErrors:eG(o)?o[n]:void 0,required:l},t)});return oI(eC(ex({},lR(e)),{components:c}))},oN=(e,t)=>{let{schema:a,model:r}=e,n=eQ(r)||e8(r)?r:null;return oT(a)?oC(eC(ex({},e),{schema:a,model:n}),t):oM(a)?o_(eC(ex({},e),{schema:a,model:n}),t):tc(a)?oO(eC(ex({},e),{schema:a,model:n}),t):ov(eC(ex({},e),{schema:a,model:n}),t)},oT=e=>ts(e)&&(oL(e.items)||tu(e.items)),oL=e=>tm(e)&&(tt(e.persistAsync.schema)||tu(e.persistAsync.schema)),oM=e=>ts(e)&&"oneOf"in e.items&&e.items.oneOf.every(ta),oP=(e,t)=>{let{uid:a,id:r,value:n,performPersistAsync:i,performRefresh:l,performValidationAsync:o,onValueChange:s,summariser:c}=e,d=eS(e,["uid","id","value","performPersistAsync","performRefresh","performValidationAsync","onValueChange","summariser"]),u=ij(a,t),m=ex({type:"boolean",uid:a,id:r,autoComplete:"",value:n,onBlur(){},onFocus(){},onChange(e){u(t=>{t.errors=[],t.value=e}),null==l||l(),s()},async getSubmittableValue(){return this.getSubmittableValueSync()},getSubmittableValueSync(){return this.getLocalValue()},getSummary(){return c(this.getLocalValue())},getLocalValue(){return this.value},validate:()=>!0},d);if(l)return m;if(i){let e=lt(u,i);return eC(ex({},m),{onChange(t){m.onChange.call(this,t),e(this.persistedState,this.getLocalValue()).catch(()=>{})},async getSubmittableValue(){return e(this.persistedState,this.getLocalValue())},getSubmittableValueSync(){return this.persistedState.lastResponse}})}if(o){let e=ll(u,o);return eC(ex({},m),{onChange(t){m.onChange.call(this,t),e(this.validationAsyncState,this.getLocalValue()).catch(()=>{})}})}return m},oz=(e,t)=>{let{schema:a,localValue:r,model:n}=e,{default:i}=a,{updateComponent:l,onRefresh:o,onValueChange:s}=t,c=ln(a,o),{performPersistAsync:d,persistedState:u}=lM(e,t),{performValidationAsync:m,validationAsyncState:p}=lq(e,t),h=!!eW(r)&&r,y=oR(n,i),g=d?h:y;return oP(eC(ex({},lR(e)),{value:null!=g&&g,persistedState:u,validationAsyncState:p,performPersistAsync:d,performRefresh:c,performValidationAsync:m,onValueChange:s}),l)},oR=(e,t)=>eW(e)?e:!!eW(t)&&t,oD=(e,t)=>{let{schema:a,localValue:r,model:n,required:i=!1}=e,{accepts:l,maxSize:o,validationMessages:s}=a,{getErrorMessageFunctions:c,updateComponent:d,onValueChange:u}=t,m=c(s),{performPersistAsync:p}=lM(e,t),h=p?lL(null,n):lL(),y=e0(r)?r:null;return os(eC(ex({},lR(e)),{accepts:l,autoComplete:"off",format:"blob",maxSize:o,value:p?y:null,persistedState:h,performPersistAsync:p,checks:a.hidden?[]:[lC(i,m)],onValueChange:u}),d)},oV=(e,t)=>{let{uid:a,schema:r}=e,{alert:n}=r;return n?og({uid:a,components:[iR(`${a}.container.alert`,n,t),o$(eC(ex({},e),{uid:`${a}.container`}),t)]}):o$(e,t)},o$=(e,t)=>{let{uid:a,schema:r}=e;if(ta(r))return l2(a,eC(ex({},e),{schema:r}));if(tm(r)){let{persistAsync:a}=r,{idProperty:n,method:i,param:l,url:o}=a;return oV(eC(ex({},e),{persistAsyncConfig:{idProperty:n,method:i,param:l,url:o},schema:a.schema}),t)}if(e7(r))return l0(eC(ex({},e),{schema:r}),t);if(tl(r))return l8(eC(ex({},e),{schema:r}),t);if(te(r))return oz(eC(ex({},e),{schema:r}),t);if(ti(r))return lJ(eC(ex({},e),{schema:r}),t);if(tr(r))return l9(eC(ex({},e),{schema:r}),t);if(tn(r))return lW(eC(ex({},e),{schema:r}),t);if(td(r))return oh(eC(ex({},e),{schema:r}),t);if(to(r))return oN(eC(ex({},e),{schema:r}),t);if(tt(r)){if(!e.persistAsyncConfig)throw Error("Blob schemas can only be used as the schema of a persist async configuration.");return oD(eC(ex({},e),{schema:r}),t)}throw Error("Not yet supported")},oU=e=>eC(ex({},e),{type:"form",getChildren(){return this.components},async getSubmittableValue(){return ip(this.getChildren())},getSubmittableValueSync(){return ih(this.getChildren())},getSummary(){return ix(this.getChildren())},getLocalValue(){return iy(this.getChildren())},validate(){return iS(this.getChildren())}}),oB=(e,{schemaId:t,schema:a,control:r,margin:n="md"},i)=>{let{step:l,stepLocalValue:o}=i,{schemas:s,model:c,errors:d}=l,u=null!=t?t:null==a?void 0:a.$ref;if(null==u)throw Error("FormLayouts must refer to a schema. Set the `schemaId` property to the intended schema.");let m=s.find(e=>e.$id===u);if(!m)throw Error("Schema not found in schemas array.");return oU({uid:e,components:[oV({uid:`${e}.form`,schema:m,model:null!=c?c:null,localValue:o,validationErrors:null==d?void 0:d.validation,required:!0},i)],control:r,margin:n})},oZ=e=>eC(ex({type:"heading"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getSummary:()=>({}),getLocalValue:()=>null,validate:()=>!0}),oq=(e,{align:t="left",margin:a="md",size:r="md",control:n,text:i})=>oZ({uid:e,align:iT(t),control:n,margin:a,size:r,text:i}),oH=e=>eC(ex({type:"image"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0}),oK=(e,{accessibilityDescription:t,content:a,control:r,margin:n="md",size:i="md",text:l,url:o})=>oH({uid:e,content:null!=a?a:{accessibilityDescription:null!=t?t:l,url:o},control:r,margin:n,size:i}),oW=e=>eC(ex({type:"markdown"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0}),oY=(e,{align:t="left",control:a,margin:r="md",markdown:n})=>oW({uid:e,align:iT(t),content:n,control:a,margin:r}),oG=e=>eC(ex({type:"instructions"},e),{getLocalValue:()=>null,getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getSummary:()=>({}),validate:()=>!0}),oJ=(e,{control:t,items:a,margin:r="md",title:n})=>oG({uid:e,control:t,items:a.map(({context:e,text:t})=>({context:iO(e),text:t})),margin:r,title:n}),oX=e=>eC(ex({type:"loading-indicator"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0}),oQ=(e,{size:t="md",margin:a="md",control:r})=>oX({uid:e,size:t,control:r,margin:a}),o0=(e,{align:t="left",margin:a="md",control:r,content:n})=>oW({uid:e,align:iT(t),control:r,content:n,margin:a}),o1=e=>eC(ex({type:"modal"},e),{getChildren(){return this.content.components},getLocalValue(){return iy(this.getChildren())},async getSubmittableValue(){return ip(this.getChildren())},getSubmittableValueSync(){return ih(this.getChildren())},getSummary(){return ix(this.getChildren())},validate(){return iS(this.getChildren())}}),o2=(e,{content:t,control:a,margin:r="md",trigger:n},i)=>{let{components:l,title:o}=t;return o1({uid:e,content:{components:l.map((t,a)=>sh(`${e}.modal-${a}`,t,i)),title:o},control:a,margin:r,trigger:n})},o4=e=>eC(ex({type:"paragraph"},e),{getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getSummary:()=>({}),getLocalValue:()=>null,validate:()=>!0}),o9=(e,{align:t="left",control:a,margin:r="md",text:n})=>o4({uid:e,text:n,control:a,align:iT(t),margin:r}),o3=e=>eC(ex({type:"review"},e),{getLocalValue:()=>null,getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getSummary:()=>({}),validate:()=>!0}),o5=(e,{fields:t,title:a,callToAction:r,control:n,margin:i="md",orientation:l,action:o},{onAction:s,onLink:c})=>o3({uid:e,callToAction:o6({onAction:s,onLink:c,callToAction:r,action:o}),control:o8({control:n,orientation:l}),fields:t.map(({label:e,value:t,rawValue:a,help:r})=>({label:e,value:t,rawValue:a,help:null==r?void 0:r.markdown})),margin:i,title:a}),o6=({onAction:e,onLink:t,callToAction:a,action:r})=>{if(a){let{accessibilityDescription:r,action:n,behavior:i,title:l}=a;if(i){if("type"in i)switch(i.type){case"action":{let{action:t}=i;return{accessibilityDescription:r,title:l,onClick:()=>{e(t)}}}case"link":{let{url:e}=i;return{accessibilityDescription:r,href:e,title:l,onClick:()=>{t(e)}}}default:return}let{action:a,link:n}=i;return a?{accessibilityDescription:r,title:l,onClick:()=>{e(a)}}:n?{accessibilityDescription:r,href:n.url,title:l,onClick:()=>{t(n.url)}}:{accessibilityDescription:r,title:l,onClick:()=>{}}}return n?{title:l,onClick:()=>{e(n)}}:{title:l,onClick:()=>{}}}if(null==r?void 0:r.title)return{title:r.title,onClick:()=>{e(r)}}},o8=({control:e,orientation:t})=>e||t||void 0,o7=(e,t,a,r)=>{let{uid:n,control:i,emptyMessage:l,margin:o,title:s}=e,c=ij(n,r),d=new AbortController,u=(e,a)=>{d.abort();let{signal:r}=d=new AbortController;t({signal:r,query:e,config:a}).then(e=>{r.aborted||c(t=>{t.results=e,t.isLoading=!1,t.error=void 0})}).catch(()=>{r.aborted||c(e=>{e.error="No response",e.isLoading=!1})})},m=lr(u,400);return{type:"search",uid:n,control:i,emptyMessage:l,margin:o,title:s,isLoading:!1,query:"",results:[],getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getLocalValue:()=>null,getSummary:()=>({}),validate:()=>!0,onChange:e=>{c(t=>{t.query=e,t.isLoading=!0}),m(e.trim())},onSelect:({type:e,value:t})=>{"action"===e?a(t):(c(e=>{e.query=t.query,e.isLoading=!0}),u(t.query,{method:t.method,param:t.param,url:t.url}))}}},se=(e,t)=>async({config:a=t,query:r,signal:n})=>{if(!r)return[];let{method:i,param:l,url:o}=a,s={"Content-Type":"application/json"},c="GET"===i?e(sa(o,l,r),{method:i,headers:s,signal:n}):e(o,{method:i,headers:s,signal:n,body:JSON.stringify({[l]:r})});return st(await c)},st=async e=>{if(e.ok){let t=await e.json().catch(()=>null);if(sr(t))return 0===t.results.length?[]:t.results}throw Error("error response")},sa=(e,t,a)=>{let[r,n]=e.split("?"),i=new URLSearchParams(n);return i.set(t,a),`${r}?${i.toString()}`},sr=e=>eY(e)&&"results"in e&&eG(e.results)&&e.results.every(e=>eY(e)&&"title"in e&&"type"in e&&"value"in e),sn=(e,{control:t,emptyMessage:a="",method:r,param:n,title:i,url:l,margin:o="md"},s)=>{let{httpClient:c,onAction:d,updateComponent:u}=s;return o7({uid:e,control:t,emptyMessage:a,margin:o,title:i},se(c,{method:r,param:n,url:l}),d,u)},si=e=>eC(ex({type:"status-list"},e),{getLocalValue:()=>null,getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getSummary:()=>({}),validate:()=>!0}),sl=(e,{control:t,items:a,margin:r="md",title:n},{onAction:i,onLink:l})=>si({uid:e,control:t,items:a.map(e=>eC(ex({},e),{href:so(e.callToAction),callToAction:ss(e.callToAction,i,l)})),margin:r,title:n}),so=e=>{var t;if(!e)return;let{behavior:a}=e;if(!("type"in a))return null==(t=null==a?void 0:a.link)?void 0:t.url},ss=(e,t,a)=>{if(!e)return;let{accessibilityDescription:r,behavior:n,title:i}=e;if("type"in n)switch(n.type){case"action":{let{action:e}=n;return{accessibilityDescription:r,title:i,onClick:()=>{t(e)}}}case"link":{let{url:e}=n;return{accessibilityDescription:r,href:e,title:i,onClick:()=>{a(e)}}}default:return}if(n.action){let{action:e}=n;return{accessibilityDescription:r,title:i,onClick:()=>{t(e)}}}if(n.link){let{url:e}=n.link;return{accessibilityDescription:r,href:e,title:i,onClick:()=>{a(e)}}}return{accessibilityDescription:r,title:i,onClick:()=>{}}},sc=(e,{control:t,items:a,margin:r="md",title:n})=>si({uid:e,control:t,items:a.map(({description:e,icon:t,status:a,title:r})=>({description:e,icon:null!=t?t:{text:""},title:null!=r?r:"",status:a?sd(a):void 0})),margin:r,title:n}),sd=e=>{switch(e){case"positive":return"done";case"warning":return"pending";default:return"not-done"}},su=e=>eC(ex({type:"list"},e),{getLocalValue:()=>null,getSubmittableValue:async()=>null,getSubmittableValueSync:()=>null,getSummary:()=>({}),validate:()=>!0}),sm=(e,{callToAction:t,control:a,items:r,margin:n="md",title:i},l)=>su({uid:e,control:a,items:r.map(({value:e,subvalue:t,title:a,subtitle:r,icon:n,image:i})=>({title:a,subtitle:r,value:e,subvalue:t,icon:n,image:i})),callToAction:sp(t,l),margin:n,title:i}),sp=(e,{onAction:t,onLink:a})=>{if(!e)return;let{accessibilityDescription:r,behavior:n,title:i}=e;if("type"in n)switch(n.type){case"action":{let{action:e}=n;return{type:"action",accessibilityDescription:r,title:i,onClick:()=>{t(e)}}}case"link":return{type:"link",accessibilityDescription:r,href:n.url,title:i,onClick:()=>{a(n.url)}}}},sh=(e,t,a)=>{switch(t.type){case"alert":return iR(e,t,a);case"box":return i$(e,t,a);case"button":return iq(e,t,a);case"columns":return i0(e,t,a);case"decision":return i2(e,t,a);case"divider":return i5(e,t);case"form":return oB(e,t,a);case"heading":return oq(e,t);case"image":return oK(e,t);case"info":return oY(e,t);case"instructions":return oJ(e,t);case"list":if(t.items.some(e=>e.status||e.description))return sc(e,t);return sm(e,t,a);case"loading-indicator":return oQ(e,t);case"markdown":return o0(e,t);case"modal":return o2(e,t,a);case"paragraph":return o9(e,t);case"review":return o5(e,t,a);case"search":return sn(e,t,a);case"status-list":return sl(e,t,a);default:throw Error(`Invalid layout type in ${JSON.stringify(t)}`)}},sy=e=>{let{step:t}=e,{model:a}=t;return sg(t).map(e=>eC(ex({},e),{hidden:!0})).map((t,r)=>{let n=`unreferenced-schema-${r}`;return oU({uid:n,components:[oV({uid:`${n}.form`,schema:t,model:null!=a?a:null,localValue:null,required:!1},e)],control:void 0,margin:"xs"})})},sg=e=>{let{schemas:t,layout:a}=e,r=JSON.stringify(a);return t.filter(e=>!r.includes(`"schemaId":"${e.$id}"`)&&!r.includes(`"schema":{"$ref":"${e.$id}"`))},sf=e=>{var t,a,{loadingState:r,displayStepTitle:n,trackEvent:i,onPoll:l}=e,o=eS(e,["loadingState","displayStepTitle","trackEvent","onPoll"]);let{step:s,updateComponent:c}=o,{id:d,description:u,errors:m,external:p,key:h,layout:y=[],navigation:g,polling:f,title:v}=s,b=null!=(t=null==g?void 0:g.back)?t:null==g?void 0:g.backButton,w=b?{title:b.title,onClick:()=>{o.onAction(eC(ex({},b.action),{skipValidation:!0}))}}:void 0,x=null!=(a=s.refreshUrl)?a:s.refreshFormUrl,C=d||h;if(void 0===C)throw Error("Step must have an id or a key");let F=null!=C?C:"step",S=async e=>{try{await _.getSubmittableValue(),("GET"===e.method||e.skipValidation||_.validate())&&o.onAction(e)}catch(e){console.log("❌:","Failed to get submittable data")}},k=async(e,t)=>o.onRefresh(e,null!=t?t:x),j=f?iE({pollingConfig:f,onAction:o.onAction,onPoll:l}):void 0,A=eC(ex({},o),{trackEvent:i,onAction:S,onRefresh:k}),E=[...sy(A),...y.map((e,t)=>sh(`${F}.layout-${t}`,e,A))],_=iA({uid:F,back:w,components:E,description:u,error:null==m?void 0:m.error,external:p,loadingState:r,stepPolling:j,title:n?v:void 0,step:s,updateComponent:c,trackEvent:i,onAction:S});return _},sv=["step","action","exit"],sb=async e=>{lk(e);let t=sw(e);if(t)return t;let a=await lA(e.clone());return eY(a)&&a.action?"action":"step"},sw=e=>{var t,a;if(null==(t=e.headers)?void 0:t.has("X-Df-Response-Type")){let t=e.headers.get("X-Df-Response-Type");return function(e){if(!sv.includes(e))throw Error("Unsupported X-Df-Response-Type. Allowed values are 'step', 'action', 'exit', 'error'.")}(t),t}if(null==(a=e.headers)?void 0:a.has("X-Df-Exit"))return"exit"},sx=async e=>{let{errorAction:t,signal:a,url:r,httpClient:n,trackEvent:i}=e;try{let e=await n(null!=r?r:"",{method:"GET",signal:a});if(!e.ok)return i("Polling Failed",{url:r,statusCode:e.status,variant:"revamp"}),{type:"action",action:t};let l=sw(e),o=await lA(e);try{switch(l){case"step":{let t=e.headers.get("etag")||null;return lI(o),{type:"replace-step",step:o,etag:t}}case"exit":return{type:"complete",result:o};case"action":return lE(o),{type:"action",action:o.action};default:if(id(o).valid)return{type:"action",action:o.action};return{type:"continue"}}}catch(e){return{type:"action",action:t}}}catch(e){return{type:"continue"}}},sC=async e=>{let{abortSignal:t,url:a,model:r,schemaId:n,etag:i,httpClient:l,trackEvent:o}=e;o("Refresh Triggered",{schema:n});try{let e=await l(null!=a?a:"",{method:"POST",body:JSON.stringify(r),headers:ex({"Content-Type":"application/json"},i?{"If-None-Match":i}:{}),signal:t});if(304===e.status)return o("Refresh Succeeded",{schema:n}),{type:"noop"};if(!e.ok){let t=await lA(e).catch(()=>({})),a=l_(t)?t:{};return o("Refresh Failed",eC(ex({},a.analytics),{schema:n,statusCode:e.status})),{type:"error",body:a,statusCode:e.status}}let s=e.headers.get("etag")||null,c=await lA(e);return lI(c),o("Refresh Succeeded",{schema:n}),{type:"refresh-step",step:c,etag:s}}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return o("Refresh Aborted",{schema:n}),{type:"noop"};return o("Refresh Failed",{schema:n}),{type:"error",body:{}}}},sF=async e=>{let{httpClient:t,trackEvent:a}=e,r=async(e,i,l)=>{let{exit:o,url:s,method:c="POST",result:d=null,id:u}=e,m=l?()=>{}:a;if(m("Action Triggered",{actionId:u}),o&&!s)return m("Action Succeeded",{actionId:u}),{type:"complete",result:d};let p=await sS(t)(null!=s?s:"",{method:c,body:(()=>{var t;if("GET"===c)return;let a=iv(i,null!=(t=e.data)?t:null);return null!==a?JSON.stringify(a):null})(),headers:{"Content-Type":"application/json"}});if(!p)return a("Action Failed",{actionId:u}),{type:"error",body:{}};if(!p.ok)return n(p,u);try{let e=await sb(p),t=await lA(p);if(o)return{type:"complete",result:iv(t,d)};switch(e){case"step":{let e=p.headers.get("etag")||null;return lI(t),m("Action Succeeded",{actionId:u}),{type:"replace-step",step:t,etag:e}}case"exit":return m("Action Succeeded",{actionId:u}),{type:"complete",result:iv(t,d)};case"action":return lE(t),m("Action Succeeded",{actionId:u}),await r(t.action,null,!1);default:throw Error(`Unsupported response type: ${String(e)}`)}}catch(e){throw m("Action Failed",{actionId:u}),e}},n=async(e,t)=>{let r=await lA(e);if(l_(r)){let n=r.refreshUrl||r.refreshFormUrl,{error:i,validation:l,analytics:o}=r;a("Action Failed",eC(ex({},o),{actionId:t,statusCode:e.status}));let s={error:i,validation:l};return n?{type:"refresh",body:{refreshUrl:n,errors:s}}:{type:"error",body:{errors:s,analytics:o},statusCode:e.status}}return a("Action Failed",{actionId:t,statusCode:e.status}),{type:"error",body:{},statusCode:e.status}};return r(e.action,e.model,e.isInitial)},sS=e=>async(t,a)=>{try{return await e(t,a)}catch(e){return null}},sk=(0,w.YK)({type:{id:"dynamicFlows.ControlFeedback.type",defaultMessage:"Incorrect type",description:""},minimum:{id:"dynamicFlows.ControlFeedback.minimum",defaultMessage:"Please enter a number that's {minimum} or more.",description:""},maximum:{id:"dynamicFlows.ControlFeedback.maximum",defaultMessage:"Please enter a number that's {maximum} or less.",description:""},minLength:{id:"dynamicFlows.ControlFeedback.minLength",defaultMessage:"Please enter at least {minLength} characters.",description:""},maxLength:{id:"dynamicFlows.ControlFeedback.maxLength",defaultMessage:"Please enter {maxLength} or fewer characters.",description:""},minimumDate:{id:"dynamicFlows.ControlFeedback.minimumDate",defaultMessage:"Please enter a date that's on or after {minimum}.",description:""},maximumDate:{id:"dynamicFlows.ControlFeedback.maximumDate",defaultMessage:"Please enter a date that's on or before {maximum}.",description:""},pattern:{id:"dynamicFlows.ControlFeedback.pattern",defaultMessage:"Please enter this in the correct format.",description:""},patternDate:{id:"dynamicFlows.ControlFeedback.patternDate",defaultMessage:"Please enter a date in the corrrect format.",description:""},required:{id:"dynamicFlows.ControlFeedback.required",defaultMessage:"Please fill out this field.",description:""}}),sj=(0,w.YK)({minItemsError:{id:"dynamicFlows.ArraySchema.minItemsError",defaultMessage:"Please add at least {minItems}.",description:"Customer inputs less than the expected number of values"},maxItemsError:{id:"dynamicFlows.ArraySchema.maxItemsError",defaultMessage:"Please add {maxItems} or fewer.",description:"Customer inputs more than the allowed number of values"}}),sA=(0,w.YK)({maxFileSizeError:{id:"dynamicFlows.FileUploadSchema.maxFileSizeError",defaultMessage:"Sorry, that file is too big. Please upload a smaller file.",description:"Customer has uploaded a file that's too big. To fix: upload a smaller file."},wrongFileTypeError:{id:"dynamicFlows.FileUploadSchema.wrongFileTypeError",defaultMessage:"Sorry, that file format is not supported. Please upload a different file.",description:"Customer has uploaded a file that is the wrong type. To fix: upload a file of the correct type."}}),sE=(0,w.YK)({minItemsError:{id:"dynamicFlows.MultipleFileUploadSchema.minItemsError",defaultMessage:"Please upload at least {minItems} file(s).",description:"Customer has uploaded not enough files. To fix: upload more files."},maxItemsError:{id:"dynamicFlows.MultipleFileUploadSchema.maxItemsError",defaultMessage:"Please upload {maxItems} or fewer files.",description:"Customer has uploaded too many files. To fix: upload fewer files."},maxFileSizeError:{id:"dynamicFlows.MultipleFileUploadSchema.maxFileSizeError",defaultMessage:"Sorry, that file is too big. Please upload a smaller file.",description:"Customer has uploaded a file that's too big. To fix: upload a smaller file."}}),s_=(e,t,a)=>({minimum(a){var r;return null!=(r=e.minimum)?r:t(sk.minimum,{minimum:a})},maximum(a){var r;return null!=(r=e.maximum)?r:t(sk.maximum,{maximum:a})},minimumDate(r){var n;return null!=(n=e.minimum)?n:t(sk.minimumDate,{minimum:(0,x.Yq)(new Date(r),a,sI)})},maximumDate(r){var n;return null!=(n=e.maximum)?n:t(sk.maximumDate,{maximum:(0,x.Yq)(new Date(r),a,sI)})},minLength(a){var r;return null!=(r=e.minLength)?r:t(sk.minLength,{minLength:a})},maxLength(a){var r;return null!=(r=e.maxLength)?r:t(sk.maxLength,{maxLength:a})},minItems(a){var r;return null!=(r=e.minItems)?r:t(sj.minItemsError,{minItems:a})},maxItems(a){var r;return null!=(r=e.maxItems)?r:t(sj.maxItemsError,{maxItems:a})},minFiles(a){var r;return null!=(r=e.minItems)?r:t(sE.minItemsError,{minItems:a})},maxFiles(a){var r;return null!=(r=e.maxItems)?r:t(sE.maxItemsError,{maxItems:a})},maxSize(){var a;return null!=(a=e.maxSize)?a:t(sA.maxFileSizeError)},accepts(){var a;return null!=(a=e.accepts)?a:t(sA.wrongFileTypeError)},pattern(){var a;return null!=(a=e.pattern)?a:t(sk.pattern)},required(){var a;return null!=(a=e.required)?a:t(sk.required)},genericError:()=>t(eV.genericError),genericErrorWithRetry:()=>t(eV.genericErrorRetryHint)}),sI={timeZone:"UTC",dateStyle:"long"},sO=(e,t)=>{let a=sN(e).filter(e=>e.uid===t);if(1===a.length)return a[0];if(a.length>1)throw Error(`Multiple components with the same uid: ${t}`);throw Error(`Failed to find any components with uid: ${t}`)},sN=e=>e.reduce((e,t)=>e1(t)?[...e,t,...sN(t.getChildren())]:[...e,t],[]);function sT(e){let t=(0,y.useRef)(e);return(0,y.useLayoutEffect)(()=>{t.current=e}),(0,y.useCallback)((...e)=>t.current?t.current(...e):null,[])}function sL(e){let{flowId:t,initialAction:a,initialStep:r,displayStepTitle:n=!0}=e,i=eS(e,["flowId","initialAction","initialStep","displayStepTitle"]),l=sT(i.httpClient),o=sT(i.onCompletion),s=sT(e.onValueChange),c=sT(e.onLink),d=sT(i.onError),u=sT(i.onEvent),m=sT(i.onLog),{formatMessage:p,locale:h}=(0,b.A)(),g=(0,y.useMemo)(()=>e=>s_(null!=e?e:{},p,h),[p,h]),[f,v]=(0,y.useState)(null),w=(0,y.useRef)(null),x=(0,y.useRef)(null!=r?r:null),C=(0,y.useRef)(null),F=(0,y.useRef)(new AbortController),S=()=>(F.current.abort(),F.current=new AbortController,F.current.signal);(0,y.useEffect)(()=>{A("Initiated"),!r&&a&&I(ex({method:"GET"},a)),r&&!a&&(k(r,null),A("Step Shown",{isFirstStep:!0}))},[]);let k=(0,y.useCallback)((e,t)=>{var a,r,i;null==(a=w.current)||a.stop(),x.current=e,C.current=t;let o=ic(e);o.valid||E("info","The provided step does not conform to the specification.",{errors:o.errors});try{let t=sf({stepLocalValue:null!=(i=null==(r=w.current)?void 0:r.getLocalValue())?i:null,step:e,displayStepTitle:n,loadingState:"idle",updateComponent:(e,t)=>{let a=w.current;a&&(t(sO([a],e)),v(()=>{let e=ex({},a);return w.current=e,e}))},getErrorMessageFunctions:g,trackEvent:j,logEvent:E,httpClient:l,onAction:I,onRefresh:O,onPoll:N,onLink:c,onValueChange:s});v(()=>(w.current=t,t))}catch(e){_(e)}},[]),j=(0,y.useCallback)((e,a)=>{var r,n,i,l;let o=null!=(i=null==(r=x.current)?void 0:r.id)?i:null==(n=x.current)?void 0:n.key,s=null==(l=x.current)?void 0:l.analytics,c=ex(ex(ex({flowId:t},o?{stepId:o}:{}),s),a);try{null==u||u(`Dynamic Flow - ${e}`,ex({},c))}catch(e){}},[]),A=j,E=(0,y.useCallback)((e,a,r)=>{var n,i,l;try{null==m||m(e,a,eC(ex({},r),{flowId:t,stepId:null!=(l=null==(n=x.current)?void 0:n.id)?l:null==(i=x.current)?void 0:i.key}))}catch(e){}},[]),_=(0,y.useCallback)((e,t,a)=>{A("Failed",ex({},t)),d(e,a)},[]),I=(0,y.useCallback)(async e=>{var t,a,r;try{null==(t=w.current)||t.setLoadingState("submitting");let n=null!=(r=await (null==(a=w.current)?void 0:a.getSubmittableValue()))?r:null,i=await sF({action:e,model:n,isInitial:null===x.current,httpClient:l,trackEvent:A});switch(i.type){case"complete":o(i.result),A("Succeeded");break;case"replace-step":{let e=null===x.current;k(i.step,i.etag),A("Step Shown",{isFirstStep:e});break}case"error":{let e=g().genericErrorWithRetry(),{errors:t={error:e}}=i.body;x.current?k(eC(ex({},x.current),{errors:t,model:n,polling:void 0,external:void 0}),C.current):_(Error("Initial request failed"),{},i.statusCode);break}case"refresh":{let{refreshUrl:e,errors:t={}}=i.body;O(void 0,e,t)}}}catch(e){_(e)}},[]),O=(0,y.useCallback)(async(e,t="",a)=>{var r,n,i,o;try{null==(r=w.current)||r.setLoadingState("refreshing");let s=null!=(i=await (null==(n=w.current)?void 0:n.getSubmittableValue()))?i:null,c=await sC({abortSignal:S(),url:t,model:s,schemaId:e,etag:C.current,httpClient:l,trackEvent:A});switch(c.type){case"refresh-step":{let e=null!=a?a:c.step.errors;k(eC(ex({},c.step),{errors:e}),c.etag)}break;case"error":_(Error("Failed to refresh"),c.body.analytics,c.statusCode);break;case"noop":null==(o=w.current)||o.setLoadingState("idle")}}catch(e){_(e,void 0)}},[]),N=(0,y.useCallback)(async(e,t,a)=>{let r=await sx({httpClient:l,url:e,errorAction:t,signal:a,trackEvent:A});switch(r.type){case"replace-step":return k(r.step,r.etag),!0;case"action":return I(r.action),!0;case"complete":return o(r.result),!0;case"continue":return!1}},[]);return{stepComponentRef:w}}function sM(e){var t,a;let{stepComponentRef:r}=sL(e),{renderers:n,onEvent:i,onError:l}=e,o=(0,y.useMemo)(()=>tQ([eZ,...n]),[n]);return(0,g.jsx)(eB,{onError:e=>{null==i||i("Dynamic Flow - Failed",{error:e}),null==l||l(e)},children:(0,g.jsx)("div",{id:null==(a=null==(t=r.current)?void 0:t.step)?void 0:a.id,className:"dynamic-flow",children:r.current?o(r.current):null})})}var sP=(0,y.createContext)(void 0),sz=()=>{let e=(0,y.useContext)(sP);return null!=e?e:fetch},sR=e=>{switch(e){case"xs":return"m-b-0";case"sm":return"m-b-1";case"md":return"m-b-2";case"lg":return"m-b-3";case"xl":return"m-b-5";default:return""}},sD=e=>{switch(e){case"end":return"text-xs-right";case"center":return"text-xs-center";default:return""}},sV=e=>`${sD(e.align)} ${sR(e.margin)}`,s$=e=>{if(!e)return;let{accessibilityDescription:t,title:a}=e,r={"aria-label":t,text:a};if("link"===e.type){let{href:t}=e;return eC(ex({},r),{href:t,target:"_blank"})}if("action"===e.type){let{onClick:t}=e;return eC(ex({},r),{onClick:t})}},sU={canRenderType:"alert",render:({context:e,markdown:t,margin:a,callToAction:r})=>(0,g.jsx)(f.A,{type:e,className:sR(a),message:t,action:s$(r)})},sB=(0,w.YK)({helpAria:{id:"df.wise.Help.ariaLabel",defaultMessage:"Click here for more info.",description:"Aria label for help."}}),sZ=function({help:e}){let t=(0,b.A)();return(0,g.jsx)(F.A,{className:"m-l-1",content:(0,g.jsx)(S.A,{config:{link:{target:"_blank"}},children:e}),presentation:"POPOVER",size:"sm","aria-label":t.formatMessage(sB.helpAria)})};function sq({text:e,help:t}){return(0,g.jsxs)("div",{children:[e,(0,g.jsx)(sZ,{help:t})]})}var sH=e=>{if(e)return"valid"===e.status?"positive":"negative"},sK=function({id:e,children:t,label:a,validation:r,description:n,help:i}){let l=a&&i?(0,g.jsx)(sq,{text:a,help:i}):a;return(0,g.jsx)(C.D,{id:e,label:l,description:n,message:null==r?void 0:r.message,sentiment:sH(r),children:t})},sW={canRenderType:"input-boolean",render:e=>{let{id:t,control:a,label:r="",description:n,help:i,type:l,validationState:o,value:s}=e,c=eC(ex({},eS(e,["id","control","label","description","help","type","validationState","value"])),{label:r,secondary:n,checked:s});return(0,g.jsx)(sK,{id:t,label:"",description:"",validation:o,help:i,children:(0,g.jsx)(k.A,ex({id:t},c))})}},sY=eE(e_()),sG={canRenderType:"box",render:({border:e,children:t,control:a,margin:r,width:n})=>{let i="xl"!==n,l=(0,g.jsx)("div",{className:(0,sY.default)({"df-box-renderer-border":"bordered"===a||"bordered-web"===a||e,[`df-box-renderer-width-${n}`]:i,[sR(r)]:!i}),children:t});return i?(0,g.jsx)("div",{className:(0,sY.default)("df-box-renderer-fixed-width",sR(r)),children:l}):l}},sJ=(0,y.createContext)({loadingState:"idle",trackEvent:()=>{}}),sX=sJ.Provider,sQ=()=>{let{loadingState:e}=(0,y.useContext)(sJ);return{loadingState:e,isLoading:"idle"!==e}},s0=()=>{let{trackEvent:e}=(0,y.useContext)(sJ);return e},s1=e=>{switch(e){case"neutral":case"warning":return"accent";default:return e}},s2=e=>{switch(e){case"primary":case"tertiary":return e;default:return"secondary"}},s4=e=>{if(e)switch(e){case"xs":case"sm":return"sm";case"lg":case"xl":return"lg";default:return"md"}},s9={canRenderType:"button",render:function({control:e,context:t,disabled:a,margin:r,title:n,size:i,onClick:l}){let o=sR(r),s=s2(e),c="tertiary"===s?void 0:s1(t),{isLoading:d}=sQ();return(0,g.jsx)(j.A,{block:!0,className:o,disabled:d||a,priority:s,size:s4(i),type:c,onClick:l,children:n})}},s3=eE(e_()),s5={canRenderType:"columns",render:({bias:e,margin:t,startChildren:a,endChildren:r})=>(0,g.jsxs)("div",{className:(0,s3.default)("df-columns-renderer-container",sR(t),{"df-columns-renderer-bias-start":"start"===e,"df-columns-renderer-bias-end":"end"===e}),children:[(0,g.jsx)("div",{className:"df-columns-renderer-column",children:a}),(0,g.jsx)("div",{className:"df-columns-renderer-column",children:r})]})},s6=e=>"number"==typeof e&&!Number.isNaN(e),s8=e=>null===e,s7=e=>void 0===e,ce=e=>s8(e)||s7(e),ct=e=>/^\d+$/.test(e)&&!Number.isNaN(Number.parseFloat(e))?e:null,ca=e=>{if(!e)return null;let[t,a,r]=e.split("-").map(e=>Number.parseInt(e,10));return s6(t)&&s6(a)&&s6(r)?new Date(t,a-1,r):null},cr=e=>{let t=new Date(e),a=String(t.getMonth()+1),r=String(t.getDate());return[t.getFullYear(),a.length<2?`0${a}`:a,r.length<2?`0${r}`:r].join("-")},cn=(e,t)=>{if("bday"===e)return`${e}-${t}`},ci=function({control:e,inputProps:t}){let{autoComplete:a,minimumDate:r,maximumDate:n,placeholder:i,disabled:l,onBlur:o,onChange:s,onFocus:c}=t;return"date-lookup"===e?(0,g.jsx)(A.A,{value:ca(t.value),min:ca(r),max:ca(n),placeholder:i,disabled:l,onChange:e=>{s(null!==e?cr(e):null)},onBlur:o,onFocus:c}):(0,g.jsx)(E.A,eC(ex({},t),{dayAutoComplete:cn(a,"day"),yearAutoComplete:cn(a,"year")}))},cl={canRenderType:"input-date",render:e=>{let{id:t,control:a,label:r,description:n,type:i,help:l,validationState:o,value:s}=e,c=eC(ex({},eS(e,["id","control","label","description","type","help","validationState","value"])),{value:null!=s?s:"",id:t});return(0,g.jsx)(sK,{id:t,label:r,description:n,validation:o,help:l,children:(0,g.jsx)(ci,{control:a,inputProps:c})})}};eO(),eI();var co=e=>e.startsWith("flag-");function cs({name:e}){if(!co(e))return null;let t=e.substring(5);return(0,g.jsx)(n,{code:t})}var cc=e=>{let t=cu(e);return Object.keys(N).includes(t)};function cd({name:e}){if(!cc(e))return null;let t=N[cu(e)];return(0,g.jsx)(t,{size:24})}var cu=e=>e.split("-").map(cm).join(""),cm=e=>`${e[0].toUpperCase()}${e.slice(1)}`,cp=function({name:e}){return co(e)?(0,g.jsx)(cs,{name:e}):cc(e)?(0,g.jsx)(cd,{name:e}):null};function ch({icon:e,image:t}){if(!ce(e)){if("name"in e)return(0,g.jsx)(T.A,{type:L.u.ICON,children:(0,g.jsx)(cp,{name:e.name})});if(e.text)return(0,g.jsx)(T.A,{type:L.u.INITIALS,children:e.text})}if(t){let{accessibilityDescription:e,uri:a,url:r}=t;if(a&&!a.startsWith("urn:"))return(0,g.jsx)("img",{src:a,alt:e});if(r)return(0,g.jsx)("img",{src:r,alt:e})}return null}var cy={canRenderType:"decision",render:function({margin:e,options:t,title:a}){let{isLoading:r}=sQ();return(0,g.jsxs)("div",{className:sR(e),children:[a&&(0,g.jsx)(_.Y,{as:"h2",title:a}),(0,g.jsx)(I.A,{children:t.map(({description:e,disabled:t,icon:a,image:n,title:i,onClick:l})=>(0,g.jsx)(O.A,{title:i,content:e,disabled:r||t,media:(0,g.jsx)(ch,{icon:a,image:n}),showMediaCircle:!1,showMediaAtAllSizes:!0,onClick:l},JSON.stringify(i)))})]})}},cg={canRenderType:"divider",render:({margin:e})=>(0,g.jsx)("hr",{className:`m-t-0 ${sR(e)}`})},cf={canRenderType:"form",render:({children:e,margin:t})=>(0,g.jsx)("div",{className:sR(t),children:e})},cv={canRenderType:"form-section",render:({title:e,description:t,children:a})=>(0,g.jsxs)("fieldset",{children:[e&&(0,g.jsx)(_.Y,{as:"h2",title:e}),t&&(0,g.jsx)("p",{children:t}),a]})};function cb(e){let{text:t,size:a,align:r,margin:n,control:i}=e,l=sV({align:r,margin:n});return"display"===i?(0,g.jsx)(cw,{size:a,text:t,className:l}):(0,g.jsx)(cx,{size:a,text:t,className:l})}function cw({size:e,text:t,className:a}){return(0,g.jsx)(M.A,{type:cC(e),className:a,children:t})}function cx({size:e,text:t,className:a}){switch(e){case"xs":return(0,g.jsx)("h5",{className:a,children:t});case"sm":return(0,g.jsx)("h4",{className:a,children:t});case"lg":return(0,g.jsx)("h2",{className:a,children:t});case"xl":return(0,g.jsx)("h1",{className:a,children:t});default:return(0,g.jsx)("h3",{className:a,children:t})}}var cC=e=>{switch(e){case"xs":case"sm":return"display-small";case"xl":case"lg":return"display-large";default:return"display-medium"}},cF={canRenderType:"heading",render:e=>(0,g.jsx)(cb,ex({},e))},cS={canRenderType:"image",render:e=>(0,g.jsx)(ck,ex({},e))};function ck({accessibilityDescription:e,margin:t,size:a,uri:r,url:n}){let[i,l]=(0,y.useState)(""),o=sz();return(0,y.useEffect)(()=>{if(!r){cA(o,n).then(l);return}if(!r.startsWith("urn:")){cA(o,r).then(l);return}},[r,n,o]),(0,g.jsx)("div",{className:`df-image ${a||"md"}`,children:(0,g.jsx)(P.A,{className:`img-responsive ${sR(t)}`,alt:null!=e?e:"",src:i,stretch:!0,shrink:!0})})}var cj=async e=>new Promise((t,a)=>{let r=new FileReader;r.addEventListener("loadend",()=>t(r.result)),r.addEventListener("error",a),r.readAsDataURL(e)}),cA=async(e,t)=>{var a;try{if(function(e=""){return!["https://","http://","data:"].some(t=>e.startsWith(t)&&e.length>t.length)}(t)||(null==t?void 0:t.startsWith(`${null==(a=null==window?void 0:window.location)?void 0:a.origin}/`)))return await e(t,{method:"GET",headers:{"Content-Type":"image/image"},credentials:"same-origin"}).then(async e=>{if(e.ok)return e.blob();throw Error("Image fetching failed")}).then(cj).catch(()=>t);return t}catch(e){return t}},cE=["positive","neutral"],c_=["warning","negative"],cI={canRenderType:"instructions",render:({items:e,margin:t,title:a})=>{let r=e.filter(e=>cE.includes(e.context)).map(({text:e})=>e),n=e.filter(e=>c_.includes(e.context)).map(({text:e})=>e);return(0,g.jsxs)("div",{className:sR(t),children:[a?(0,g.jsx)(_.Y,{title:a}):null,(0,g.jsx)(z.A,{dos:r,donts:n})]})}},cO=e=>{e.target instanceof HTMLElement&&e.target.blur()};function cN({icon:e,image:t}){return(null==t?void 0:t.url)?(0,g.jsx)("img",{src:t.url,alt:t.accessibilityDescription,width:"24px",height:"24px"}):cL(e)?(0,g.jsx)(T.A,{type:L.u.ICON,size:24,children:(0,g.jsx)(cp,{name:e.name})}):cT(e)?(0,g.jsx)(cp,{name:e.name}):e&&"text"in e?(0,g.jsx)(T.A,{type:L.u.ICON,size:24,children:e.text}):null}var cT=e=>!!e&&"name"in e,cL=e=>cT(e)&&e.name.startsWith("flag-"),cM=({icon:e,image:t})=>{let a=cN({icon:e,image:t});return a?{content:a}:void 0},cP={canRenderType:"input-integer",render:e=>{let{id:t,label:a,description:r,help:n,icon:i,image:l,type:o,validationState:s,value:c,onChange:d}=e,u=eS(e,["id","label","description","help","icon","image","type","validationState","value","onChange"]);return(0,g.jsx)(sK,{id:t,label:a,description:r,validation:s,help:n,children:(0,g.jsx)(R.M,{addonStart:cM({icon:i,image:l}),children:(0,g.jsx)(D.p,ex({id:t,name:t,type:"number",step:"1",pattern:"\\d+",value:null!=c?c:"",onChange:({target:{value:e}})=>{let t=Number.parseInt(e,10);d(Number.isNaN(t)?null:t)},onWheel:cO},u))})})}},cz={canRenderType:"loading-indicator",render:({margin:e,size:t})=>(0,g.jsx)(V.A,{size:t,classNames:{"tw-loader":`tw-loader m-x-auto ${sR(e)}`},"data-testid":"loading-indicator"})},cR={canRenderType:"markdown",render:({content:e,align:t,margin:a})=>(0,g.jsx)("div",{className:sV({align:t,margin:a}),children:(0,g.jsx)(S.A,{config:{link:{target:"_blank"}},children:e})})},cD={canRenderType:"modal",render:e=>(0,g.jsx)(cV,ex({},e))};function cV({content:e,margin:t,trigger:a}){let[r,n]=(0,y.useState)(!1),{components:i,title:l}=e;return(0,g.jsxs)("div",{className:sR(t),children:[(0,g.jsx)(j.A,{priority:"tertiary",block:!0,onClick:()=>n(!0),children:a.title}),(0,g.jsx)($.A,{scroll:"content",open:r,size:"lg",title:l,body:i,onClose:()=>n(!1)})]})}function c$({icon:e,image:t}){return(null==t?void 0:t.url)?(0,g.jsx)("img",{src:t.url,alt:t.accessibilityDescription||"",width:"64px"}):e&&"name"in e?(0,g.jsx)(T.A,{type:L.u.ICON,children:(0,g.jsx)(cp,{name:e.name})}):e&&"text"in e?(0,g.jsx)(T.A,{type:L.u.INITIALS,children:e.text}):null}var cU=(0,w.YK)({summary:{id:"df.wise.MultiSelect.summary",defaultMessage:"{first} and {count} more",description:"A summary of the multiple items selected. Showing the title of the first selected item, and the number of other items that have been selected."}});function cB(e){let{formatMessage:t}=(0,b.A)(),[a,r]=(0,y.useState)(),{id:n,autoComplete:i,description:l,disabled:o,label:s,help:c,options:d,placeholder:u,selectedIndices:m,validationState:p,onSelect:h}=e,f=null!=a?a:m,v=()=>{if(f.length>0)return f.length>1?t(cU.summary,{first:d[f[0]].title,count:f.length-1}):d[f[0]].title};return(0,g.jsx)(sK,{id:n,label:s,help:c,description:l,validation:p,children:(0,g.jsx)(U.pp,ex({id:n,items:d.map((e,t)=>{var a,r,n;return{type:"option",value:t,filterMatchers:[...null!=(a=e.keywords)?a:[],null!=(r=e.title)?r:"",null!=(n=e.description)?n:""],disabled:e.disabled}}),disabled:o,placeholder:u,value:f,renderValue:(e,t)=>{let a=e>=0?d[e]:null;if(null===a)return null;if(t)return e===f[0]?v():void 0;let r={title:a.title,description:a.description,icon:(0,g.jsx)(c$,{icon:a.icon,image:a.image})};return(0,g.jsx)(U.JV,ex({},r))},multiple:!0,onChange:e=>{r(e)},onClose:()=>{a&&(h(a),r(void 0))}},{autoComplete:i}))})}var cZ={canRenderType:"input-multi-select",render:e=>(0,g.jsx)(cB,ex({},e))},cq=eE(e_()),cH=function({id:e,children:t,label:a,description:r,help:n,validation:i}){let l=a&&n?(0,g.jsx)(sq,{text:a,help:n}):a,o=r?`${e}-description`:void 0;return(0,g.jsxs)("div",{className:(0,cq.default)("form-group d-block",{"has-error":(null==i?void 0:i.status)==="invalid"}),children:[(0,g.jsx)("label",{htmlFor:e,className:"control-label",children:l}),t,(null==i?void 0:i.status)==="invalid"&&(0,g.jsx)(Z.A,{type:"negative",id:o,children:i.message})]})},cK=e=>Array.isArray(e)&&e.length>=1?e.join(","):"*",cW=e=>Math.floor(e/1024),cY=async(e,t)=>{let a=cJ(e);return new File([await cG(e)],t,{type:a})},cG=async e=>(await fetch(e)).blob(),cJ=e=>{let t=/^data:(.+);/.exec(e);if(t&&t.length>1)return t[1]},cX=()=>Math.random().toString(36).substring(2),cQ={canRenderType:"input-upload-multi",render:e=>{let{id:t,accepts:a,help:r,label:n,description:i,disabled:l,maxSize:o,maxItems:s,uploadLabel:c,validationState:d,onUpload:u,onDelete:m}=e,p=async e=>{let t=e.get("file"),a=cX();return u(t,a).then(()=>({id:a}))},h=async e=>m(String(e)),y=i?`${t}-description`:void 0;return(0,g.jsx)(cH,{id:t,label:n,description:i,validation:d,help:r,children:(0,g.jsx)(B.A,{id:t,"aria-describedby":y,description:i,disabled:l,fileTypes:cK(a),maxFiles:s,multiple:!0,sizeLimit:o?cW(o):void 0,uploadButtonTitle:c,onDeleteFile:h,onUploadFile:p})})}},c0={canRenderType:"input-number",render:e=>{let{id:t,label:a,description:r,help:n,icon:i,image:l,type:o,validationState:s,value:c,onChange:d}=e,u=eS(e,["id","label","description","help","icon","image","type","validationState","value","onChange"]);return(0,g.jsx)(sK,{id:t,label:a,description:r,validation:s,help:n,children:(0,g.jsx)(R.M,{addonStart:cM({icon:i,image:l}),children:(0,g.jsx)(D.p,ex({id:t,name:t,type:"number",value:null!=c?c:"",onChange:({target:{value:e}})=>{let t=Number.parseFloat(e);d(Number.isNaN(t)?null:t)},onWheel:cO},u))})})}},c1=eE(e_()),c2=(0,w.YK)({copy:{id:"df.wise.DynamicParagraph.copy",defaultMessage:"Copy",description:"Copy to clipboard button label."},copied:{id:"df.wise.DynamicParagraph.copied",defaultMessage:"Copied to clipboard",description:"Appears in a snackbar when the copy operation succeeds."}});function c4({align:e,control:t,margin:a,text:r}){let n=sV({align:e,margin:a});return"copyable"===t?(0,g.jsx)(c3,{className:n,align:e,text:r}):(0,g.jsx)(c9,{className:n,text:r})}function c9({text:e,className:t}){return(0,g.jsx)("p",{className:`np-text-body-large ${t}`,children:e})}function c3({text:e,align:t,className:a}){let{formatMessage:r}=(0,b.A)(),n=function(){let e=(0,y.useContext)(q.$);return e?e.createSnackbar:()=>{}}(),i=sV({align:t,margin:"sm"});return(0,g.jsxs)("div",{className:a,children:[(0,g.jsx)(D.p,{type:"text",value:e,readOnly:!0,className:(0,c1.default)("text-ellipsis",i)}),(0,g.jsx)(j.A,{block:!0,onClick:()=>{navigator.clipboard.writeText(e).then(()=>n({text:r(c2.copied)})).catch(()=>{})},children:r(c2.copy)})]})}var c5={canRenderType:"paragraph",render:e=>(0,g.jsx)(c4,ex({},e))},c6=(0,w.YK)({addItemTitle:{id:"df.wise.ArraySchema.addItemTitle",defaultMessage:"Add Item",description:"Label on the button used to open a form to add an item"},addItem:{id:"df.wise.ArraySchema.addItem",defaultMessage:"Save",description:"Label on the add button used to submit a form that adds an item"},editItem:{id:"df.wise.ArraySchema.editItem",defaultMessage:"Save",description:"Label on the edit button used to submit a form that edits an item"},removeItem:{id:"df.wise.ArraySchema.removeItem",defaultMessage:"Remove",description:"Label on the remove button used to confirm deletion of an item"}}),c8=eE(e_());function c7(e){let{addItemTitle:t,description:a,editableItem:r,editItemTitle:n,items:i,title:l,validationState:o,onEdit:s,onAdd:c,onSave:d,onRemove:u}=e,{formatMessage:m}=(0,b.A)(),[p,h]=(0,y.useState)(null),f=()=>{c(),h("add")},v=e=>{s(e),h("edit")},w=()=>{d()&&h(null)},x=()=>{u(),h(null)},C=()=>{h(null)};return(0,g.jsxs)(g.Fragment,{children:[l&&(0,g.jsx)(_.Y,{title:l}),a&&(0,g.jsx)("p",{children:a}),(0,g.jsxs)("div",{className:(0,c8.default)("form-group",{"has-error":(null==o?void 0:o.status)==="invalid"}),children:[null==i?void 0:i.map((e,t)=>(0,g.jsx)(de,{item:e,onClick:()=>v(t)},e.id)),(0,g.jsx)(O.A,{media:(0,g.jsx)(N.Plus,{}),title:t||m(c6.addItemTitle),showMediaAtAllSizes:!0,onClick:()=>f()}),(null==o?void 0:o.status)==="invalid"&&(0,g.jsx)(Z.A,{type:"negative",children:o.message})]}),(0,g.jsx)($.A,{open:null!==p,title:("add"===p?t:n)||m(c6.addItemTitle),body:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"m-b-2",children:r}),(0,g.jsxs)("div",{children:[(0,g.jsx)(j.A,{priority:"primary",block:!0,className:"m-b-2",onClick:()=>w(),children:m(c6.addItem)}),(0,g.jsx)(j.A,{priority:"secondary",type:"negative",block:!0,onClick:()=>x(),children:m(c6.removeItem)})]})]}),onClose:()=>C()})]})}function de({item:e,onClick:t}){return(0,g.jsx)(O.A,{media:(0,g.jsx)(ch,ex({},e)),title:e.title,content:e.description,showMediaAtAllSizes:!0,onClick:t})}var dt={canRenderType:"repeatable",render:e=>(0,g.jsx)(c7,ex({},e))},da=(0,w.YK)({genericErrorRetryHint:{id:"df.wise.PersistAsyncSchema.genericError",defaultMessage:"Something went wrong, please try again.",description:"Generic error message for persist async schema"},genericError:{id:"df.wise.ErrorBoundary.errorAlert",defaultMessage:"Something went wrong.",description:"Generic error message for when something has gone wrong."},retry:{id:"df.wise.ErrorBoundary.retry",defaultMessage:"Retry",description:"Usually this follows the generic error and contains a link."}});function dr({state:e}){let t=(0,b.A)();return(0,g.jsxs)("p",{className:"m-t-2",children:[t.formatMessage(da.genericError),"\xa0",(0,g.jsx)(j.A,eC(ex({},{priority:"tertiary",size:"sm",style:{marginTop:"-2px",padding:"0",width:"auto",display:"inline"}}),{onClick:()=>{e.onRetry()},children:t.formatMessage(da.retry)}))]})}var dn=(0,w.YK)({loading:{id:"df.wise.SearchLayout.loading",defaultMessage:"Loading...",description:"A message shown to the user while their search is being processed, before results appear."}});function di({state:e,onChange:t}){switch(e.type){case"error":return(0,g.jsx)(dr,{state:e});case"results":return(0,g.jsx)(ds,{state:e,onChange:t});case"noResults":return(0,g.jsx)(dl,{state:e});default:return null}}function dl({state:e}){return(0,g.jsx)(S.A,{className:"m-t-2",config:{link:{target:"_blank"}},children:e.message})}function ds({state:e}){let t=s0();return(0,g.jsx)(I.A,{children:e.results.map(e=>{let{icon:a,image:r}=e;return(0,g.jsx)(O.A,{title:e.title,content:e.description,media:ch({icon:a,image:r}),showMediaCircle:!1,showMediaAtAllSizes:!0,onClick:()=>{t("Search Result Selected",ex({type:e.type},"action"===e.type?{actionId:e.id}:{})),e.onClick()}},JSON.stringify(e))})})}var dc=function({id:e,isLoading:t,margin:a,onChange:r,query:n,state:i,title:l}){let[o,s]=(0,y.useState)(!1),c=s0(),{formatMessage:d}=(0,b.A)();return(0,g.jsxs)("div",{className:sR(a),children:[(0,g.jsx)(sK,{id:e,description:"",validation:void 0,help:"",label:l,children:(0,g.jsx)(D.p,{id:e,name:e,type:"text",value:n,className:"m-t-1",onChange:({currentTarget:{value:e}})=>{o||(s(!0),c("Search Started")),r(e)}})}),t?(0,g.jsx)(g.Fragment,{children:d(dn.loading)}):(0,g.jsx)(di,{state:i,onChange:r})]})};function dd(e){return{label:e.title,secondary:e.description,value:e,clearQueryOnSelect:"action"===e.type,keepFocusOnSelect:"search"===e.type}}function du({state:e,isLoading:t}){let{formatMessage:a}=(0,b.A)();return"noResults"===e.type?(0,g.jsx)(S.A,{className:"m-t-2 m-x-2",config:{link:{target:"_blank"}},children:e.message}):"error"===e.type?(0,g.jsx)("div",{className:"m-t-2 m-x-2",children:(0,g.jsx)(dr,{state:e})}):"pending"===e.type||t?(0,g.jsx)("p",{className:"m-t-2 m-x-2",children:a(dn.loading)}):null}var dm=function({id:e,isLoading:t,margin:a,onChange:r,state:n,title:i}){let[l,o]=(0,y.useState)(!1),s=s0(),c=(0,b.A)();return(0,g.jsx)("div",{className:sR(a),children:(0,g.jsx)(sK,{id:e,description:"",validation:void 0,help:"",label:i,children:(0,g.jsx)(H.A,{id:"typeahead-input-id",intl:c,name:"typeahead-input-name",size:"md",maxHeight:100,footer:(0,g.jsx)(du,{state:n,isLoading:t}),multiple:!1,clearable:!1,addon:(0,g.jsx)(N.Search,{size:24}),options:"results"===n.type?n.results.map(dd):[],minQueryLength:1,onChange:e=>{if(e.length>0){let[t]=e,{value:a}=t;a&&(s("Search Result Selected",ex({type:a.type},"action"===a.type?{actionId:a.id}:{})),a.onClick())}},onInputChange:e=>{l||(o(!0),s("Search Started")),r(e)}})})})},dp={canRenderType:"search",render:e=>"inline"===e.control?(0,g.jsx)(dm,ex({},e)):(0,g.jsx)(dc,ex({},e))};function dh(e){let{id:t,children:a,description:r,disabled:n,help:i,label:l,options:o,selectedIndex:s,validationState:c,onSelect:d}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(sK,{id:t,label:l,help:i,description:r,validation:c,children:(0,g.jsx)("span",{children:(0,g.jsx)(K.A,{name:t,radios:o.map((e,t)=>({label:e.title,value:t,secondary:e.description,disabled:e.disabled||n,avatar:(0,g.jsx)(c$,{icon:e.icon,image:e.image})})),selectedValue:null!=s?s:void 0,onChange:d},`${t}-${s}`)})}),a]})}function dy(e){let{id:t,children:a,description:r,disabled:n,help:i,label:l,options:o,selectedIndex:s,validationState:c,onSelect:d}=e;return(0,y.useEffect)(()=>{dg(s,o.length)||d(0)},[s,d,o.length]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(sK,{id:t,label:l,help:i,description:r,validation:c,children:(0,g.jsx)(W.A,{name:t,selected:null!=s?s:0,tabs:o.map(e=>({title:e.title,content:(0,g.jsx)(g.Fragment,{}),disabled:e.disabled||n})),onTabSelect:d})}),a]})}var dg=(e,t)=>null!==e&&e>=0&&e<t;function df(e){let{id:t,autoComplete:a,children:r,description:n,disabled:i,help:l,label:o,options:s,placeholder:c,required:d,selectedIndex:u,validationState:m,onSelect:p}=e,h=s.map((e,t)=>{var a,r,n;return{type:"option",value:t,filterMatchers:[...null!=(a=e.keywords)?a:[],null!=(r=e.title)?r:"",null!=(n=e.description)?n:""],disabled:e.disabled}});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(sK,{id:t,label:o,help:l,description:n,validation:m,children:(0,g.jsx)(U.pp,ex({name:t,placeholder:c,items:h,disabled:i,value:u,renderValue:(e,t)=>{let a=e>=0?s[e]:null;if(null===a)return null;let r=t?{title:a.title,note:a.description,icon:cN(a)}:{title:a.title,description:a.description,icon:(0,g.jsx)(c$,{icon:a.icon,image:a.image})};return(0,g.jsx)(U.JV,ex({},r))},filterable:h.length>=8,onChange:p,onClear:d?void 0:()=>p(null)},{autoComplete:a}))}),r]})}function dv(e){let{id:t,children:a,description:r,help:n,label:i,options:l,selectedIndex:o,validationState:s,onSelect:c}=e;return(0,y.useEffect)(()=>{db(o,l.length)||c(0)},[o,c,l.length]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(sK,{id:t,label:i,help:n,description:r,validation:s,children:(0,g.jsx)(Y.A,{name:`${t}-segmented-control`,value:String(o),mode:"view",segments:l.map((e,a)=>({id:String(a),value:String(a),label:e.title,controls:`${t}-children`})),onChange:e=>c(Number(e))})}),(0,g.jsx)("div",{id:`${t}-children`,children:a})]})}var db=(e,t)=>null!==e&&e>=0&&e<t,dw={canRenderType:"input-select",render:e=>{switch(e.control){case"radio":return(0,g.jsx)(dh,ex({},e));case"tab":return e.options.length>3?(0,g.jsx)(df,ex({},e)):(0,g.jsx)(dy,ex({},e));case"segmented":return e.options.length>3?(0,g.jsx)(df,ex({},e)):(0,g.jsx)(dv,ex({},e));default:return(0,g.jsx)(df,ex({},e))}}},dx={canRenderType:"status-list",render:({margin:e,items:t,title:a})=>(0,g.jsxs)("div",{className:sR(e),children:[a?(0,g.jsx)(_.Y,{title:a,className:"m-b-2"}):null,t.map(({callToAction:e,description:t,icon:a,status:r,title:n})=>(0,g.jsx)(G.A,{title:n,description:t,icon:a&&"name"in a?(0,g.jsx)(cp,{name:a.name}):null,status:dF(r),action:dC(e)},`${n}/${t||""}`))]})},dC=e=>{if(!e)return;let{accessibilityDescription:t,href:a,title:r,onClick:n}=e;return a?{"aria-label":t,href:a,target:"_blank",text:r}:{"aria-label":t,text:r,onClick:n}},dF=e=>"not-done"===e?"notDone":e;function dS(e){var{id:t,displayFormat:a,onChange:r}=e,n=eS(e,["id","displayFormat","onChange"]);if("string"==typeof a){let e=ex({id:t,name:t,className:"form-control"},n);return(0,g.jsx)(J.A,ex({displayPattern:a,onChange:e=>r(e)},e))}return(0,g.jsx)(D.p,ex({id:t,name:t,onChange:e=>r(e.target.value)},n))}function dk(e){var{id:t,displayFormat:a,onChange:r}=e;let n=ex({id:t,name:t},eS(e,["id","displayFormat","onChange"]));return"string"==typeof a?(0,g.jsx)(X.A,ex({displayPattern:a,onChange:e=>r(e)},n)):(0,g.jsx)(Q.f,ex({onChange:e=>r(e.target.value)},n))}function dj(e){var{id:t,displayFormat:a,onChange:r}=e;let n=ex({id:t,name:t,onWheel:cO},eS(e,["id","displayFormat","onChange"]));return"string"==typeof a?(0,g.jsx)(J.A,ex({displayPattern:a,onChange:e=>r(ct(e))},n)):(0,g.jsx)(D.p,ex({onChange:({target:{value:e}})=>r(ct(e))},n))}function dA(e){var{value:t}=e,a=eS(e,["value"]);return(0,g.jsx)(ee.A,ex({initialValue:t},a))}var dE=function({control:e,inputProps:t}){switch(e){case"password":return(0,g.jsx)(dS,ex({type:"password"},t));case"email":return(0,g.jsx)(dS,ex({type:"email"},t));case"textarea":return(0,g.jsx)(dk,ex({},t));case"numeric":return(0,g.jsx)(dj,ex({type:"number"},t));case"phone-number":return(0,g.jsx)(dA,ex({},t));default:return(0,g.jsx)(dS,ex({type:"text"},t))}},d_={canRenderType:"input-text",render:e=>{let{id:t,control:a,label:r,description:n,help:i,error:l,icon:o,image:s,maxLength:c,minLength:d,type:u,validationState:m,value:p,onChange:h}=e,y=eS(e,["id","control","label","description","help","error","icon","image","maxLength","minLength","type","validationState","value","onChange"]),f=null!=p?p:"",v=eC(ex({},y),{value:f,id:t,onChange:e=>{(null!=f?f:"")!==(null!=e?e:"")&&h(e)}});return(0,g.jsx)(sK,{id:t,label:r,description:n,validation:m,help:i,children:(0,g.jsx)(R.M,{addonStart:cM({icon:o,image:s}),children:(0,g.jsx)(dE,{control:a,inputProps:v})})})}},dI={canRenderType:"input-upload",render:e=>{let{id:t,accepts:a,label:r,description:n,disabled:i,maxSize:l,validationState:o,onUpload:s}=e,c=async e=>s(e.get("file")).then(()=>({id:cX()})),d=async()=>{await s(null)};return(0,g.jsx)(cH,{id:t,label:void 0,description:void 0,validation:o,children:(0,g.jsx)(B.A,{id:t,description:n,disabled:i,fileTypes:cK(a),sizeLimit:l?cW(l):void 0,uploadButtonTitle:r,onDeleteFile:d,onUploadFile:c})})}},dO={canRenderType:"input-upload",canRender:e=>"upload-large"===e.control,render:e=>{let{id:t,accepts:a,control:r,label:n,description:i,disabled:l,help:o,maxSize:s,type:c,validationState:d,onUpload:u}=e,m=eC(ex({},eS(e,["id","accepts","control","label","description","disabled","help","maxSize","type","validationState","onUpload"])),{id:t,name:t}),p=async(e,t)=>{try{let a=e?await cY(e,t):null;await u(a)}catch(e){throw await u(null),e}};return(0,g.jsx)(sK,{id:t,label:n,description:i,validation:d,help:o,children:(0,g.jsx)(et.Ay,eC(ex({},m),{usAccept:cK(a),usDisabled:l,onSuccess:p,onFailure:async()=>u(null),onCancel:async()=>u(null)}))})}},dN={canRenderType:"review",render:({callToAction:e,control:t,fields:a,margin:r,title:n})=>{let i=dT(t);return(0,g.jsxs)("div",{className:sR(r),children:[(n||e)&&(0,g.jsx)(_.Y,{title:null!=n?n:"",action:dM(e)}),(0,g.jsx)("div",{className:r,children:(0,g.jsx)(ea.A,{layout:i,definitions:a.map(({label:e,value:t,help:a},r)=>({key:String(r),title:e,value:dL(t,a,i)}))})})]})}},dT=e=>{switch(e){case"horizontal":case"horizontal-end-aligned":return"HORIZONTAL_RIGHT_ALIGNED";case"horizontal-start-aligned":return"HORIZONTAL_LEFT_ALIGNED";case"vertical-two-column":return"VERTICAL_TWO_COLUMN";default:return"VERTICAL_ONE_COLUMN"}},dL=(e,t,a)=>t?"HORIZONTAL_RIGHT_ALIGNED"===a?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(sZ,{help:t})," ",e]}):(0,g.jsxs)(g.Fragment,{children:[e," ",(0,g.jsx)(sZ,{help:t})]}):e,dM=e=>{if(!e)return;let{accessibilityDescription:t,href:a,title:r,onClick:n}=e;return a?{"aria-label":t,href:a,target:"_blank",text:r}:{"aria-label":t,text:r,onClick:e=>{e.preventDefault(),n()}}},dP=(0,w.YK)({title:{id:"df.wise.ExternalConfirmation.title",defaultMessage:"Please confirm",description:"Heading for the confirmation screen."},description:{id:"df.wise.ExternalConfirmation.description",defaultMessage:"Please confirm you want to open **{origin}** in a new browser tab.",description:"Description for the confirmation screen."},open:{id:"df.wise.ExternalConfirmation.open",defaultMessage:"Open in new tab",description:"Button text confirming opening a new browser tab."},cancel:{id:"df.wise.ExternalConfirmation.cancel",defaultMessage:"Cancel",description:"Button text rejecting opening a new browser tab."}});function dz({external:e,onClose:t}){let{formatMessage:a}=(0,b.A)();return(0,g.jsx)("div",{className:"df-box-renderer-fixed-width",children:(0,g.jsxs)("div",{className:"df-box-renderer-width-lg",children:[(0,g.jsx)("h2",{className:"text-xs-center m-b-5",children:a(dP.title)}),(0,g.jsx)(S.A,{config:{link:{target:"_blank"}},className:"text-xs-center m-b-5",children:a(dP.description,{origin:function(e){try{return new URL(e).origin}catch(t){return e}}(e.url)})}),(0,g.jsx)("div",{className:"df-box-renderer-fixed-width",children:(0,g.jsxs)("div",{className:"df-box-renderer-width-lg",children:[(0,g.jsx)(j.A,{block:!0,className:"m-b-2",priority:"primary",size:"md",onClick:()=>{window.open(e.url),t()},children:a(dP.open)}),(0,g.jsx)(j.A,{block:!0,className:"m-b-2",priority:"tertiary",size:"md",onClick:t,children:a(dP.cancel)})]})})]})})}var dR=function({title:e,onClick:t}){return(0,g.jsx)("div",{className:"m-b-2",children:(0,g.jsxs)("button",{type:"button",className:"df-back-btn",title:e,"aria-label":e,onClick:t,children:[(0,g.jsx)("span",{className:"sr-only",children:e}),(0,g.jsx)(T.A,{type:"icon",children:(0,g.jsx)(N.ArrowLeft,{size:"24"})})]})})},dD={canRenderType:"step",render:function(e){let{back:t,description:a,error:r,external:n,loadingState:i,title:l,trackEvent:o,children:s}=e,c=(0,y.useMemo)(()=>({loadingState:i,trackEvent:o}),[i,o]),{requiresUserConfirmation:d,dismissConfirmation:u}=function(e){let[t,a]=(0,y.useState)(null),[r,n]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{e&&(n(!1),a(window.open(e,"_blank")))},[e]),{requiresUserConfirmation:!!(e&&!t&&!r),dismissConfirmation:()=>n(!0)}}(null==n?void 0:n.url);return(null==n?void 0:n.url)&&d?(0,g.jsx)(dz,{external:n,onClose:u}):(0,g.jsxs)(sX,{value:c,children:[t?(0,g.jsx)(dR,ex({},t)):null,l||a?(0,g.jsxs)("div",{className:"m-b-4",children:[l?(0,g.jsx)(er.A,{as:"h1",type:"title-section",className:"text-xs-center m-b-2",children:l}):void 0,a?(0,g.jsx)("p",{className:"text-xs-center np-text-body-large",children:a}):void 0]}):void 0,r?(0,g.jsx)(f.A,{type:"negative",className:"m-b-2",message:r}):void 0,s]})}},dV=eE(e_()),d$=({title:e,subtitle:t,value:a,subvalue:r,icon:n,image:i})=>(0,g.jsx)("label",{className:(0,dV.default)("np-option p-a-2",{"np-option__sm-media":!0,"np-option__container-aligned":!0}),children:(0,g.jsxs)("div",{className:"media",children:[n||i?(0,g.jsx)("div",{className:"media-left",children:(0,g.jsx)(dU,{image:i,icon:n})}):null,(0,g.jsxs)("div",{className:"media-body",children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,g.jsx)("h4",{className:"np-text-body-large-bold text-primary np-option__title",children:e}),(0,g.jsx)("h4",{className:"np-text-body-large-bold text-primary np-option__title",children:a})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,g.jsx)(en.A,{className:"d-block np-option__body",children:t}),(0,g.jsx)(en.A,{className:"d-block np-option__body",children:r})]})]})]})},e),dU=({icon:e,image:t})=>e?(0,g.jsx)("div",{className:"circle circle-sm text-primary",children:(0,g.jsx)(ch,{icon:e,image:t})}):t?(0,g.jsx)("div",{className:"np-option__no-media-circle",children:(0,g.jsx)(ch,{icon:e,image:t})}):void 0,dB=e=>{if(!e)return;let{accessibilityDescription:t,title:a,onClick:r}=e;return"action"===e.type?{"aria-label":t,text:a,onClick:e=>{e.preventDefault(),r()}}:{"aria-label":t,href:e.href,target:"_blank",text:a}},dZ={canRenderType:"list",render:({callToAction:e,margin:t,items:a,title:r})=>(0,g.jsxs)("div",{className:sR(t),children:[(r||e)&&(0,g.jsx)(_.Y,{as:"h2",title:null!=r?r:"",action:dB(e)}),a.map(e=>(0,g.jsx)(d$,ex({},e),e.title))]})},dq=()=>[sU,sW,sG,s9,s5,cl,cy,cg,cf,cv,cF,cS,cI,cP,dO,dZ,cz,cR,cD,cZ,cQ,c0,c5,dt,dN,dp,dw,dx,d_,dI,dD],dH=e=>{var t;try{return!!(null==(t=null==window?void 0:window.open)?void 0:t.call(window,e,"_blank"))}catch(e){return!1}},dK=(dq(),(0,y.createContext)(void 0));function dW({httpClient:e,children:t}){return(0,g.jsx)(dK.Provider,{value:e,children:t})}function dY({baseUrl:e,children:t}){let a=(0,y.useMemo)(()=>eL(e),[e]);return(0,g.jsx)(dK.Provider,{value:a,children:t})}var dG=()=>{let e=(0,y.useContext)(dK);return null!=e?e:fetch},dJ=()=>!!(0,y.useContext)(dK),dX=dq();(0,y.forwardRef)(function(e,t){let{httpClient:a,onCompletion:r=()=>{},onEvent:n,onError:i,renderers:l,onLink:o=dH}=e,s=(0,y.useMemo)(()=>[...null!=l?l:[],...dX],[l]),{stepComponentRef:c}=sL(eC(ex({onCompletion:r},e),{onLink:o}));(0,y.useImperativeHandle)(t,()=>({getValue:async()=>{var e,t;return null!=(t=await (null==(e=c.current)?void 0:e.getSubmittableValue()))?t:null},validate:()=>{var e,t;return null!=(t=null==(e=c.current)?void 0:e.validate())&&t}}),[]);let d=(0,y.useMemo)(()=>tQ([eZ,...s,dD]),[s]);return(0,g.jsx)(eB,{onError:e=>{null==n||n("Dynamic Flow - Failed"),i(e)},children:(0,g.jsx)(dW,{httpClient:a,children:c.current?d(c.current):null})})});var dQ=(0,y.forwardRef)(function(e,t){let{onCompletion:a=()=>{},onEvent:r,onError:n,onLink:i=dH,renderers:l}=e,{stepComponentRef:o}=sL(eC(ex({onCompletion:a},e),{onLink:i}));(0,y.useImperativeHandle)(t,()=>({getValue:async()=>{var e,t;return null!=(t=await (null==(e=o.current)?void 0:e.getSubmittableValue()))?t:null},validate:()=>{var e,t;return null!=(t=null==(e=o.current)?void 0:e.validate())&&t}}),[]);let s=(0,y.useMemo)(()=>tQ([eZ,...l]),[l]);return(0,g.jsx)(eB,{onError:e=>{null==r||r("Dynamic Flow - Failed"),n(e)},children:o.current?s(o.current):null})});function d0(e){let t=[];if(e.title&&t.push(d2(e.title)),e.image){let a=d3(e.image);t.push(a)}return e.description&&t.push(d4(e.description)),t}function d1(e,t){return{type:"box",width:t||"md",components:e}}function d2(e){return{type:"heading",text:e,size:"lg",margin:"lg",align:"center"}}function d4(e){return{type:"paragraph",text:e,align:"center"}}function d9(e){return{title:e.title,description:e.description,action:{title:e.title,method:"GET",url:e.url,disabled:e.disabled}}}function d3(e){return{type:"image",url:e.url,text:e.text,margin:e.margin||"lg",size:e.size||"md"}}function d5(e){return{type:"button",action:eC(ex({},e),{title:e.title})}}function d6(e){return{label:e.title,value:e.value}}function d8(e,t){let a=e.find(e=>e.$id===t);if(!a)throw Error(`Fatal Error. Schema not found. $id ${t}`);return a}function d7(e,t){let a=e.find(e=>e.$id===t);if(!a)throw Error(`Fatal Error. Action not found. $id ${t}`);return a}function ue(e){return Object.hasOwnProperty.call(e,"$ref")}var ut=e=>setTimeout(()=>e(),0),ua=()=>{},ur={loading:!1,registerPersistAsyncPromise:e=>{}},un=(0,y.createContext)(ur),ui=({loading:e,children:t})=>{let{pendingPromises:a,addPendingPromise:r}=function(){let[e,t]=(0,y.useState)(0);return{addPendingPromise:(0,y.useCallback)(e=>{t(e=>e+1),e.catch(ua).finally(()=>ut(()=>t(e=>Math.max(0,e-1))))},[t]),pendingPromises:e}}(),n=(0,y.useMemo)(()=>({loading:e||a>0,registerPersistAsyncPromise:r}),[e,a,r]);return(0,g.jsx)(un.Provider,{value:n,children:t})},ul=()=>(0,y.useContext)(un)||ur,uo=(0,y.createContext)({triggerEvent:()=>{}});function us({metadata:e,children:t,onEvent:a}){let r=(0,y.useMemo)(()=>({triggerEvent:ud(a,e)}),[a,e]);return(0,g.jsx)(uo.Provider,{value:r,children:t})}function uc(){let{triggerEvent:e}=(0,y.useContext)(uo);return e}var ud=(e,t)=>(a,r={})=>{try{e(a,ex(ex({},t),r))}catch(e){}},uu=(e,t,a="UNKNOWN-FLOW-ID",r="UNKNOWN-FLOW-ID")=>(n,i,l)=>{try{t(e,`Dynamic Flow ${e} - ${n} - ${i}`,ex({flowId:a,stepId:r},l))}catch(e){}},um=(0,y.createContext)(null);function up({flowId:e,stepId:t,children:a,onLog:r}){let n=(0,y.useMemo)(()=>({debug:uu("debug",r,e,t),info:uu("info",r,e,t),warning:uu("warning",r,e,t),error:uu("error",r,e,t),critical:uu("critical",r,e,t)}),[r,e,t]);return(0,g.jsx)(um.Provider,{value:n,children:a})}var uh=()=>{let e=(0,y.useContext)(um);if(null==e)throw Error("Logging context not found. Did you forget to wrap your component in a <LogProvider />?");return e},uy=(0,y.createContext)([]);function ug({features:e,children:t}){return(0,g.jsx)(uy.Provider,{value:e,children:t})}var uf=()=>ub()&&(uw()||uv()),uv=(e=window.navigator.userAgent)=>/mobi|\b(iphone|android|blackberry|webos|windows phone)\b/i.test(e),ub=(e=window.screen.width,t=window.screen.height)=>e<768||t<768,uw=(e=window.navigator,t=window.matchMedia)=>{if("maxTouchPoints"in e)return e.maxTouchPoints>0;let a=null==t?void 0:t("(pointer:coarse)");return(null==a?void 0:a.media)==="(pointer:coarse)"&&!!a.matches},ux=(e,t)=>{let a,r;let n=()=>{a&&(clearTimeout(a),a=null),r=null},i=(...n)=>{r=n,null!==a&&clearTimeout(a),a=setTimeout(()=>{e(...r),a=null,r=null},t)};return i.cancel=()=>{null!==a&&n()},i.flush=()=>{null!==a&&(e(...r),n())},i.isPending=()=>null!==a,i},uC=e=>"string"==typeof e,uF=e=>"number"==typeof e&&!Number.isNaN(e),uS=e=>uF(e)&&Math.floor(e)===e,uk=e=>"boolean"==typeof e,uj=e=>!uE(e)&&!u_(e)&&(null==e?void 0:e.constructor)===Object,uA=e=>Array.isArray(e),uE=e=>null===e,u_=e=>void 0===e,uI=e=>uC(e)&&0===e.length||(uj(e)||uA(e))&&0===Object.keys(e).length;function uO(e,t){if(!uA(e)||!ms(t))return null;if(e.length>0){let t=typeof e[0];if(!e.every(e=>typeof e===t))return Array(e.length).fill(null)}return e.map(e=>uN(e,t.items))}var uN=(e,t)=>u1(e)?uL(e,t):u3(e)?function(e,t){return mi(t)?function(e,t){var a;let r=t.oneOf.map(t=>mo(t)&&ms(t)?uO(e,t):null).filter(e=>null!==e);return 0===r.length?null:null!=(a=r.find(e=>e.some(e=>null!==e)))?a:r[0]}(e,t):mo(t)?uO(e,t):null}(e,t):uT(e,t);function uT(e,t){if(uE(e))return null;if(t.oneOf)return t.oneOf.some(t=>uT(e,t)===e)?e:null;if(!u_(t.const)&&e===t.const)return e;if(t.type)switch(t.type){case"string":return uC(e)&&!uI(e)?e:null;case"number":case"integer":return uF(e)?e:null;case"boolean":return uk(e)?e:null}return null}function uL(e,t){return ma(t)||mo(t)||uE(e)?null:t.allOf?t.allOf.reduce((t,a)=>{let r=uL(e,a);return u1(r)?ex(ex({},t),r):t},{}):t.oneOf?t.oneOf.map(t=>uL(e,t)).reduce((e,t)=>uE(e)?t:u1(e)&&u1(t)?function e(t,a){return Object.keys(a).reduce((r,n)=>{let i=t[n],l=a[n];return u1(i)&&u1(l)?eC(ex({},r),{[n]:e(i,l)}):eC(ex({},r),{[n]:a[n]})},ex({},t))}(e,t):uE(t)?e:t,null):!u_(t.const)&&uJ(e,t.const)?e:mr(t)?Object.keys(t.properties).reduce((a,r)=>{if(e&&!u_(e[r])){let n=uN(e[r],t.properties[r]);if(!uE(n))return eC(ex({},a),{[r]:n})}return a},{}):null}function uM(e,t=!1){return!t||!u_(e)}function uP(e,t){return!uF(t)&&!uC(t)||(uF(e)||uC(e))&&e<=t}function uz(e,t){return!uF(t)&&!uC(t)||(uF(e)||uC(e))&&e>=t}function uR(e,t,a){if(t.const)return uB(e,t,a);if(uE(e))return a?["required"]:[];if(mc(t))return uD(e,t,a);switch(t.type){case"number":return uV(e,t,a);case"integer":return u$(e,t,a);case"boolean":return uU(e,t,a);case"array":return uZ(e,t,a);case"object":return u1(e)?uA(t.required)?t.required.map(t=>void 0!==e[t]).reduce((e,t)=>e&&t,!0)?[]:["required"]:[]:["type"];default:return[]}}function uD(e,t,a){var r,n,i;if(!uC(e)&&!uE(e))return["type"];if(""===e&&a)return["required"];let l=[];return uM(e,a)||l.push("required"),!uF(r=t.minLength)||uC(e)&&e.length>=r||l.push("minLength"),!uF(n=t.maxLength)||uC(e)&&e.length<=n||l.push("maxLength"),void 0===(i=t.pattern)||null!=e&&new RegExp(i).test(e)||l.push("pattern"),uz(e,t.minimum)||l.push("minimum"),uP(e,t.maximum)||l.push("maximum"),l}function uV(e,t,a){if(!uF(e)&&!uE(e))return["type"];let r=[];return uM(e,a)||r.push("required"),uz(e,t.minimum)||r.push("minimum"),uP(e,t.maximum)||r.push("maximum"),r}function u$(e,t,a){return uS(e)?uV(e,t,a):["type"]}function uU(e,t,a){if(!uk(e)&&!uE(e))return["type"];let r=[];return uM(e,a)||r.push("required"),r}function uB(e,t,a){return uM(e,a)?uJ(e,t.const)?[]:["const"]:["required"]}function uZ(e,t,a){var r,n;if(!uA(e)&&!uE(e))return["type"];if(!function(e,t=!1){return!t||uA(e)}(e,a))return["required"];let i=[];return!uF(r=t.minItems)||uA(e)&&e.length>=r||i.push("minItems"),!uF(n=t.maxItems)||uA(e)&&e.length<=n||i.push("maxItems"),i}function uq(e,t){if(t.oneOf)return!!uA(t.oneOf)&&t.oneOf.some(t=>uq(e,t));if(t.allOf)return!!uA(t.allOf)&&t.allOf.map(t=>uq(e,t)).every(e=>e);if(t.const)return!uB(e,t).length;switch(t.type){case"string":return!uD(e,t).length;case"number":return!uV(e,t).length;case"integer":return!u$(e,t).length;case"boolean":return!uU(e,t).length;case"array":return"array"===t.type&&!!uj(t.items)&&!(uZ(e,t).length>0)&&Array.isArray(e)&&ms(t)&&e.map(e=>uq(e,t.items)).every(e=>e);case"object":return!!(uj(e)&&"object"===t.type&&uj(t.properties))&&Object.keys(t.properties).map(a=>{var r,n,i;return r=e[a],n=t.properties[a],i=t.required&&t.required.includes(a),!!n.hidden||(void 0===r?!i:uq(r,n))}).every(e=>e);case"blob":return!(uE(e)?["type"]:[]).length;default:return!1}}var uH=e=>{if(!e)return null;let[t,a,r]=e.split("-").map(e=>parseInt(e,10));return uF(t)&&uF(a)&&uF(r)?new Date(t,a-1,r):null},uK=e=>(function(e){let t=new Date(e),a=String(t.getMonth()+1),r=String(t.getDate());return[t.getFullYear(),a.length<2?`0${a}`:a,r.length<2?`0${r}`:r].join("-")})(e);function uW(e){return Math.floor(e/1024)}var uY=e=>new Promise((t,a)=>{let r=new FileReader;r.readAsDataURL(e),r.addEventListener("load",()=>t(r.result)),r.addEventListener("error",e=>a(e))}),uG=(e="")=>{let t=e?`${e}-`:"";return`${t}${Math.floor(1e8*Math.random())}`},uJ=(e,t)=>e===t||(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((e,a)=>uJ(e,t[a])):!!(uQ(e)&&uQ(t)&&uX(e,t))),uX=(e,t)=>{let a=Object.keys(e),r=Object.keys(t);return a.length===r.length&&a.every(a=>Object.hasOwnProperty.call(t,a)&&uJ(e[a],t[a]))},uQ=e=>"object"==typeof e&&null!==e,u0=e=>uC(e)||uE(e),u1=e=>"object"==typeof e&&null!==e&&e.constructor===Object,u2=e=>uE(e)||u1(e),u4=e=>uk(e)||uF(e)||uC(e)||uE(e),u9=e=>uC(e)||uE(e),u3=e=>!!uA(e)&&(0===e.length||e.every(e=>"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"object"==typeof e)),u5=e=>!!uE(e)||u3(e);function u6(e){return!u_(null==e?void 0:e.const)}function u8(e){return!!e&&!u6(e)}var u7=e=>!!e.readOnly&&ma(e),me=e=>!!e.oneOf&&!!e.promotion,mt=new Set(["string","number","integer","boolean"]);function ma(e){return mt.has(e.type||"")||"const"in e&&void 0!==e.const&&!uj(e.const)}function mr(e){return"object"===e.type}function mn(e){return mi(e)&&e.oneOf.every(e=>"object"===e.type)}function mi(e){return!!e.oneOf}function ml(e){return"blob"===e.type}function mo(e){return"array"===e.type}function ms(e){return!!mo(e)&&!Array.isArray(e.items)}function mc(e){return"string"===e.type}function md(e){return!!e.persistAsync}var mu=e=>ma(e)&&!!e.validationAsync,mm=e=>ms(e)&&function(e){var t;return md(e)&&(ml(e.persistAsync.schema)||"string"===(t=e.persistAsync.schema).type&&"base64url"===t.format)}(e.items),mp=e=>{var t;if(ms(e)){let{items:a}=e;if(mi(a)&&(null==(t=a.oneOf)?void 0:t.every(u6)))return!0}return!1},mh=e=>u7(e)?"readOnly":md(e)?"persistAsync":mu(e)?"validationAsync":mr(e)?"object":mo(e)?"array":me(e)?"promotedOneOf":mi(e)?"oneOf":e.allOf?"allOf":ma(e)?"basic":null,my=e=>mg(e)&&mf(e)&&mv(e),mg=e=>!e.type||"form"===e.type,mf=e=>{var t;return(null==(t=null==e?void 0:e.actions)?void 0:t.length)===1},mv=e=>{if(!e.schemas)return!1;let t=mb(e.schemas);if((null==t?void 0:t.length)!==1)return!1;let a=t[0];if(!mr(a)||1!==Object.values(a.properties).length)return!1;let r=Object.values(a.properties)[0];return!!function(e){return"string"===e.type&&"base64url"===e.format}(r)&&"camera"===r.source},mb=e=>e.filter(e=>mr(e)?Object.values((null==e?void 0:e.properties)||{}).find(e=>(null==e?void 0:e.hidden)!==!0):(null==e?void 0:e.hidden)!==!0),mw={RADIO:"radio",CHECKBOX:"checkbox",SELECT:"select",EMAIL:"email",FILE:"file",DATE:"date",DATETIME:"date-time",DATELOOKUP:"date-lookup",TEL:"tel",NUMERIC:"numeric",NUMBER:"number",HIDDEN:"hidden",PASSWORD:"password",TEXT:"text",TEXTAREA:"textarea",UPLOAD:"upload",TAB:"tab"},mx=eE(e_()),mC=e=>e.startsWith("flag-");function mF({name:e}){if(!mC(e))return null;let t=e.substring(5);return(0,g.jsx)(n,{intrinsicSize:24,code:t})}var mS=e=>{let t=mj(e);return Object.keys(N).includes(t)};function mk({name:e}){if(!mS(e))return null;let t=N[mj(e)];return(0,g.jsx)(t,{size:24})}var mj=e=>e.split("-").map(mA).join(""),mA=e=>`${e[0].toUpperCase()}${e.slice(1)}`,mE=function({type:e}){return mC(e)?(0,g.jsx)(mF,{name:e}):mS(e)?(0,g.jsx)(mk,{name:e}):null},m_=({icon:e,image:t})=>{if(null==e?void 0:e.name)return(0,g.jsx)(T.A,{type:L.u.ICON,children:(0,g.jsx)(mE,{type:e.name})});if(null==e?void 0:e.text)return(0,g.jsx)(T.A,{type:L.u.INITIALS,children:e.text});if(null==t?void 0:t.url){let{url:e,text:a}=t;return(0,g.jsx)("img",{src:e,alt:a})}return null},mI=e=>{switch(e){case"xs":return"m-b-0";case"sm":return"m-b-1";case"md":return"m-b-2";case"lg":return"m-b-3";case"xl":return"m-b-5";default:return""}},mO=e=>{switch(e){case"right":return"text-xs-right";case"center":return"text-xs-center";default:return""}},mN=e=>`${mO(e.align)} ${mI(e.margin)}`,mT=e=>Object.hasOwnProperty.call(e,"type")&&"alert"===e.type,mL=(e,t)=>{if(!mT(e)||!e.callToAction)return;let{title:a,accessibilityDescription:r,behavior:n}=e.callToAction;if("type"in n)switch(n.type){case"action":{let{action:e}=n;return{text:a,"aria-label":r,onClick:t&&e?()=>{t(e)}:()=>{}}}case"link":return{text:a,"aria-label":r,href:n.url,target:"_blank"}}let{action:i,link:l}=n;return l?{text:a,"aria-label":r,href:l.url,target:"_blank"}:i&&t?{text:a,"aria-label":r,onClick:()=>{t(i)}}:void 0},mM=e=>{switch(e){case"success":return"positive";case"failure":return"negative";case"warning":return"warning";case"info":case"primary":return"neutral";default:return e}},mP=e=>e&&["neutral","warning","negative","positive"].includes(e)?e:"neutral",mz=({component:e,onAction:t})=>{let{context:a,markdown:r,margin:n}=e;return(0,g.jsx)(f.A,{type:mP(mM(a)),className:mI(n),message:r,action:mL(e,t)})},mR=e=>e?" well p-b-0":"",mD=e=>{switch(e.width){case"xs":return" col-md-4 col-md-offset-4";case"sm":return" col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4";case"md":return" col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3";case"lg":return" col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2";default:return" col-xs-12"}},mV=e=>{let t=e.component,a=mI(t.margin||t.border?"lg":"xs");return t.width&&"xl"!==t.width?(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:a+mD(t),children:(0,g.jsx)("div",{className:mR(t.border),children:(0,g.jsx)(hO,{components:t.components,model:e.model,submitted:e.submitted,errors:e.errors,onModelChange:e.onModelChange,onAction:e.onAction,onPersistAsync:e.onPersistAsync})})})}):(0,g.jsx)("div",{className:a+mR(t.border),children:(0,g.jsx)(hO,{components:t.components,model:e.model,submitted:e.submitted,errors:e.errors,onModelChange:e.onModelChange,onAction:e.onAction,onPersistAsync:e.onPersistAsync})})},m$={primary:"primary",secondary:"secondary",link:"tertiary",positive:"primary",negative:"primary"},mU=(e,t)=>{let a=t?t.type:void 0;return null!=e?e:a?m$[a]:"secondary"},mB={positive:"positive",negative:"negative",neutral:"accent",warning:"accent"},mZ={primary:"accent",secondary:"accent",link:"accent",positive:"positive",negative:"negative"},mq=(e,t)=>{if(e)return mB[e];let a=t?t.type:void 0;return a?mZ[a]:"accent"},mH=e=>e?mB[e]:"accent",mK=e=>{switch(e){case"xs":case"sm":return"sm";case"lg":case"xl":return"lg";default:return"md"}};function mW(e){var t,a;let{component:r,onAction:n}=e,i=r.action,l=mq(r.context,i),o=mU(r.control,i),{loading:s}=ul(),c=mI(r.margin||"md"),d=s||r.disabled||(null==i?void 0:i.disabled),u=null!=(a=null!=(t=r.title)?t:null==i?void 0:i.title)?a:"";return(0,g.jsx)(j.A,{size:mK(r.size),type:"tertiary"===o?void 0:l,priority:o,block:!0,className:c,disabled:d,onClick:()=>{i&&n(i)},children:u})}function mY(e){var t,a;let{component:r,onAction:n}=e,i=mH(r.context),l=null!=(t=r.control)?t:"secondary",{loading:o}=ul(),s=mI(r.margin||"md"),c=o||r.disabled,d=null!=(a=r.title)?a:"";return(0,g.jsx)(j.A,{size:mK(r.size),type:"tertiary"===l?void 0:i,priority:l,block:!0,className:s,disabled:c,onClick:()=>{let{behavior:e}=r;if(e){if("type"in e)switch(e.type){case"action":e.action&&n(e.action);break;case"link":e.url&&window.open(e.url,"_blank")}else(null==e?void 0:e.action)&&n(e.action),(null==e?void 0:e.link)&&window.open(e.link.url,"_blank")}},children:d})}var mG=function(e){return e.component.behavior?(0,g.jsx)(mY,ex({},e)):(0,g.jsx)(mW,ex({},e))},mJ=e=>"left"===e?{leftWidth:"col-md-8",rightWidth:"col-md-4"}:"right"===e?{leftWidth:"col-md-4",rightWidth:"col-md-8"}:{leftWidth:"col-md-6",rightWidth:"col-md-6"},mX=e=>{let t=e.component,{leftWidth:a,rightWidth:r}=mJ(t.bias);return(0,g.jsxs)("div",{className:`${mI(t.margin||"xs")} row`,children:[(0,g.jsx)("div",{className:`${a} m-b-0`,children:(0,g.jsx)(hO,{components:t.left,model:e.model,submitted:e.submitted,errors:e.errors,onModelChange:e.onModelChange,onAction:e.onAction,onPersistAsync:e.onPersistAsync})}),(0,g.jsx)("div",{className:`${r} m-b-0`,children:(0,g.jsx)(hO,{components:t.right,model:e.model,submitted:e.submitted,errors:e.errors,onModelChange:e.onModelChange,onAction:e.onAction,onPersistAsync:e.onPersistAsync})})]})},mQ=function({component:e,onAction:t}){let{loading:a}=ul(),{margin:r,options:n,title:i}=e;return(0,g.jsxs)("div",{className:mI(r),children:[i&&(0,g.jsx)(_.Y,{as:"h2",title:i}),(0,g.jsx)(I.A,{children:n.map(e=>(0,g.jsx)(O.A,{title:e.title,content:e.description,disabled:a||e.disabled,media:m_(e),showMediaCircle:!1,showMediaAtAllSizes:!0,onClick:()=>t(e.action)},JSON.stringify(e)))})]})},m0=({component:e})=>{let t=mI(e.margin),a=`m-t-0 ${t}`;return(0,g.jsx)("hr",{className:a})},m1=(0,w.YK)({retryTitle:{id:"dynamicFlows.DynamicExternal.retryTitle",defaultMessage:"Reopen window",description:""}}),m2=({component:e,onAction:t})=>{let{requestUrl:a,responseHandlers:r,polling:n,retryTitle:i}=e,l=(0,b.A)(),o=(0,y.useCallback)(()=>window.open(a,"df-external-window"),[a]);return(0,y.useEffect)(()=>{o()},[o]),!function(e,t){var a,r;let n=dG(),i=(0,y.useMemo)(()=>{if(e)return()=>n(e.url).then(e=>{if(e.ok)try{return e.json()}catch(e){throw Error("failed")}else throw Error("failed")}).catch(e=>{throw Error("failed"===e.message?"failed":"network failed")})},[e,n]),l=(0,y.useCallback)(a=>{let r=((null==e?void 0:e.responseHandlers)||[]).find(e=>e.result===a.result);if(null==r?void 0:r.action){let{action:e}=r;if(e.exit){let r=ex(ex({},e.result||{}),a.data||{});t(eC(ex({},e),{result:r}))}else{let r=ex(ex({},e.data||{}),a.data||{});t(eC(ex({},e),{data:r}))}return!1}return!0},[null==e?void 0:e.responseHandlers,t]);yi({asyncFn:i,delay:null!=(r=null!=(a=null==e?void 0:e.delay)?a:null==e?void 0:e.interval)?r:0,maxAttempts:(null==e?void 0:e.maxAttempts)||0,maxConsecutiveFails:(null==e?void 0:e.maxConsecutiveFails)||0,onPollingResponse:l,onFailure:(0,y.useCallback)(()=>{e&&t(e.onError.action)},[t,e])})}((0,y.useMemo)(()=>n&&r?eC(ex({},n),{responseHandlers:r}):void 0,[n,r]),t),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(V.A,{size:ei.o.LARGE,classNames:{"tw-loader":"tw-loader m-x-auto"}}),(0,g.jsx)("br",{}),(0,g.jsx)(j.A,{priority:"tertiary",block:!0,onClick:o,children:i||l.formatMessage(m1.retryTitle)})]})},m4=eE(e_()),m9=(e,t)=>t.map(t=>uL(e,t)||{}),m3=e=>e.reduce((e,t)=>ex(ex({},t),e),{}),m5=e=>({"col-xs-12":!0,"col-sm-6":"md"===e,"col-sm-4":"sm"===e}),m6=function(e){let{disabled:t=!1,hideTitle:a=!1}=e,r=(t,a)=>{let r=e.schema.allOf[t];n[t]=uL(a.model,r)||{},i(n),e.onChange(eC(ex({},a),{model:m3(n)}))},[n,i]=(0,y.useState)(m9(e.model,e.schema.allOf));return(0,g.jsxs)(g.Fragment,{children:[e.schema.title&&!a&&(0,g.jsx)(_.Y,{title:e.schema.title}),e.schema.description&&(0,g.jsx)("p",{children:e.schema.description}),(0,g.jsx)("div",{className:"row",children:e.schema.allOf.map((a,i)=>(0,g.jsx)("div",{className:(0,m4.default)(m5(a.width)),children:(0,g.jsx)(hy,{schema:a,model:n[i],errors:e.errors,submitted:e.submitted,disabled:t,onChange:e=>r(i,eC(ex({},e),{model:e.model})),onPersistAsync:e.onPersistAsync})},i))})]})},m8=eE(e_()),m7=function(e){let{errors:t="",validations:a=[],validationMessages:r={}}=e,n=ex(ex(ex({},function(e){let{formatMessage:t,locale:a}=(0,b.A)(),r={type:t(sk.type),minimum:t(sk.minimum,{minimum:e.minimum}),maximum:t(sk.maximum,{maximum:e.maximum}),minLength:t(sk.minLength,{minLength:e.minLength}),maxLength:t(sk.maxLength,{maxLength:e.maxLength}),minItems:t(sj.minItemsError,{minItems:e.minItems}),maxItems:t(sj.maxItemsError,{maxItems:e.maxItems}),pattern:t(sk.pattern),required:t(sk.required)};if("date"===e.format){let n={pattern:t(sk.patternDate),minimum:e.minimum?t(sk.minimumDate,{minimum:(0,x.Yq)(new Date(e.minimum),a,{timeZone:"UTC",dateStyle:"long"})}):void 0,maximum:e.maximum?t(sk.maximumDate,{maximum:(0,x.Yq)(new Date(e.maximum),a,{timeZone:"UTC",dateStyle:"long"})}):void 0};return ex(ex({},r),n)}return r}(e.schema)),r),e.schema.validationMessages),i=(e.submitted||!e.changed)&&!!t,l=!i&&(e.submitted||e.changed&&e.blurred)&&!!(null==a?void 0:a.length),o="boolean"!==e.schema.type&&e.schema.description&&!i&&!l,s=!!e.infoMessage;return(0,g.jsxs)("div",{id:e.id,children:[i?(0,g.jsx)(Z.A,{type:"error",children:t}):null,l?(0,g.jsx)(Z.A,{type:"error",children:a.map(e=>(0,g.jsx)("div",{children:n[e]},e))}):null,(o||s)&&(0,g.jsxs)(Z.A,{type:"info",children:[o&&(0,g.jsx)("div",{children:e.schema.description}),s&&(0,g.jsx)("div",{children:e.infoMessage})]})]})};async function pe(e,t){if(t)return e;if(e instanceof Blob)return uY(e);throw Error("Error creating payload for MultipleFileUploadSchema. Uploaded file is not an instance of Blob.")}var pt=(0,w.YK)({required:{id:"dynamicFlows.DefaultErrorMessages.required",defaultMessage:"Please fill out this field.",description:"Customer has left the required field empty"}});function pa({maxItems:e,minItems:t}){let{formatMessage:a}=(0,b.A)(),{maxFileSizeError:r,maxItemsError:n,minItemsError:i}=sE;return{maxFileSizeErrorMessage:a(r),maxItemsErrorMessage:a(n,{maxItems:e}),minItemsErrorMessage:a(i,{minItems:t}),requiredMessage:a(pt.required)}}var pr=function(e){var t,a;let{onChange:r,errors:n=null,schema:i,required:l=!1}=e,o=uc(),s=pa(i),c=(0,y.useMemo)(()=>i.$id||uG(),[i.$id]),[d,u]=(0,y.useState)(!1),[m,p]=(0,y.useState)(()=>(e.model||[]).map(e=>uF(e)||uC(e)?{id:e,status:el.n.SUCCEEDED}:null).filter(e=>null!==e)),h=yn(i.items.persistAsync),f=i.items.persistAsync.schema,v=ml(f),b=async e=>{u(!0);try{let t=await pe(e,v);o("Dynamic Flow - PersistAsync",{status:"pending",schemaId:i.$id});let a=await h(t);return o("Dynamic Flow - PersistAsync",{status:"success",schemaId:i.$id}),ex({id:a.data},a)}catch(e){return o("Dynamic Flow - PersistAsync",{status:"failure",schemaId:i.$id}),Promise.reject(function(e){let t=e instanceof Error;return uj(e)&&"data"in e||t?t?{id:uG(),message:e.message}:ex({message:uC(e.message)?e.message:""},e):uC(e)?e:void 0}(e))}},w=uZ(pn(m).map(e=>e.id),i,l),x=!!n||(d||e.submitted)&&!!w.length,C="accepts"in f&&f.accepts,F="maxSize"in f&&f.maxSize,S=eC(ex(ex({multiple:!0,files:m,fileInputName:c,id:c},C?{fileTypes:C}:void 0),F?{sizeLimit:uW(F)}:void 0),{sizeLimitErrorMessage:(null==(t=f.validationMessages)?void 0:t.maxSize)||s.maxFileSizeErrorMessage,maxFiles:e.schema.maxItems,maxFilesErrorMessage:(null==(a=e.schema.validationMessages)?void 0:a.maxItems)||s.maxItemsErrorMessage,uploadButtonTitle:f.title,description:f.description,disabled:e.disabled,onUploadFile:e=>b(e.get(c)),onFilesChange:function(e){if(function(e,t){let a=t.reduce((e,t)=>eC(ex({},e),{[t.id]:t}),{});for(let t of e){let e=a[t.id];if(!e||e.status!==t.status)return!1}return!0}(e,m))return;p(e);let t=pn(e).map(e=>e.id);r({model:t,triggerSchema:i,triggerModel:t})},onDeleteFile:()=>Promise.resolve()}),k=`${c}-feedback`;return(0,g.jsxs)("div",{className:(0,m8.default)("form-group",{"has-error":x}),children:[(0,g.jsx)("label",{className:"d-block control-label",htmlFor:c,children:e.schema.title}),(0,g.jsx)("div",{"aria-describedby":k,children:(0,g.jsx)(B.A,ex({},S))}),(0,g.jsx)(m7,{id:k,changed:d,submitted:e.submitted,errors:n,schema:e.schema,validations:w,validationMessages:function(e,t,a){let{minItems:r,maxItems:n}=e;return ex(ex(ex({},t&&{required:a.requiredMessage}),r&&{minItems:a.minItemsErrorMessage}),n&&{maxItems:a.maxItemsErrorMessage})}(i,!!l,s),infoMessage:null,focused:!1,blurred:!0})]})};function pn(e){return e.filter(e=>!e.error&&"succeeded"===e.status)}var pi=eE(e_()),pl=(e,t)=>"select"===t?ps(e):po(e),po=e=>ex(ex(ex({label:e.title,value:e.const},py(e.title,e.description)),pm(e)),pg(e.disabled)),ps=e=>ex(ex(ex(ex(ex({label:e.title,value:e.const},ph(e.title,e.description)),pu(e.icon)),pd(e.image)),pg(e.disabled)),pc(e.keywords)),pc=e=>uA(e)?{searchStrings:e}:{},pd=e=>(null==e?void 0:e.url)?{icon:(0,g.jsx)("div",{className:"media",children:(0,g.jsx)("div",{className:"np-option__no-media-circle",children:(0,g.jsx)("img",{src:e.url,alt:e.name||""})})}),hideIconInTrigger:!0}:null,pu=e=>(null==e?void 0:e.name)&&mC(e.name)?{icon:(0,g.jsx)(n,{code:e.name.substring(5),intrinsicSize:24})}:(null==e?void 0:e.name)&&function(e){return mS(e)||mC(e)}(e.name)?{icon:(0,g.jsx)(mE,{type:e.name})}:(null==e?void 0:e.text)?{icon:(0,g.jsx)("span",{children:e.text})}:null,pm=({image:e,icon:t})=>(null==e?void 0:e.url)?{avatar:(0,g.jsx)(T.A,{type:L.u.THUMBNAIL,children:(0,g.jsx)("img",{src:e.url,alt:""})})}:(null==t?void 0:t.name)&&function(e){return mS(e)||mC(e)}(t.name)?{avatar:(0,g.jsx)(T.A,{type:L.u.ICON,children:(0,g.jsx)(mE,{type:t.name})})}:(null==t?void 0:t.text)?{avatar:(0,g.jsx)(T.A,{type:L.u.INITIALS,children:t.text})}:null,pp=({accepts:e})=>ex({},uA(e)&&{usAccept:e.join(",")}),ph=(e,t)=>{if(e&&t)return(e+t).length>50?{secondary:t}:{note:t}},py=(e,t)=>{if(e&&t)return{note:t}},pg=e=>{if(!u_(e)&&!uE(e))return{disabled:e}},pf=(0,w.YK)({summary:{id:"dynamicFlows.MultiSelect.summary",defaultMessage:"{first} and {count} more",description:"A summary of the multiple items selected. Showing the title of the first selected item, and the number of other items that have been selected."}});function pv({schema:e,model:t,submitted:a,required:r=!1,errors:n,onChange:i}){let{formatMessage:l,locale:o}=(0,b.A)(),{disabled:s,items:c,validationMessages:d,placeholder:u}=e,m=c.oneOf.map(e=>pl(e,"select")),p=(0,y.useMemo)(()=>e.$id||uG(),[e.$id]),[h,f]=(0,y.useState)(!1),[v,w]=(0,y.useState)(pb(t,m));(0,y.useEffect)(()=>{v&&x(v)},[]);let x=t=>{w(t);let a=t.map(e=>m[e].value);f(!0),i({model:r||0!==a.length?a:null,triggerSchema:e.items,triggerModel:a})},C=()=>v&&v.length>0?v.length>1?l(pf.summary,{first:m[v[0]].label,count:v.length-1}):m[v[0]].label:u,F=uR(t,e,r),S=!!F.length&&a,k={"form-group":!0,"has-error":!!n&&!h||S,"has-info":!!e.description};return(0,g.jsxs)("div",{className:(0,pi.default)("d-flex flex-column",k),children:[e.title?(0,g.jsx)("label",{className:"control-label d-inline m-b-1",htmlFor:p,children:e.title}):void 0,(0,g.jsx)(U.pp,{id:p,multiple:!0,disabled:s,placeholder:u?String(u):void 0,items:m.map((e,t)=>({type:"option",value:t,disabled:e.disabled,filterMatchers:[e.label,e.value,...e.note?[e.note]:[],...e.secondary?[e.secondary]:[],...e.searchStrings?e.searchStrings:[]]})),filterable:m.length>=8,value:null!=v?v:[],renderValue:(e,t)=>{let{icon:a,label:r,note:n,secondary:i}=m[e];return t?v&&e===v[0]?C():void 0:(0,g.jsx)(U.JV,{title:r,note:null!=n?n:i,icon:a})},onChange:x}),(0,g.jsx)(m7,{id:`${p}-feedback`,changed:h,focused:!a,blurred:!a,errors:"string"==typeof n?n:void 0,submitted:a,schema:e,validations:a?F:void 0,validationMessages:d,infoMessage:null})]})}var pb=(e,t)=>null==e?null:e.map(e=>t.findIndex(t=>t.value===e)).filter(e=>e>=0);function pw({item:e,onClick:t}){return(0,g.jsx)(O.A,{media:m_(e),title:e.title,content:e.description,showMediaAtAllSizes:!0,onClick:t})}var px=(0,w.YK)({addItemTitle:{id:"dynamicFlows.ArraySchema.addItemTitle",defaultMessage:"Add Item",description:"Label on the button used to open a form to add an item"},addItem:{id:"dynamicFlows.ArraySchema.addItem",defaultMessage:"Save",description:"Label on the add button used to submit a form that adds an item"},editItem:{id:"dynamicFlows.ArraySchema.editItem",defaultMessage:"Save",description:"Label on the edit button used to submit a form that edits an item"},removeItem:{id:"dynamicFlows.ArraySchema.removeItem",defaultMessage:"Remove",description:"Label on the remove button used to confirm deletion of an item"}}),pC=function({type:e,schema:t,model:a,errors:r,submitted:n,onModelChange:i,onAction:l}){let{formatMessage:o}=(0,b.A)(),[s,c]=(0,y.useState)(void 0),d={layout:[{type:"form",schema:t.items},{type:"button",control:"primary",action:{url:e,title:o("add"===e?px.addItem:px.editItem)}},..."edit"===e?[{type:"button",context:"negative",action:{url:"remove",title:o(px.removeItem)}}]:[]],title:"",actions:[],schemas:[]};return(0,g.jsx)(yB,{step:d,model:a,stepLayoutOptions:{displayStepTitle:!1},submitted:n,formErrors:r,globalError:null,onAction:e=>{l(e.url,s),c(void 0)},onModelChange:e=>{let{metadata:a,model:r}=e,n=eS(e,["metadata","model"]);"base64url"===t.items.format&&"string"==typeof r&&"string"==typeof(null==a?void 0:a.filename)&&c(a.filename),i(eC(ex({},n),{model:r}))}})},pF=(e,t)=>{let a=pS(e,t);if(a>=0)return a;if(1===e.oneOf.length&&u8(e.oneOf[0]))return 0;if(u6(e.oneOf[0])){let t=pS(e,e.default);if(t>=0)return t}return mn(e)&&u1(t)&&Object.keys(t).length>=1?pk(e,t):mn(e)&&!u_(e.default)&&u1(e.default)&&Object.keys(e.default).length>=1?pk(e,e.default):null},pS=(e,t)=>{let a=e=>!u_(t)&&uq(t,e);return 1===e.oneOf.filter(a).length?e.oneOf.findIndex(a):-1};function pk(e,t){if(null==t)return null;let a=e.oneOf.map(e=>(null!==e.properties&&"object"==typeof e.properties?Object.entries(e.properties):[]).reduce((e,[a,r])=>u6(r)&&r.const===t[a]?e+2:u8(r)&&void 0!==t[a]?e+1:e,0));return a.every(e=>e===a[0])?null:a.indexOf(Math.max(...a))}var pj=(e,t,a={},r)=>{let{defaultTitle:n="",defaultDescription:i="",defaultIcon:l,defaultImage:o}=a,s=pA({schema:e,model:t,providesProp:"providesTitle",getValueFromSchema:(e,t)=>null!=r?r:pO(e,t)}),c=pA({schema:e,model:t,providesProp:"providesDescription",getValueFromSchema:(e,t)=>null!=r?r:pO(e,t)}),d=pA({schema:e,model:t,providesProp:"providesIcon",getValueFromSchema:e=>{var t;return null!=(t=e.icon)?t:null}}),u=pA({schema:e,model:t,providesProp:"providesImage",getValueFromSchema:e=>{var t;return null!=(t=e.image)?t:null}});return{value:t,title:s||n,description:c||i,icon:d||l,image:u||o}},pA=e=>{let{schema:t,model:a,providesProp:r,getValueFromSchema:n}=e,i=mh(t);if(pN(t.summary,r))return n(t,a);switch(i){case"object":return pE(e);case"oneOf":return p_(e);case"allOf":return pI(e);default:return null}},pE=e=>{let{schema:t,model:a}=e;for(let r in t.properties){let n=t.properties[r],i=u1(a)&&r in a?a[r]:null,l=pA(eC(ex({},e),{schema:n,model:i}));if(l)return l}return null},p_=e=>{let{schema:t,model:a}=e;if(mn(t)){if(!u1(a))return null;let r=pk(t,a);if(null===r||r<0)return null;let n=t.oneOf[r];return pA(eC(ex({},e),{schema:n}))}let r=pF(t,a);return null===r||r<0?null:pA(eC(ex({},e),{schema:t.oneOf[r]}))},pI=e=>{let{schema:t}=e;for(let a of t.allOf){let t=pA(eC(ex({},e),{schema:a}));if(t)return t}return null},pO=(e,t)=>u6(e)?e.title?e.title:uC(e.const)?e.const:null:u9(t)?t:null,pN=(e,t)=>!!e&&Object.hasOwnProperty.call(e,t)&&!!e[t],pT=eE(e_()),pL=(e,{originalItem:t,updatedItem:a,itemSummaries:r})=>{if("remove"===e)return(r||[]).filter(e=>e!==t);if(!a)return r;switch(e){case"add":return[...r||[],a];case"edit":return(r||[]).map(e=>e===t?a:e);default:return null}},pM=function({schema:e,model:t,errors:a,submitted:r,required:n=!1,onChange:i}){var l;let[o,s]=(0,y.useState)(null),[c,d]=(0,y.useState)(!1),[u,m]=(0,y.useState)(()=>{if(uj(t)&&!uA(t))throw Error("RepeatableSchema does not support object models. Ensure your array schema is wrapped inside an object schema.");return t?t.map(t=>pj(e.items,t,null==e?void 0:e.summary)):null}),[p,h]=(0,y.useState)({item:null,model:null}),f=(0,y.useMemo)(()=>e.$id||uG(),[e.$id]),v=t=>{let a=t?t.map(({value:e})=>e):null;i({model:a,triggerSchema:e.items,triggerModel:a})},w=e=>{h({item:e,model:e.value}),s("edit")},{formatMessage:x}=(0,b.A)(),C=uR(t,e,n),F=pa({minItems:e.minItems,maxItems:e.maxItems}),S="string"===e.items.type&&"base64url"===e.items.format?{minItems:F.minItemsErrorMessage,maxItems:F.maxItemsErrorMessage,required:F.requiredMessage}:void 0,k={"has-error":null!=(l=a&&!uI(a))?l:r&&C.length};return(0,g.jsxs)("div",{id:f,className:(0,pT.default)(k),children:[e.title&&(0,g.jsx)(_.Y,{title:e.title}),null==u?void 0:u.map(e=>(0,g.jsx)(pw,{item:e,onClick:()=>w(e)},JSON.stringify(e))),(0,g.jsx)(O.A,{media:(0,g.jsx)(N.Plus,{}),title:e.addItemTitle||x(px.addItemTitle),showMediaAtAllSizes:!0,onClick:()=>{s("add")}}),(0,g.jsx)($.A,{open:null!==o,title:("add"===o?e.addItemTitle:e.editItemTitle)||x(px.addItemTitle),body:(0,g.jsx)(pC,{type:null!=o?o:"add",schema:e,model:p.model,errors:a,submitted:r,onAction:(t,a)=>{var r;d(!0);let n="remove"===t?null:pj(e.items,p.model,e.summary,a);if("remove"!==t&&!uq(null!=(r=null==n?void 0:n.value)?r:null,e.items))return;let i=pL(t,{originalItem:p.item,updatedItem:n,itemSummaries:u});m(i),v(i),h({item:null,model:null}),s(null)},onModelChange:({model:e})=>h(eC(ex({},p),{model:e}))}),onClose:()=>{h({item:null,model:null}),s(null)}}),(0,g.jsx)(m7,{id:`${f}-feedback`,changed:c,focused:!1,blurred:!1,errors:"string"==typeof a?a:void 0,submitted:r,schema:e,validations:C,validationMessages:S,infoMessage:null})]})},pP=function(e){let{errors:t=null,schema:a}=e;if(mm(a))return(0,g.jsx)(pr,eC(ex({},e),{errors:t,schema:a}));if(mp(a))return(0,g.jsx)(pv,eC(ex({},e),{errors:t,schema:a}));if(ms(a))return(0,g.jsx)(pM,eC(ex({},e),{errors:t,schema:a}));throw Error("Invalid array list schema")},pz=e=>{let{schema:t}=e;if(ms(t))return(0,g.jsx)(pP,ex({},e));throw Error("Not implemented")},pR=eE(e_()),pD=e=>({"col-xs-12":!0,"col-sm-6":"md"===e,"col-sm-4":"sm"===e}),pV=function(e){let{disabled:t=!1,hideTitle:a=!1}=e,[r,n]=(0,y.useState)(()=>ex({},uL(e.model,e.schema))),i=(t,a)=>{null!==a.model?r[t]=a.model:delete r[t],n(r),e.onChange(eC(ex({},a),{model:r}))},l=t=>e.schema.required&&e.schema.required.includes(t);(0,y.useEffect)(()=>{let t=uL(r,e.schema)||{};n(t),uJ(t,r)||e.onChange({model:t,triggerSchema:e.schema,triggerModel:t})},[e.schema]);let o=Array.from(new Set([...e.schema.displayOrder||[],...Object.keys(e.schema.properties)])).filter(t=>void 0!==e.schema.properties[t]),s=e.errors;return(0,g.jsxs)(g.Fragment,{children:[e.schema.alert&&(0,g.jsx)(mz,{component:e.schema.alert}),(0,g.jsxs)("fieldset",{children:[e.schema.title&&!a&&(0,g.jsx)(_.Y,{title:e.schema.title,as:"legend"}),e.schema.description&&!a&&(0,g.jsxs)("p",{children:[" ",e.schema.description," "]}),(0,g.jsx)("div",{className:"row",children:o.map(a=>(0,g.jsx)("div",{className:(0,pR.default)(pD(e.schema.properties[a].width)),children:(0,g.jsx)(hy,{schema:e.schema.properties[a],model:e.model&&e.model[a],errors:null==s?void 0:s[a],submitted:e.submitted,required:l(a),disabled:t,onChange:e=>i(a,e),onPersistAsync:e.onPersistAsync})},a))})]})]})},p$=eE(e_()),pU=(0,w.YK)({helpAria:{id:"dynamicFlows.Help.ariaLabel",defaultMessage:"Click here for more info.",description:"Aria label for help."}}),pB=function(e){let t=(0,b.A)();return(0,g.jsx)(F.A,{className:"m-l-1",content:(0,g.jsx)(S.A,{config:{link:{target:"_blank"}},children:e.help.markdown}),presentation:"POPOVER",size:"sm","aria-label":t.formatMessage(pU.helpAria)})},pZ=(e,t={})=>{let{coerceValue:a=!1}=t;if(!uE(e)){if(uj(e)){pG({received:"object",expected:"string"});return}return uC(e)?e:a?(pY({received:typeof e,expected:"string"}),String(e)):void pG({received:typeof e,expected:"string"})}},pq=(e,t={})=>{let{coerceValue:a=!1}=t;if(uE(e))return;if(uF(e))return e;let r={received:typeof e,expected:"string or number"};if(uj(e)){pG(r);return}return uC(e)?e:a?(pY(r),String(e)):void pG(r)},pH=(e,t={})=>{let{coerceValue:a=!1}=t;return!uE(e)&&(uk(e)?e:a?(pY({received:typeof e,expected:"boolean"}),!!e):void pG({received:typeof e,expected:"boolean"}))},pK=e=>{if(!uE(e)){if(!(e instanceof Date)&&!uC(e)){pG({received:typeof e,expected:"string or Date"});return}return e}},pW=e=>{if(uE(e))return null;if(!uC(e))return pG({received:typeof e,expected:"string",fallback:"null"}),null;let t=uH(e);return null===t&&console.warn("Incorrectly formatted date string. Falling back to null."),t},pY=({received:e,expected:t})=>{console.warn(`Value with type ${e} passed to control that only accepts type ${t}. Type will be coerced, but this behaviour will change in the future, so please fix your code.`)},pG=({received:e,expected:t,fallback:a="undefined"})=>{console.warn(`Value with type ${e} passed to control that only accepts type ${t}. Falling back to ${a}`)},pJ=(e,{prefix:t="",suffix:a=""}={})=>e.map(e=>{let r=`${t}${e}${a}`;return pX(r)?pQ[r]:void 0}).filter(e=>e).join(" ")||"off",pX=e=>Object.keys(pQ).some(t=>t===e),pQ={on:"on",name:"name","name-prefix":"honorific-prefix","given-name":"given-name","additional-name":"additional-name","family-name":"family-name","name-suffix":"honorific-suffix",nickname:"nickname",email:"email","new-username":"username",username:"username","new-password":"new-password",password:"current-password","one-time-code":"one-time-code","job-title":"organization-title","organization-name":"organization","full-street-address":"street-address","street-address-line-1":"address-line1","street-address-line-2":"address-line2","street-address-line-3":"address-line3","address-level-1":"address-level1","address-level-2":"address-level2","address-level-3":"address-level3","address-level-4":"address-level4","country-code":"country","country-name":"country-name","postal-code":"postal-code","credit-card-name":"cc-name","credit-card-given-name":"cc-given-name","credit-card-middle-name":"cc-additional-name","credit-card-family-name":"cc-family-name","credit-card-number":"cc-number","credit-card-expiration":"cc-exp","credit-card-expiration-month":"cc-exp-month","credit-card-expiration-year":"cc-exp-year","credit-card-security-code":"cc-csc","credit-card-type":"cc-type","transaction-currency":"transaction-currency","transaction-amount":"transaction-amount",language:"language",birthdate:"bday","birthdate-day":"bday-day","birthdate-month":"bday-month","birthdate-year":"bday-year",gender:"sex","phone-number":"tel","phone-country-code":"tel-country-code","phone-national":"tel-national","phone-area-code":"tel-area-code","phone-local":"tel-local","phone-local-prefix":"tel-local-prefix","phone-local-suffix":"tel-local-suffix","phone-extension":"tel-extension",url:"url",photo:"photo",impp:"impp",shipping:"shipping",billing:"billing",home:"home",work:"work",mobile:"mobile",fax:"fax",pager:"pager"},p0=class extends y.PureComponent{constructor(e){super(e),this.getAutocompleteValue=({prefix:e="",suffix:t=""}={})=>{let{autoComplete:a,autocompleteHint:r}=this.props;return uA(r)?pJ(r,{prefix:e,suffix:t}):a?"on":"off"},this.handleOnChange=(e,t)=>{this.props.onChange(e,void 0,t)},this.handleInputOnChange=e=>{this.props.onChange(e.target.value)},this.handleOnFocus=()=>{var e,t;null==(t=(e=this.props).onFocus)||t.call(e)},this.handleOnBlur=()=>{var e,t;null==(t=(e=this.props).onBlur)||t.call(e)},this.getSelectedOption=e=>null!==this.state.selectedOption&&void 0!==this.state.selectedOption?e.find(e=>{var t;return(null==(t=this.state.selectedOption)?void 0:t.value)===e.value}):null!==this.props.value&&void 0!==this.props.value?e.find(e=>this.props.value===e.value):void 0,this.mapOption=e=>eC(ex({},e),{value:uF(e.value)||uC(e.value)?e.value:void 0,secondary:e.note,disabled:e.disabled||this.props.disabled,readOnly:this.props.readOnly}),this.state={selectedOption:e.selectedOption,touched:!1,prevValue:e.value}}static getDerivedStateFromProps(e,t){return t.prevValue!==e.value?{prevValue:e.value,value:e.value}:null}render(){var e;let{name:t,placeholder:a,step:r,countryCode:n,type:i,options:l,disabled:o,readOnly:s,required:c,minLength:d,maxLength:u,min:m,max:p,searchPlaceholder:h,onSearchChange:y,size:f,uploadProps:v,label:b,description:w,monthFormat:x,id:C,invalid:F,minDate:S,maxDate:j,value:_,mode:I,describedBy:O,labelledBy:N}=this.props;switch(i){case mw.RADIO:return(0,g.jsx)(K.A,{radios:l.map(this.mapOption),name:t,selectedValue:pq(_,{coerceValue:!0}),UNSAFE_inputAttributes:{id:C,"aria-invalid":F,"aria-labelledby":N,"aria-describedby":O},onChange:this.handleOnChange});case mw.CHECKBOX:return(0,g.jsx)(k.A,{checked:pH(_,{coerceValue:!0}),disabled:o,label:b,secondary:w,required:c,readOnly:s,onChange:this.handleOnChange,onBlur:this.handleOnBlur,onFocus:this.handleOnFocus});case mw.SELECT:{let e=l.length>=8,t=this.getSelectedOption(l);return(0,g.jsx)("div",{className:"d-flex flex-column",children:(0,g.jsx)(U.pp,{id:C,UNSAFE_triggerButtonProps:{id:C,"aria-invalid":F,"aria-labelledby":N,"aria-describedby":O},items:l.map(e=>({type:"option",value:e,disabled:e.disabled})),value:null!=t?t:null,renderValue:({hideIconInTrigger:e,icon:t,label:a,note:r,secondary:n},i)=>(0,g.jsx)(U.JV,{title:a,note:i?null!=r?r:n:r,description:i?void 0:n,icon:i&&e?void 0:t}),filterable:e,disabled:o,placeholder:a,filterPlaceholder:h,onChange:e=>{var t;this.setState({selectedOption:e}),this.props.onChange(null!=(t=null==e?void 0:e.value)?t:null)},onFilterChange:e&&y?({query:e})=>{y(e)}:void 0,onClear:c?void 0:()=>{this.setState({selectedOption:null}),this.props.onChange(null)}})})}case mw.TAB:return(0,g.jsx)(W.A,{selected:(null==(e=this.getSelectedOption(l))?void 0:e.value)||0,tabs:l.map(e=>({title:e.label,content:(0,g.jsx)(g.Fragment,{}),disabled:e.disabled||!1})),name:C,onTabSelect:e=>{let t=!!this.state.selectedOption;this.setState({selectedOption:l.find(t=>t.value===e)}),this.props.onChange(e,t?"user":"init")}});case mw.NUMERIC:case mw.NUMBER:return(0,g.jsx)("input",{autoComplete:this.getAutocompleteValue(),className:"form-control",disabled:o,id:C,max:p,min:m,placeholder:a,readOnly:s,required:c,step:r,type:"number",value:pq(_,{coerceValue:!0}),"aria-describedby":O,onBlur:this.handleOnBlur,onChange:e=>{i===mw.NUMERIC?this.props.onChange(e.target.value):this.props.onChange(parseFloat(e.target.value))},onFocus:this.handleOnFocus,onWheel:e=>{e.target instanceof HTMLElement&&e.target.blur()}});case mw.HIDDEN:return(0,g.jsx)("input",{type:"hidden",name:t,value:pZ(_,{coerceValue:!0}),id:C});case mw.PASSWORD:return(0,g.jsx)("input",{autoComplete:this.getAutocompleteValue(),className:"form-control",disabled:o,id:C,placeholder:a,readOnly:s,required:c,type:"password",value:pZ(_,{coerceValue:!0}),"aria-describedby":O,onBlur:this.handleOnBlur,onChange:this.handleInputOnChange,onFocus:this.handleOnFocus});case mw.DATE:case mw.DATETIME:return(0,g.jsx)(E.A,{"aria-labelledby":N,dayAutoComplete:this.getAutocompleteValue({suffix:"-day"}),yearAutoComplete:this.getAutocompleteValue({suffix:"-year"}),disabled:o,size:f,value:pK(_),mode:I,monthFormat:x,onBlur:this.handleOnBlur,onChange:this.handleOnChange,onFocus:this.handleOnFocus});case mw.DATELOOKUP:return(0,g.jsx)(A.A,{value:pW(_),min:S,max:j,placeholder:a,monthFormat:x,disabled:o,onChange:e=>{this.handleOnChange(null!==e?uK(e):null)},onBlur:this.handleOnBlur,onFocus:this.handleOnFocus});case mw.TEL:return(0,g.jsx)(ee.A,{disabled:o,countryCode:n,placeholder:a,required:c,searchPlaceholder:h,size:f,initialValue:pZ(_),onBlur:this.handleOnBlur,onChange:e=>this.handleOnChange(e),onFocus:this.handleOnFocus});case mw.TEXTAREA:{let e={className:"form-control tw-form-control",id:C,name:t,placeholder:a,value:pZ(_,{coerceValue:!0}),readOnly:s,required:c,minLength:d,maxLength:u,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,disabled:o,autoComplete:this.getAutocompleteValue()};if(this.props.displayPattern)return(0,g.jsx)(X.A,eC(ex({displayPattern:this.props.displayPattern},e),{onChange:this.handleOnChange}));return(0,g.jsx)("textarea",eC(ex({},e),{"aria-describedby":O,onChange:this.handleInputOnChange}))}case mw.FILE:case mw.UPLOAD:return(0,g.jsx)(et.Ay,eC(ex({},v),{usAccept:v.usAccept||"*",usDisabled:v.usDisabled||o,onSuccess:(e,t)=>{this.handleOnChange(e,{filename:t})},onFailure:()=>{this.handleOnChange(null)},onCancel:()=>{this.handleOnChange(null)}}));case mw.TEXT:case mw.EMAIL:default:{let e={type:i===mw.EMAIL?"email":"text",className:"form-control",id:C,name:t,placeholder:a,value:pZ(_,{coerceValue:!0}),readOnly:s,required:c,minLength:d,maxLength:u,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,disabled:o,autoComplete:this.getAutocompleteValue()};if(this.props.displayPattern)return(0,g.jsx)(J.A,eC(ex({displayPattern:this.props.displayPattern},e),{onChange:this.handleOnChange}));return(0,g.jsx)("input",eC(ex({},e),{"aria-describedby":O,onChange:this.handleInputOnChange}))}}}};p0.Type=mw,p0.Size={EXTRA_SMALL:"xs",SMALL:"sm",MEDIUM:"md",LARGE:"lg",EXTRA_LARGE:"xl"},p0.MonthFormat={SHORT:"short",LONG:"long"},p0.DateMode={DAY_MONTH_YEAR:"day-month-year",MONTH_YEAR:"month-year"},p0.defaultProps={autoComplete:!0,countryCode:null,disabled:!1,displayPattern:null,id:null,invalid:!1,label:"",max:null,maxDate:null,maxLength:null,min:null,minDate:null,minLength:null,mode:p0.DateMode.DAY_MONTH_YEAR,monthFormat:p0.MonthFormat.LONG,onBlur:null,onFocus:null,onSearchChange:null,options:[],placeholder:null,readOnly:!1,required:!1,searchPlaceholder:null,searchValue:"",selectedOption:null,size:p0.Size.MEDIUM,step:1,type:p0.Type.TEXT,uploadProps:{},value:null};var p1=e=>"string"===e||"number"===e,p2=e=>mi(e)?e.control===mw.TAB&&e.oneOf.length>3||null==e.control||!Object.values(mw).includes(e.control)?mw.SELECT:e.control:mc(e)?p4(e):"control"in e&&e.control?e.control:"boolean"===e.type?"checkbox":"integer"===e.type?"number":e.type,p4=({format:e,control:t,displayFormat:a})=>a?"text":t?p9[t]||t:e&&p3[e]||"text",p9={"date-lookup":"date-lookup",password:"password",textarea:"textarea",email:"email",numeric:"numeric","phone-number":"tel"},p3={date:"date",email:"email",base64url:"file",password:"password","phone-number":"tel"},p5=(e,t)=>e.oneOf?e.oneOf.map(e=>pl(e,t)):null,p6=(e,t,a)=>{mi(e)&&2===e.oneOf.length&&!e.control&&t.warning("Deprecation warning",'A oneOf schema with 2 options and no control type currently renders as a "radio" but will be changed to render as a "select". Please specify control radio to retain the existing behaviour.'),"file"===a&&t.warning("Deprecation warning","Please use a persist-async blob schema instead of string with base64url for file uploads. The base64url does not perform well on low end devices. Support for this schema will be removed in a later release."),e.values&&t.warning("Deprecated schema","Schema.values is a legacy approach. Please use oneOf.")},p8=function(e){let{id:t,schema:a,value:r=null,disabled:n=!1,invalid:i,required:l,onChange:o,onFocus:s,onBlur:c,onSearchChange:d,describedBy:u,labelledBy:m}=e,p=uh(),h=(0,b.A)(),f=p2(a);(0,y.useEffect)(()=>{p6(a,p,f)},[JSON.stringify(a),p,f]);let v=a.values||p5(a,f),w=p1(a.type)&&(uE(r)||u_(r))?"":r,x={id:t,name:t,label:a.title,description:a.description,invalid:i,options:v||[],placeholder:a.placeholder,autoComplete:!a.help,autocompleteHint:a.autocompleteHint,disabled:n||a.disabled,displayPattern:a.displayFormat,uploadProps:ex({intl:h},pp(a)),describedBy:u,labelledBy:m,required:l};return(0,g.jsx)("div",{"aria-describedby":u,children:(0,g.jsx)(p0,ex(ex({type:f,value:w},{onFocus:s,onBlur:c,onSearchChange:d,onChange:(e,t,r)=>{o(uT(e,a),t,r)}}),x))})};function p7(e,t){let{title:a,description:r,disabled:n=!1,icon:i,image:l,keywords:o}=e;return{title:a,description:r,disabled:n,icon:i,image:l,const:t,keywords:o}}var he=function(e){var t,a,r;let n=uc(),[i,l]=(0,y.useState)(!1),[o,s]=(0,y.useState)(!1),[c,d]=(0,y.useState)(!1),{disabled:u=!1,required:m=!1}=e,p=(0,y.useMemo)(()=>e.schema.$id||uG(),[e.schema.$id]),[h,f]=(0,y.useState)(pF(e.schema,e.model)),[v,b]=(0,y.useState)((t=e.model,e.schema.oneOf.map(e=>uN(t,e)))),w=(0,y.useCallback)(ux(n,200),[n,200]);if((0,y.useEffect)(()=>{let t=pS(e.schema,e.model),a=pS(e.schema,e.schema.default);-1===t&&a>=0&&C(a,"init")},[e.schema]),!uA(e.schema.oneOf))return console.error("Incorrect format",e.schema),null;let x=(t,a)=>{b([...v.slice(0,t),a.model,...v.slice(t+1)]),l(!0),e.onChange(a)},C=(t,a,r)=>{f(t);let i=e.schema.oneOf[t];if(u6(i)){let t=i.const;e.onChange({model:t,triggerSchema:e.schema,triggerModel:t,type:a,metadata:r})}else e.onChange({model:v[t],triggerSchema:i,triggerModel:v[t],type:a,metadata:r});"init"!==a&&e.schema.analyticsId&&n("Dynamic Flow - OneOf Selected",{oneOfId:e.schema.analyticsId,schemaId:null==i?void 0:i.analyticsId})},F=eC(ex({},a=e.schema),{oneOf:a.oneOf.map(p7)}),S=function(e,t){let{schema:a,required:r=!1}=e,n=a.oneOf[null!=t?t:-1];return u6(n)?uR(n.const,a,!!r):null===t||t<0?uR(null,a,!!r):[]}(e,h),k={"form-group":!0,"has-error":!i&&e.errors&&!uI(e.errors)||(e.submitted||i&&c)&&S.length},j=e.schema.hidden,A=`${p}-feedback`,E=`${p}-label`;return j?null:(0,g.jsxs)(g.Fragment,{children:[(e.schema.oneOf.length>1||u6(e.schema.oneOf[0]))&&(0,g.jsxs)(g.Fragment,{children:[e.schema.alert&&(0,g.jsx)(mz,{component:e.schema.alert}),(0,g.jsxs)("div",{className:(0,p$.default)(k),children:[function(e,t,a){var r;let n=e.help?(0,g.jsx)(pB,{help:e.help}):null,i=u6(e.oneOf[0])?(0,g.jsx)("div",{className:"m-b-1",children:(0,g.jsxs)("label",{className:"control-label d-inline",id:a,htmlFor:t,children:[e.title," ",n]})}):(0,g.jsx)(g.Fragment,{children:n?(0,g.jsxs)("h4",{className:"m-b-2",children:[e.title," ",n]}):(0,g.jsx)(_.Y,{title:null!=(r=e.title)?r:""})});return e.title?i:n}(e.schema,p,E),(0,g.jsx)(p8,{id:p,schema:F,value:h,disabled:u,invalid:!uI(e.errors)||S.length>0,describedBy:A,labelledBy:E,required:m,onChange:C,onFocus:()=>{s(!0)},onBlur:()=>{s(!1),d(!0)},onSearchChange:t=>{w("Dynamic Flow - OneOf Searched",{oneOfId:e.schema.analyticsId,searchValueLength:t.length})}}),(0,g.jsx)(m7,{id:A,changed:i,focused:o,blurred:c,submitted:e.submitted,errors:"string"==typeof(r=e.errors)?r:null,schema:e.schema,validations:S,infoMessage:null})]})]}),u8(e.schema.oneOf[h])&&(0,g.jsx)(hy,{schema:e.schema.oneOf[h],model:v[h],errors:e.errors,submitted:e.submitted,hideTitle:!0,disabled:u,onChange:e=>x(h,e),onPersistAsync:e.onPersistAsync})]})},ht=eE(e_());function ha(e){let{id:t,httpClient:a=fetch,httpOptions:r,fileId:n,idProperty:i,usAccept:l,maxSize:o,usPlaceholder:s,onSuccess:c,onFailure:d,onCancel:u}=e,m=uc(),p=(0,y.useMemo)(()=>n?[{id:n,status:el.n.SUCCEEDED}]:[],[n]);return(0,g.jsx)(B.A,{id:t,fileInputName:r.fileInputName,files:p,uploadButtonTitle:e.usLabel,sizeLimit:o?uW(o):void 0,fileTypes:l,description:s,onUploadFile:e=>(m("Dynamic Flow - PersistAsync",{status:"pending",schemaId:t}),a(String(r.url),{method:r.method||"POST",body:e}).then(t=>{var a;if(t.ok){let n=e.get(null!=(a=r.fileInputName)?a:"file");return null==c||c(t.clone(),n?n.name:""),t.json().then(e=>({id:e[i]}))}return null==d||d({response:t}),Promise.reject()})),onDeleteFile:e=>(null==u||u(),Promise.resolve())})}var hr=async e=>{let t=await e.json().catch(()=>({}));return uj(t)?t:{}},hn=function(e){let{model:t,schema:a,submitted:r,required:n=!1,errors:i,onChange:l}=e,[o,s]=(0,y.useState)({}),[c,d]=(0,y.useState)(null),[u,m]=(0,y.useState)([]),[p,h]=(0,y.useState)(!1),f=(0,b.A)(),v=dG(),w=uc();(0,y.useEffect)(()=>{r?m(uR(t,a,!!n)):m([])},[t,a,r,n]);let x=async(e,t)=>{let r=await hr(e),n=ye(a.persistAsync.idProperty,r);l({model:n,triggerSchema:a,triggerModel:n}),h(!0),w("Dynamic Flow - PersistAsync",{status:"success",schemaId:a.$id})},C=async e=>{e.response&&(s((await hr(e.response)).validation||{}),d([a.persistAsync.param])),l({model:null,triggerSchema:a,triggerModel:null}),h(!0),w("Dynamic Flow - PersistAsync",{status:"failure",schemaId:a.$id})},{url:F,method:S}=a.persistAsync,k=c||u,j={"form-group":!0,"has-error":(r||p)&&!!k.length},A=a.$id||a.persistAsync.schema.$id||a.persistAsync.idProperty,E=`${A}-feedback`;return(0,g.jsxs)("div",{className:(0,ht.default)(j),children:[(0,g.jsx)("div",{"aria-describedby":E,children:(0,g.jsx)(ha,ex({id:A,intl:f,fileId:t,idProperty:a.persistAsync.idProperty,animationDelay:0,maxSize:a.persistAsync.schema.maxSize,usLabel:a.title||a.persistAsync.schema.title,usPlaceholder:a.description||a.persistAsync.schema.description,httpOptions:{url:F,method:S,fileInputName:a.persistAsync.param},httpClient:v,onSuccess:x,onFailure:C,onCancel:()=>{d(null),l({model:null,triggerSchema:a,triggerModel:null}),h(!0)}},pp(a.persistAsync.schema)))}),(0,g.jsx)(m7,{id:E,blurred:!0,focused:!1,changed:p,submitted:r,errors:i,schema:a,validations:k,validationMessages:ex({required:"Value is required..."},o),infoMessage:null})]})},hi=function(e){let{schema:t}=e;return"blob"===t.persistAsync.schema.type?(0,g.jsx)(hn,ex({},e)):(0,g.jsx)(yr,ex({},e))},hl=(e,t)=>{let a=pk(e,t);return null!==a?e.oneOf[a].promoted?"promoted":"other":null},ho=e=>{let{id:t,selection:a,setSelection:r}=e,{promoted:n,other:i,checkedMeans:l}=e.promotion,o="other"===l?i.title:(null==n?void 0:n.title)||e.promotedOneOf.title,s="other"===l?"other":"promoted",c="other"===l?"promoted":"other",d=a===s;return(0,g.jsx)("div",{className:"form-group",children:(0,g.jsx)(k.A,{id:t,label:o,checked:d,onChange:()=>{r(d?c:s)}})})};function hs(e){var t,a;let{id:r,selection:n,setSelection:i,promotion:l,promotedOneOf:o,title:s}=e,c=[ex({value:"promoted",label:(null==(t=l.promoted)?void 0:t.title)||o.title,secondary:(null==(a=l.promoted)?void 0:a.description)||o.description},pm(o)),ex({value:"other",label:l.other.title,secondary:l.other.description},pm(l.other))];return(0,g.jsxs)("div",{className:"form-group",children:[s&&(0,g.jsx)("label",{className:"control-label",htmlFor:r,children:s}),(0,g.jsx)(K.A,{name:"promoted-selection",selectedValue:n,radios:c,id:r,onChange:i})]})}function hc(e){switch(e.promotion.control||"radio"){case"radio":return(0,g.jsx)(hs,ex({},e));case"checkbox":return(0,g.jsx)(ho,ex({},e));default:return(0,g.jsx)(g.Fragment,{})}}hs.defaultProps={title:void 0},hc.defaultProps={id:uG(),title:void 0};var hd=e=>!0===e.promoted,hu=e=>{var t;let[a,r]=(0,y.useState)(hl(e.schema,e.model)||(null==(t=e.schema.promotion)?void 0:t.default)||"promoted"),n=e.schema.alert,i=e.schema.oneOf.find(hd),l=eC(ex({},i),{title:void 0,description:void 0}),o=function(e){var t,a,r;let n=(null==(t=e.promotion)?void 0:t.displayTwice)?[...e.oneOf]:e.oneOf.filter(e=>!hd(e)),i=null==(r=null==(a=e.promotion)?void 0:a.other.heading)?void 0:r.text;return 1===n.length?eC(ex({},n[0]),{title:i}):n.length>1?{title:i,oneOf:n,control:e.control}:null}(e.schema);return(0,g.jsxs)(g.Fragment,{children:[n&&(0,g.jsx)(mz,{component:n}),(0,g.jsx)(hc,{id:e.schema.$id,title:e.schema.title,promotedOneOf:i,promotion:e.schema.promotion,selection:a,setSelection:r}),"promoted"===a&&(0,g.jsx)(pV,eC(ex({},e),{schema:l})),"other"===a&&(0,g.jsx)(hy,eC(ex({},e),{schema:o}))]})},hm=(0,w.YK)({yes:{id:"dynamicFlows.ReadOnlySchema.yes",defaultMessage:"Yes",description:"Yes, used for boolean schemas with a value of true."},no:{id:"dynamicFlows.ReadOnlySchema.no",defaultMessage:"No",description:"No: used for boolean schemas with a value of false."}}),hp=function({schema:e,model:t}){let{title:a=""}=e,{formatMessage:r}=(0,b.A)(),n=function({schema:e,model:t,formatMessage:a}){return ma(e)?mi(e)?function(e,t){let a=e.oneOf.find(e=>"const"in e&&t===e.const);return a?function(e){let t=e.title&&e.description?`${e.title} - ${e.description}`:e.title||"",a=pm({icon:e.icon});return(null==a?void 0:a.avatar)?(0,g.jsxs)(g.Fragment,{children:[a.avatar," ",t]}):t}(a):t}(e,t):"boolean"===e.type&&uk(t)?a(t?hm.yes:hm.no):t&&t.toString()||"":""}({schema:e,model:t,formatMessage:r});return(0,g.jsx)(ea.A,{layout:eo.P.VERTICAL_ONE_COLUMN,definitions:[{title:a,value:n,key:""}]})},hh=function(e){let{schema:t,model:a,required:r=!1,submitted:n,errors:i,onChange:l}=e,[o,s]=(0,y.useState)(a),c=(0,y.useRef)(null),[d,u]=(0,y.useState)(null),[m,p]=(0,y.useState)(null),[h,f]=(0,y.useState)(!1),[v,b]=(0,y.useState)(null),w=dG(),x=uc(),C=uh();(0,y.useEffect)(()=>{t.validationAsync.method||C.warning("Invalid schema or model",'ValidationAsyncSchema without a "method" property would have defaulted to "GET" in previous versions. Now defaults to "POST".',{})},[C,t.validationAsync.method]);let F=async(e,t)=>{let a=S(),r={[t.param]:e};c.current=e,f(!0),x("Dynamic Flow - ValidationAsync",{status:"pending"});let n=await w(t.url,{method:t.method||"POST",headers:{"Content-Type":"application/json"},body:"GET"===t.method?void 0:JSON.stringify(r),signal:a});try{let e=await n.json();if(!uj(e))throw Error("Response body is not an object");x("Dynamic Flow - ValidationAsync",{status:"success"}),200===n.status?u(uC(e.message)?e.message:null):422===n.status&&p(uC(e.message)?e.message:null)}catch(e){x("Dynamic Flow - ValidationAsync",{status:"failure"})}},S=()=>{v&&v.abort();let e=new AbortController;return b(e),e.signal};return(0,g.jsx)(h7,ex({},{submitted:n||h,model:o,errors:m||i,infoMessage:d,onChange:e=>{l(eC(ex({},e),{triggerSchema:t,triggerModel:e.model})),p(null),u(null),s(e.model)},onBlur:()=>{!uE(o)&&!uJ(o,c.current)&&uq(o,t)&&F(o,t.validationAsync)},required:r,schema:t}))},hy=function(e){let{schema:t,model:a=null,errors:r=null,hideTitle:n=!1,disabled:i=!1}=e,l=eC(ex({},e),{model:a,errors:r,hideTitle:n,disabled:i}),o=mh(t),s=uh();switch((0,y.useEffect)(()=>{hg(t,a,r)||s.error("Invalid schema or model",`Schema of type ${o||"undefined"} requested, but schema did not pass validation.`)},[JSON.stringify(t),JSON.stringify(a),JSON.stringify(r),o,s]),o){case"readOnly":return(0,g.jsx)(hp,ex({},l));case"persistAsync":return(0,g.jsx)(hi,ex({},l));case"validationAsync":return(0,g.jsx)(hh,ex({},l));case"basic":{let e=ex({infoMessage:null},l);return(0,g.jsx)(h7,ex({},e))}case"object":return(0,y.createElement)(pV,eC(ex({},l),{key:JSON.stringify(t)}));case"array":return(0,g.jsx)(pz,ex({},l));case"promotedOneOf":return(0,g.jsx)(hu,ex({},l));case"oneOf":return(0,g.jsx)(he,ex({},l));case"allOf":return(0,g.jsx)(m6,ex({},l))}return(0,g.jsx)(g.Fragment,{})},hg=(e,t,a)=>{switch(mh(e)){case"persistAsync":return md(e)&&u9(t)&&u0(a);case"validationAsync":return mu(e)&&u4(t)&&u0(a);case"basic":return ma(e)&&u4(t)&&u0(a);case"object":return mr(e)&&u2(t);case"array":return mo(e)&&u5(t)&&u0(a);case"promotedOneOf":return mn(e)&&u2(t);case"oneOf":return mi(e);case"allOf":return!!e.allOf&&u1(t)}return!1},hf=function({component:e,model:t=null,errors:a=null,submitted:r,onModelChange:n,onPersistAsync:i}){let l=e.schema;return(0,g.jsx)("div",{className:mI(e.margin||"md"),children:(0,g.jsx)(hy,{schema:l,model:t,errors:a,submitted:r,onChange:e=>{n(ex({formSchema:l},e))},onPersistAsync:i})})},hv=eE(e_()),hb=({size:e,text:t,classes:a})=>{switch(e){case"xs":return(0,g.jsx)("h5",{className:a,children:t});case"sm":return(0,g.jsx)("h4",{className:a,children:t});case"lg":return(0,g.jsx)("h2",{className:a,children:t});case"xl":return(0,g.jsx)("h1",{className:a,children:t});default:return(0,g.jsx)("h3",{className:a,children:t})}},hw=({size:e,text:t,classes:a})=>{switch(e){case"xs":case"sm":return(0,g.jsx)(M.A,{type:"display-small",className:a,children:t});case"xl":case"lg":return(0,g.jsx)(M.A,{type:"display-large",className:a,children:t});default:return(0,g.jsx)(M.A,{type:"display-medium",className:a,children:t})}},hx=e=>{let{text:t,size:a="md",align:r="left",margin:n="md",control:i}=e.component,l=(0,hv.default)(mN({align:r,margin:n}));return"display"===i?(0,g.jsx)(hw,{size:a,text:t,classes:l}):(0,g.jsx)(hb,{size:a,text:t,classes:l})},hC=({component:e})=>{let{content:t,align:a,margin:r}=e;return(0,g.jsx)("div",{className:mN({align:a,margin:r}),children:(0,g.jsx)(S.A,{config:{link:{target:"_blank"}},children:t})})},hF=({component:e})=>(0,g.jsx)("div",{className:mN(e),children:(0,g.jsx)(S.A,{config:{link:{target:"_blank"}},children:e.markdown})}),hS=e=>new Promise((t,a)=>{let r=new FileReader;r.addEventListener("loadend",()=>t(r.result)),r.addEventListener("error",e=>a(e)),r.readAsDataURL(e)}),hk=async(e,t)=>{var a;try{if(eT(t)||(null==t?void 0:t.startsWith(`${null==(a=null==window?void 0:window.location)?void 0:a.origin}/`)))return e(t,{method:"GET",headers:{"Content-Type":"image/image"},credentials:"same-origin"}).then(e=>{if(e.ok)return e.blob();throw Error("Image fetching failed")}).then(hS).catch(()=>t);return t}catch(e){return t}},hj=function({component:e}){var t,a,r;let{content:n,url:i,size:l,text:o,margin:s,accessibilityDescription:c}=e,d=dG(),[u,m]=(0,y.useState)("");(0,y.useEffect)(()=>{if(n){let{uri:e,url:t}=n;if(e&&!e.startsWith("urn:")){hk(d,e).then(m);return}if(t){hk(d,t).then(m);return}}i&&hk(d,i).then(m)},[n,i,d]);let p={alt:null!=(r=null!=(a=null!=(t=null==n?void 0:n.accessibilityDescription)?t:c)?a:o)?r:"",src:u,stretch:!0,shrink:!0};return u?(0,g.jsx)("div",{className:`df-image ${l||"md"}`,children:(0,g.jsx)(P.A,ex({className:`img-responsive ${mI(s||"md")}`},p))}):null},hA=["positive","neutral"],hE=["warning","negative"],h_=({component:e})=>{let{items:t}=e,a=t.filter(e=>hA.includes(e.context)).map(({text:e})=>e),r=t.filter(e=>hE.includes(e.context)).map(({text:e})=>e);return(0,g.jsxs)("div",{className:mI(e.margin||"md"),children:[e.title?(0,g.jsx)(_.Y,{title:e.title}):null,(0,g.jsx)(z.A,{dos:a,donts:r})]})},hI=e=>JSON.stringify(e),hO=function(e){let{components:t,model:a,submitted:r,errors:n,onModelChange:i,onAction:l,onPersistAsync:o,baseUrl:s}=e,c=e=>{switch(e.type){case"heading":return(0,g.jsx)(hx,{component:e},hI(e));case"paragraph":return(0,g.jsx)(hU,{component:e},hI(e));case"image":return(0,g.jsx)(hj,{component:e},hI(e));case"alert":return(0,g.jsx)(mz,{component:e,onAction:l},hI(e));case"review":return(0,g.jsx)(hH,{component:e,onAction:l},hI(e));case"divider":return(0,g.jsx)(m0,{component:e},hI(e));case"info":return(0,g.jsx)(hF,{component:e},hI(e));case"instructions":return(0,g.jsx)(h_,{component:e},hI(e));case"markdown":return(0,g.jsx)(hC,{component:e},hI(e));case"columns":return(0,g.jsx)(mX,{component:e,model:a,submitted:r,errors:n,onModelChange:i,onAction:l,onPersistAsync:o},hI(e));case"form":return(0,g.jsx)(hf,{component:e,model:a,submitted:r,errors:n,onModelChange:i,onPersistAsync:o},hI(eC(ex({},e),{errors:null!=n?n:null})));case"button":return(0,g.jsx)(mG,{component:e,onAction:l},hI(e));case"box":return(0,g.jsx)(mV,{component:e,model:a,submitted:r,errors:n,onModelChange:i,onAction:l,onPersistAsync:o},hI(e));case"decision":return(0,g.jsx)(mQ,{component:e,onAction:l},hI(e));case"external":return(0,g.jsx)(m2,{component:e,onAction:l},hI(e));case"list":case"status-list":return(0,g.jsx)(hM,{component:e,onAction:l},hI(e));case"loading-indicator":return(0,g.jsx)(hP,{component:e},hI(e));case"search":return(0,g.jsx)(h3,{component:e,onAction:l},hI(e));case"modal":return(0,g.jsx)(h5,{component:e,model:a,submitted:r,errors:n,onModelChange:i,onAction:l,onPersistAsync:o},hI(e));default:return(0,g.jsx)("div",{},hI(e))}};return dJ()||null==s?(0,g.jsx)(g.Fragment,{children:t.map(c)}):(0,g.jsx)(dY,{baseUrl:s,children:t.map(c)})},hN=(e,t)=>{let{title:a,description:r,icon:n,status:i}=e,l=ex(ex({title:a,description:r,action:"callToAction"in e?hT(null==e?void 0:e.callToAction,t):void 0},(null==n?void 0:n.name)?{icon:(0,g.jsx)(mE,{type:n.name})}:{}),i?{status:hL[i]}:{});return(0,g.jsx)(G.A,ex({},l),`${a}/${r||""}`)},hT=(e,t)=>{if(!e)return;let{accessibilityDescription:a,behavior:r,title:n}=e;if("type"in r)switch(r.type){case"action":{let{action:e}=r;return{text:n,"aria-label":a,onClick:()=>{t(e)}}}case"link":return{text:n,"aria-label":a,href:r.url,target:"_blank"}}if(r.link){let{link:e}=r;return{text:n,"aria-label":a,href:e.url,target:"_blank"}}if(r.action){let{action:e}=r;return{text:n,"aria-label":a,onClick:()=>{t(e)}}}return{text:"title","aria-label":a,onClick:()=>{}}},hL=ex(ex({},{done:"done",pending:"pending","not-done":"notDone"}),{positive:"done",warning:"pending",neutral:"notDone"}),hM=({component:e,onAction:t})=>(0,g.jsxs)("div",{className:mI(e.margin||"md"),children:[e.title?(0,g.jsx)(_.Y,{title:e.title,className:"m-b-2"}):null,e.items.map(e=>hN(e,t))]}),hP=({component:e})=>{let{margin:t="md",size:a="md"}=e;return(0,g.jsx)(V.A,{size:a,classNames:{"tw-loader":`tw-loader m-x-auto ${mI(t)}`},"data-testid":"loading-indicator"})},hz=(0,w.YK)({copy:{id:"dynamicFlows.DynamicParagraph.copy",defaultMessage:"Copy",description:"Copy to clipboard button label."},copied:{id:"dynamicFlows.DynamicParagraph.copied",defaultMessage:"Copied to clipboard",description:"Appears in a snackbar when the copy operation succeeds."}});function hR(){}function hD({component:e}){return(0,g.jsx)("p",{className:`np-text-body-large ${mN(e)}`,children:e.text})}function hV({component:e}){let{formatMessage:t}=(0,b.A)(),a=function(){let e=(0,y.useContext)(q.$);return e?e.createSnackbar:hR}(),{text:r}=e,n=`${mN({align:e.align,margin:"sm"})} form-control`;return(0,g.jsxs)("div",{className:mN(e),children:[(0,g.jsx)("input",{type:"text",className:n,value:r,readOnly:!0,style:{textOverflow:"ellipsis"}}),(0,g.jsx)(j.A,{block:!0,onClick:()=>{var e;null==(e=navigator.clipboard)||e.writeText(r).then(()=>a({text:t(hz.copied)})).catch(h$)},children:t(hz.copy)})]})}function h$(){}var hU=function({component:e}){return"copyable"===e.control?(0,g.jsx)(hV,{component:e}):(0,g.jsx)(hD,{component:e})},hB=(e,t)=>t.fields.map(({label:t,value:a,help:r},n)=>({key:String(n),title:t,value:hZ(a,r,e)})),hZ=(e,t,a)=>t?"HORIZONTAL_RIGHT_ALIGNED"===a?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(pB,{help:t})," ",e]}):(0,g.jsxs)(g.Fragment,{children:[e," ",(0,g.jsx)(pB,{help:t})]}):e,hq=e=>{switch(e.control||e.orientation){case"horizontal":case"horizontal-end-aligned":return"HORIZONTAL_RIGHT_ALIGNED";case"horizontal-start-aligned":return"HORIZONTAL_LEFT_ALIGNED";case"vertical-two-column":return"VERTICAL_TWO_COLUMN";default:return"VERTICAL_ONE_COLUMN"}},hH=function({component:e,onAction:t}){var a,r;let n=mI(e.margin||"xs"),i=e=>a=>{a.preventDefault(),e&&t(e)},l=hq(e),o=e.callToAction?(e=>{let{title:t,action:a,behavior:r}=e;if(r){if("type"in r)switch(r.type){case"action":{let{action:e}=r;return{text:null!=t?t:"",onClick:e?i(e):void 0}}case"link":return{text:null!=t?t:"",href:r.url}}let{action:e,link:a}=r;if(e)return{text:null!=t?t:"",onClick:e?i(e):void 0};if(a)return{text:null!=t?t:"",href:null==a?void 0:a.url}}return{text:null!=t?t:"",onClick:a?i(a):void 0}})(e.callToAction):null,s=!o&&e.action?{text:null!=(a=e.action.title)?a:"",onClick:i(e.action)}:null;return(0,g.jsxs)("div",{className:n,children:[e.title&&(0,g.jsx)(_.Y,{title:e.title,action:null!=(r=null!=o?o:s)?r:void 0}),(0,g.jsx)("div",{className:n,children:(0,g.jsx)(ea.A,{layout:l,definitions:hB(l,e)})})]})},hK=({title:e,value:t,onFocus:a,onChange:r})=>(0,g.jsxs)("label",{className:"control-label d-inline",children:[e,(0,g.jsx)(D.p,{type:"text",value:t,className:"m-t-1",onFocus:a,onChange:e=>r(e.currentTarget.value)})]});function hW({results:e,emptyMessage:t,onSelect:a}){return 0===e.length?(0,g.jsx)("p",{className:"m-t-2",children:t}):(0,g.jsx)(I.A,{children:e.map(e=>(0,g.jsx)(O.A,{title:e.title,content:e.description,media:m_(e),showMediaCircle:!1,showMediaAtAllSizes:!0,onClick:()=>a(e)},JSON.stringify(e)))})}function hY({onRetrySearch:e}){let t=(0,b.A)();return(0,g.jsxs)("p",{className:"m-t-2",children:[t.formatMessage(eV.genericError),"\xa0",(0,g.jsx)("a",{href:"/",onClick:t=>{t.preventDefault(),e()},children:t.formatMessage(eV.retry)})]})}var hG={"Content-Type":"application/json"},hJ=e=>{let[t,a]=(0,y.useState)({status:"idle"}),r=(0,y.useRef)(null),n=dG(),i=(0,y.useCallback)(async(t,{url:i,method:s,param:c}=e)=>{var d;if(null==(d=r.current)||d.abort(),!t){a({status:"idle"});return}r.current=new AbortController;let{signal:u}=r.current;a({status:"loading"});try{let e="GET"===s?n(h0(i,c,t),{method:s,signal:u,headers:hG}):n(i,{method:s,signal:u,headers:hG,body:JSON.stringify({[c]:t})}),a=await e;l(a,t)}catch(e){o(e,t)}},[n,JSON.stringify(e)]),l=async(e,t)=>{if(e.ok){let t=await e.json().catch(()=>null);if(hX(t)){a({status:"success",results:t.results});return}}a({status:"error"})},o=(e,t)=>{hQ(e)||a({status:"error"})},s="success"===t.status?t.results:[];return{status:t.status,results:s,search:i}},hX=e=>uj(e)&&"results"in e&&uA(e.results)&&e.results.every(e=>uj(e)&&"title"in e&&"type"in e&&"value"in e),hQ=e=>e instanceof DOMException&&"AbortError"===e.name,h0=(e,t,a)=>{let[r,n]=e.split("?"),i=new URLSearchParams(n);return i.set(t,a),`${r}?${i.toString()}`},h1=eE(e_()),h2=(0,w.YK)({loading:{id:"dynamicFlows.SearchLayout.loading",defaultMessage:"Loading...",description:"A message shown to the user while their search is being processed, before results appear."}});function h4(e){return{label:e.title,secondary:e.description,value:e,clearQueryOnSelect:"action"===e.type,keepFocusOnSelect:"search"===e.type}}function h9({emptyMessage:e,loadingMessage:t,results:a,state:r,onRetrySearch:n}){return"success"===r&&0===a.length?(0,g.jsx)(S.A,{className:"m-t-2 m-x-2",config:{link:{target:"_blank"}},children:e}):"error"===r&&0===a.length?(0,g.jsx)("div",{className:"m-t-2 m-x-2",children:(0,g.jsx)(hY,{onRetrySearch:n})}):"loading"===r||0===a.length?(0,g.jsx)("p",{className:"m-t-2 m-x-2",children:t}):null}var h3=function({component:e,onAction:t}){let[a,r]=(0,y.useState)(""),n=(0,b.A)(),{control:i,title:l,margin:o,url:s,method:c,param:d,emptyMessage:u}=e,{status:m,results:p,search:h}=hJ({url:s,method:c,param:d}),f=uc(),v=(0,y.useMemo)(()=>ux(h,400),[h]),w=e=>{r(e),v(e.trim())},x=({type:e,value:a})=>{if("action"===e&&(r(""),f("Dynamic Flow - Search Result Selected",{type:"action",actionId:a.id||a.$id}),t(a)),"search"===e){r(a.query);let{url:e,method:t,param:n,query:i}=a;f("Dynamic Flow - Search Result Selected",{type:"search"}),h(i.trim(),{url:e,method:t,param:n})}},C=()=>{r(a),h(a)},F=n.formatMessage(h2.loading);return"inline"===i?(0,g.jsx)("div",{className:(0,h1.default)(mI(null!=o?o:"md"),"df-search-typeahead"),children:(0,g.jsxs)("label",{className:"control-label d-inline",children:[l,(0,g.jsx)("div",{className:"m-t-1",children:(0,g.jsx)(H.A,{id:"typeahead-input-id",intl:n,name:"typeahead-input-name",size:"md",maxHeight:100,footer:(0,g.jsx)(h9,{state:m,results:p,emptyMessage:u,loadingMessage:F,onRetrySearch:C}),multiple:!1,clearable:!1,addon:(0,g.jsx)(N.Search,{size:24}),options:p.map(h4),onChange:e=>{if(e.length>0){let[t]=e;t.value&&x(t.value)}},onInputChange:w})})]})}):(0,g.jsxs)("div",{className:mI(null!=o?o:"md"),children:[(0,g.jsx)(hK,{title:l,value:a,onChange:w,onFocus:()=>{f("Dynamic Flow - Search Started",{})}}),"loading"===m&&(0,g.jsx)(hP,{component:{type:"loading-indicator",size:"sm"}}),"error"===m&&(0,g.jsx)(hY,{onRetrySearch:C}),"success"===m&&(0,g.jsx)(hW,{results:p,emptyMessage:u,onSelect:x})]})},h5=function(e){let[t,a]=(0,y.useState)(!1),{component:r,onAction:n}=e,{margin:i="md"}=r;return(0,g.jsxs)("div",{className:mN({margin:i}),children:[(0,g.jsx)(j.A,{priority:"tertiary",block:!0,onClick:()=>a(!0),children:r.trigger.title}),(0,g.jsx)($.A,{scroll:"content",open:t,size:"lg",title:r.content.title,body:(0,g.jsx)(hO,eC(ex({},e),{components:r.content.components,onAction:e=>{a(!1),n(e)}})),onClose:()=>a(!1)})]})},h6=e=>uE(e)||u_(e),h8=e=>!("boolean"===e.type&&h6(e.default))&&e.default,h7=e=>{var t,a,r;let{disabled:n=!1,required:i=!1}=e,l=t=>uR(t,e.schema,i),o=(t,a,r)=>{d(t),C(l(t)),m(t),t!==u&&e.onChange({model:t,triggerSchema:e.schema,triggerModel:t,lastTriggerModel:u,type:a,metadata:r})},s=t=>uT(t,e.schema),[c,d]=(0,y.useState)(null!=(t=e.model)?t:null),[u,m]=(0,y.useState)(null!=(a=e.model)?a:null),[p,h]=(0,y.useState)(!1),[f,v]=(0,y.useState)(!1),[b,w]=(0,y.useState)(!1),[x,C]=(0,y.useState)([]),F=(0,y.useMemo)(()=>e.schema.$id||uG(),[e.schema.$id]),S=e.schema.const,k=e.schema.hidden||S;(0,y.useEffect)(()=>{C(l(c))},[e.model,e.submitted]),(0,y.useEffect)(()=>{let t=h8(e.schema);h6(c)&&!h6(t)&&o(t,"init"),e.schema.const&&o(e.schema.const,"init")},[e.schema]),(0,y.useEffect)(()=>{var t;let a=null!=(t=e.model)?t:null;a!==c&&d(a)},[e.model]);let j={"form-group":!0,"has-error":(e.submitted||!p)&&!!e.errors||(e.submitted||p&&b)&&!!x.length,"has-info":!!e.schema.description||!!e.infoMessage},A="file"!==e.schema.format&&"boolean"!==e.schema.type,E=e.schema.help,_=`${F}-feedback`,I=`${F}-label`;return k?null:(0,g.jsxs)(g.Fragment,{children:[e.schema.alert&&(0,g.jsx)(mz,{component:e.schema.alert}),(0,g.jsxs)("div",{className:(0,mx.default)(j),children:[A&&(0,g.jsxs)("div",{className:"d-inline-block m-b-1",children:[(0,g.jsx)("label",{className:"control-label d-inline",htmlFor:F,id:I,children:e.schema.title}),!!E&&(0,g.jsx)(pB,{help:E})]}),!A&&!!E&&(0,g.jsx)(pB,{help:E}),(0,g.jsx)(p8,{id:F,schema:e.schema,value:c,disabled:!!n,onChange:(e,t,a)=>{h(!0),o(s(e),"user",a)},onFocus:()=>v(!0),onBlur:()=>{v(!1),w(!0),e.onBlur&&e.onBlur()},describedBy:_,labelledBy:I}),(0,g.jsx)(m7,{id:_,changed:p,focused:f,blurred:b,submitted:e.submitted,errors:null!=(r=e.errors)?r:null,schema:e.schema,validations:x,infoMessage:e.infoMessage})]})]})},ye=(e,t)=>t[e],yt=(e,t)=>{var a;return null==(a=t.validation)?void 0:a[e]},ya=new Set([mw.RADIO,mw.SELECT,mw.DATELOOKUP,mw.FILE,mw.UPLOAD]),yr=function(e){let{schema:t,required:a=!1,submitted:r,errors:n,onChange:i,onPersistAsync:l}=e,o=(0,b.A)(),s=dG(),c=uc(),[d,u]=(0,y.useState)(null),m=yl(d),[p,h]=(0,y.useState)(null),[f,v]=(0,y.useState)(!1),[w,x]=(0,y.useState)(null);(0,y.useEffect)(()=>{ya.has(p2(t.persistAsync.schema))&&k()},[d]);let C=()=>h(o.formatMessage(eV.genericErrorRetryHint)),F=async(e,a)=>{let r=S(),n={[a.param]:e};v(!0);try{var o;c("Dynamic Flow - PersistAsync",{status:"pending",schemaId:t.$id});let e=s(a.url,{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n),signal:r});l(e);let d=await e,u=await d.json();if(!uj(u))throw Error("Response is not an object");let{idProperty:m,param:p}=t.persistAsync;if((o=d.status)>=200&&o<300){let e=ye(m,u);i({model:e,triggerSchema:t,triggerModel:e})}else if(d.ok)C();else{let{validation:e}=u,a=uj(e)&&(null==e?void 0:e[p])||null;h(a),i({model:null,triggerSchema:t,triggerModel:null})}c("Dynamic Flow - PersistAsync",{status:"success",schemaId:t.$id})}catch(e){c("Dynamic Flow - PersistAsync",{status:"failure",schemaId:t.$id}),C()}},S=()=>{w&&w.abort();let e=new AbortController;return x(e),e.signal},k=()=>{uE(d)||uJ(d,m)||F(d,t.persistAsync)};return(0,g.jsx)(h7,{required:a,submitted:r||f,schema:t.persistAsync.schema,errors:p||n,model:null,infoMessage:null,onChange:({model:e})=>{h(null),uq(e,t.persistAsync.schema)&&u(e)},onBlur:()=>{k()}})},yn=e=>{let[t,a]=(0,y.useState)(null),r=dG(),n=(0,b.A)(),{schema:i}=e,l=()=>{t&&t.abort();let e=new AbortController;return a(e),e.signal};async function o(t){try{let a=await r(e.url,function(t){let a=ml(i),r=l(),n=e.param,o=a?function(e,t){let a=new FormData;return null!==t&&a.append(e,t),a}(n,t):JSON.stringify({[n]:t});return{method:e.method,headers:ex({},!a&&{"Content-Type":"application/json"}),body:o,signal:r}}(t));if(!a.ok)return s(a);let n=await a.json();if(uj(n)){let t=n[e.idProperty];if(uC(t)||uF(t))return{data:t}}return c()}catch(e){return c(e)}}async function s(t){let a=await t.json();if(uj(a)){let t=yt(e.param,a);if(uC(t))throw Error(t)}throw Error(n.formatMessage(eV.genericErrorRetryHint))}let c=e=>{throw Error(!function(e){return uj(e)&&"message"in e&&"string"==typeof e.message}(e)?n.formatMessage(eV.genericErrorRetryHint):e.message)};return async function(e){let t=e instanceof Blob?!ml(i):!uq(e,i);return(uE(e)||t)&&c(),await o(e)}};function yi({asyncFn:e,delay:t,maxAttempts:a,maxConsecutiveFails:r,onPollingResponse:n,onFailure:i}){let l=(0,y.useRef)(n),o=(0,y.useRef)(i),s=(0,y.useMemo)(()=>{var t,n;let i,s,c;return t=e=>l.current(e),n=()=>o.current(),i=!0,s=0,c=0,e?()=>{i&&(c++,e().then(e=>{s=0,i=t(e)}).catch(e=>{"network failed"!==e.message&&(s+=1)}).finally(()=>{(s>=r||c>=a)&&(n(),i=!1)}))}:()=>{}},[e,a,r]);(0,y.useEffect)(()=>{if(t>0){s();let e=setInterval(()=>{s()},t);return()=>clearInterval(e)}},[s,t]),(0,y.useEffect)(()=>{l.current=n,o.current=i},[n,i])}var yl=e=>{let t=(0,y.useRef)();return(0,y.useEffect)(()=>{t.current=e},[e]),t.current},yo=(e,t)=>{var a;return uI(e)?[]:function e({layout:t,schemas:a,actions:r,model:n}){return t?a?t.map(t=>"form"===t.type?function({formComponent:e,schemas:t}){if(e.schemaId)return{type:"form",margin:e.margin,schema:d8(t,e.schemaId)};if(e.schema&&ue(e.schema)&&e.schema.$ref)return{type:"form",margin:e.margin,schema:d8(t,e.schema.$ref)};if(e.schema&&!ue(e.schema))return ex({},e);throw Error('Invalid form layout component. Missing "schema" or "schemaId" properties.')}({formComponent:t,schemas:a}):"decision"===t.type?function({decisionComponent:e,actions:t}){var a;let r=null==(a=null==e?void 0:e.options)?void 0:a.map(e=>e.action&&ue(e.action)?eC(ex({},e),{action:d7(t,e.action.$ref)}):e);return eC(ex({},e),{options:r})}({decisionComponent:t,actions:r}):"button"===t.type?function({actionComponent:e,actions:t}){var a;return e.action&&ue(e.action)&&(null==(a=e.action)?void 0:a.$ref)?d5(d7(t,e.action.$ref)):e}({actionComponent:t,actions:r}):"box"===t.type?eC(ex({},t),{components:e({layout:t.components,schemas:a,actions:r,model:n})}):"modal"===t.type?eC(ex({},t),{components:e({layout:t.content.components,schemas:a,actions:r,model:n})}):"columns"===t.type?eC(ex({},t),{left:e({layout:t.left,schemas:a,actions:r,model:n}),right:e({layout:t.right,schemas:a,actions:r,model:n})}):t):t:[]}({layout:function(e,{displayStepTitle:t=!0}={}){if(e.layout)return[...t&&e.title?[d2(e.title)]:[],...e.description?[d4(e.description)]:[],...e.layout||[]];switch(e.type){case"final":return function(e){let t=[];if(e.details){if(e.details.image){var a;let r="string"==typeof(a=e.details.image)?{type:"image",url:a,text:void 0,margin:"lg",size:"md"}:d3(a);t.push(r)}e.details.title&&t.push(d2(e.details.title)),e.details.description&&t.push(d4(e.details.description))}if(e.actions){let a=e.actions.map(e=>d5(eC(ex({},e),{type:e.type||"primary"})));t.push(d1(a,"md"))}return t}(e);case"decision":return function(e){let t=d0(e);return e.options&&t.push({type:"decision",options:e.options.map(d9)}),t}(e);case"external":return[...d0(e),{type:"external",requestUrl:e.requestUrl,polling:e.polling,responseHandlers:e.responseHandlers,retryTitle:e.retryTitle}];default:return function(e){var t;let a=d0(e);if(e.reviewFields&&a.push({type:"review",title:(t=e.reviewFields).title,fields:t.fields.map(d6)}),e.schemas&&a.push(...function(e){let t=[];if(e.schemas&&e.schemas[0]){let a={type:"form",schema:e.schemas[0]};t.push(d1([a],"md"))}return t}(e)),e.actions){let t=e.actions.map(d5);a.push(d1(t,"md"))}return a}(e)}}(e,t),schemas:e.schemas||[],actions:e.actions||[],model:null!=(a=e.model)?a:null})},ys=e=>{let{stepSpecification:t,stepLayoutOptions:a,submitted:r,model:n,formErrors:i,onModelChange:l}=e,o=yo(t,a),{loading:s,registerPersistAsyncPromise:c}=ul(),d=uc(),u=s?()=>{d("Dynamic Flow - onAction supressed",{reason:"LayoutStep - loading state"})}:e.onAction;return!function(e,t){var a,r;let n=dG(),i=uc(),l=(0,y.useMemo)(()=>{if(e)return()=>n(e.url).then(t=>{if(t.ok)return t.json().then(e=>e).catch(()=>null);throw i("Dynamic Flow - Polling Failed",{url:e.url,statusCode:t.status,variant:"legacy"}),Error("failed")}).catch(e=>{throw Error("failed"===e.message?"failed":"network failed")})},[e,n]),o=(0,y.useCallback)(e=>null==e||!e.action||(t(e.action),!1),[t]);yi({asyncFn:l,delay:1e3*(null!=(r=null!=(a=null==e?void 0:e.delay)?a:null==e?void 0:e.interval)?r:0),maxAttempts:(null==e?void 0:e.maxAttempts)||0,maxConsecutiveFails:1,onPollingResponse:o,onFailure:(0,y.useCallback)(()=>{e&&t(e.onError.action)},[t,e])})}(t.polling,u),(0,g.jsx)(hO,{components:o,submitted:r,model:n,errors:i,onAction:u,onModelChange:l,onPersistAsync:c})},yc=(0,w.YK)({reviewSubmit:{id:"dynamicFlows.CameraCapture.reviewSubmit",defaultMessage:"Yes, submit",description:"Accept and submit the image taken with the camera"},reviewRetry:{id:"dynamicFlows.CameraCapture.reviewRetry",defaultMessage:"No, try again",description:"Image taken with camera is not good, don't submit, and retake the image"},reviewInstructions:{id:"dynamicFlows.CameraCapture.reviewInstructions",defaultMessage:"Is your picture clear, readable and complete?",description:"After taking an image with the camera, prompt user to review the image"},cameraNotSupportedTitle:{id:"dynamicFlows.CameraCapture.CameraNotSupported.title",defaultMessage:"Camera not supported",description:"Title of standalone page prompting that camera is not available on users browser"},cameraNotSupportedParagraph:{id:"dynamicFlows.CameraCapture.CameraNotSupported.paragraph",defaultMessage:"The browser you're using doesn't have support for a camera. Try a different browser, device, or download our mobile app.",description:"Further text of standalone page prompting that camera is not available on user's browser"},noCameraAccessTitle:{id:"dynamicFlows.CameraCapture.NoCameraAccess.title",defaultMessage:"We can't access your camera",description:"Title of standalone page prompting missing camera permissions"},noCameraAccessParagraph:{id:"dynamicFlows.CameraCapture.NoCameraAccess.paragraph",defaultMessage:"Enable camera access in your browser's settings to get going again.",description:"Further text of standalone page prompting missing camera permissions"},noCameraAccessAction:{id:"dynamicFlows.CameraCapture.NoCameraAccess.action",defaultMessage:"Enable camera access",description:"Action to ask for camera permissions again"},cameraConnectionIssueTitle:{id:"dynamicFlows.CameraCapture.CameraConnectionIssue.title",defaultMessage:"We can't access your camera",description:"Title of standalone page prompting that there was an issue connecting to a camera"},cameraConnectionIssueParagraph:{id:"dynamicFlows.CameraCapture.CameraConnectionIssue.paragraph",defaultMessage:"Please check if it is connected and try again.",description:"Further text of standalone page prompting that there was an issue connecting to a camera"},cameraConnectionIssueAction:{id:"dynamicFlows.CameraCapture.CameraConnectionIssue.action",defaultMessage:"Try again",description:"Action to try using camera again"}}),yd=({onCapture:e})=>(0,g.jsx)("div",{className:"bottom-bar",children:(0,g.jsx)(ym,{onClick:e})}),yu=({onSubmit:e,onRetry:t})=>{let a=(0,b.A)();return(0,g.jsx)("div",{className:"bottom-bar p-x-2",children:(0,g.jsx)("div",{className:"row",children:(0,g.jsxs)("div",{className:"col-xs-12 col-md-6 col-md-offset-3",children:[(0,g.jsx)(j.A,{className:"m-b-1",block:!0,size:ei.o.MEDIUM,type:ec.m.ACCENT,onClick:e,children:a.formatMessage(yc.reviewSubmit)}),(0,g.jsx)(j.A,{className:"m-b-2",block:!0,size:ei.o.MEDIUM,type:ec.m.ACCENT,priority:ec.b.SECONDARY,onClick:t,children:a.formatMessage(yc.reviewRetry)})]})})})},ym=({onClick:e})=>(0,g.jsx)("button",{type:"button",className:"camera-capture-btn m-b-2","data-testid":"camera-capture-button",onClick:e,children:(0,g.jsx)("span",{className:"camera-capture-btn-inner"})}),yp=(0,w.YK)({text:{id:"dynamicFlows.CameraCapture.rotatePhone.text",defaultMessage:"Rotate your phone to portrait view to take a photo",description:"Prompt the user to rotate their phone from landscape to portrait mode when attempting to take a photo"}}),yh=function(){let e=(0,b.A)();return(0,g.jsxs)("div",{className:"orientation-lock-overlay",children:[(0,g.jsx)("img",{className:"m-b-3",src:"https://wise.com/public-resources/assets/camera-guidelines/icon-rotate-phone.svg",width:"96",height:"96",alt:""}),(0,g.jsx)("p",{className:"text-center m-b-0",children:e.formatMessage(yp.text)})]})},yy=eE(eN()),yg=e=>{var t;let{facingMode:a}=(null==(t=yC(e))?void 0:t.getSettings())||{};return"user"===a||void 0===a},yf=e=>!!((null==e?void 0:e.label)||"").match(/camera2? 0/g),yv=async e=>{let t=document.createElement("canvas");if(e){t.setAttribute("height",`${e.videoHeight}`),t.setAttribute("width",`${e.videoWidth}`);let a=null==t?void 0:t.getContext("2d");a&&(await new Promise(e=>{setTimeout(e,100)}),a.drawImage(e,0,0,t.width,t.height))}return t},yb=async()=>{var e,t;return(await (null==(t=null==(e=null==navigator?void 0:navigator.mediaDevices)?void 0:e.enumerateDevices)?void 0:t.call(e))||[]).filter(e=>"videoinput"===e.kind)},yw=async()=>{var e,t;return(await (null==(t=null==(e=null==navigator?void 0:navigator.mediaDevices)?void 0:e.enumerateDevices)?void 0:t.call(e))||[]).filter(e=>"videoinput"===e.kind).map(e=>e.label)},yx=async e=>{var t,a,r;let n=yF(e);return null==(r=(await (null==(a=null==(t=null==navigator?void 0:navigator.mediaDevices)?void 0:t.enumerateDevices)?void 0:a.call(t))||[]).filter(e=>"videoinput"===e.kind).find(e=>e.deviceId===(null==n?void 0:n.deviceId)))?void 0:r.label},yC=e=>{var t;return((null==(t=null==e?void 0:e.getVideoTracks)?void 0:t.call(e))||[])[0]},yF=e=>{var t,a;return null==(a=null==(t=yC(e))?void 0:t.getCapabilities)?void 0:a.call(t)},yS=(e,t,a)=>null==t?void 0:t(e,{Error:yk(a)}),yk=e=>e instanceof DOMException?JSON.stringify({name:null==e?void 0:e.name,message:null==e?void 0:e.message}):e,yj=async(e,t,a)=>null==e?void 0:e("Dynamic Flow - Camera Feed Started",await yA(t,a)),yA=async(e,t)=>{var a;let r=yC(t),n=yF(t),i=null==(a=null==r?void 0:r.getSettings)?void 0:a.call(r);return eC(ex({},r&&{"Available Video Devices (by label)":await yw(),"Active Video Device (by label)":await yx(t),"Camera Capabilities":n,"Camera Settings":i}),{"Camera Direction (Asked)":null==e?void 0:e.direction})},yE=e=>{null==e||e("Dynamic Flow - Camera Orientation Lock Overlay Shown",{})},y_=e=>{null==e||e("Dynamic Flow - Camera Orientation Locked",{})},yI=(e,t)=>{let a=(0,y.useCallback)(()=>{if(window.screen.orientation&&"lock"in window.screen.orientation&&"function"==typeof window.screen.orientation.lock){let e=window.screen.orientation.lock("portrait");e instanceof Promise&&e.then(()=>y_(t)).catch(yO)}},[t]),r=(0,y.useCallback)(()=>{var e,t,a;return null==(a=null==(t=null==(e=null==window?void 0:window.screen)?void 0:e.orientation)?void 0:t.unlock)?void 0:a.call(t)},[]),n=(0,y.useCallback)(()=>{setTimeout(()=>{e&&!yy.default.isFullscreen&&yy.default.isEnabled&&yy.default.request(document.documentElement,{navigationUI:"show"}).then(()=>{a()}).catch(yO)},100)},[e,a]),i=(0,y.useCallback)(()=>{yy.default.isFullscreen&&yy.default.exit().catch(yO),r()},[r]),l=(0,y.useCallback)(e=>{var a,r;(null==(a=null==e?void 0:e.target)?void 0:a.type.includes("landscape"))&&(null==(r=window.screen)?void 0:r.orientation)&&yE(t)},[t]);return(0,y.useEffect)(()=>{var t,a;return e&&(null==(a=null==(t=window.screen)?void 0:t.orientation)||a.addEventListener("change",e=>l(e))),()=>{var e,t;null==(t=null==(e=window.screen)?void 0:e.orientation)||t.removeEventListener("change",l),i()}},[i,l,e]),{enterFullScreen:n,exitFullScreen:i}},yO=()=>{},yN=e=>{let[t,a]=(0,y.useState)();return(0,y.useEffect)(()=>{yT(e).then(a)},[e]),{videoConstraints:t}},yT=async e=>{let t={facingMode:"front"===e?"user":"environment",height:{min:480,max:1080,ideal:720},width:{min:640,max:1920,ideal:1280},frameRate:30,aspectRatio:16/9};if("back"===e){let e=(await yb()).find(yf);if(null==e?void 0:e.deviceId)return eC(ex({},t),{deviceId:{exact:e.deviceId}})}return t},yL=function({overlay:e,outline:t,imageUrl:a,title:r,instructions:n,reviewInstructions:i}){let l=(0,y.useRef)(null);(0,y.useEffect)(()=>{let e=ux(()=>{var e;if(null==(e=l.current)?void 0:e.innerHTML){let e=l.current;e.innerHTML=String(e.innerHTML)}},100);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)});let o=(a?40:0)+(r?32:0)+(n?48:0),s=(0,g.jsxs)(g.Fragment,{children:[a&&(0,g.jsx)("img",{className:"camera-capture-img",src:a,alt:""}),r&&(0,g.jsx)("h4",{className:"camera-capture-title",children:r}),n&&(0,g.jsx)("small",{className:"camera-capture-instructions",children:n})]}),c=92+o;i&&(o=c-120,s=(0,g.jsx)("small",{className:"camera-capture-instructions",children:i}),c<160&&(s=(0,g.jsx)(g.Fragment,{})));let d={x:"50%",y:"5%",width:"min(90%, 800px)",height:`calc(90% - ${c}px)`,style:{transform:"translateX(max(-45%, -400px))"}},u={style:{left:"5%",top:`calc(100% - ${c}px - 5%)`,height:`calc(${o}px + 5%)`,width:"90%"}};return(0,g.jsxs)("svg",{ref:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("defs",{children:(0,g.jsxs)("mask",{id:"mask",children:[(0,g.jsx)("rect",{width:"100%",height:"100%",fill:"#fff"}),(0,g.jsx)("image",ex({href:e},d))]})}),e&&(0,g.jsx)("rect",{width:"100%",height:"100%",mask:"url(#mask)",fillOpacity:"0.72"}),t&&(0,g.jsx)("image",ex({href:t},d)),(0,g.jsx)("foreignObject",{width:"100%",height:"100%",children:(0,g.jsx)("div",eC(ex({className:"camera-capture-text-and-image-container"},u),{children:s}))})]})},yM=function({title:e,description:t,actionButton:a,onAction:r}){return(0,g.jsx)("div",{className:"container p-t-5",children:(0,g.jsx)("div",{className:"row",children:(0,g.jsxs)("div",{className:"col-md-6 col-md-offset-3",children:[(0,g.jsx)("h2",{className:"text-xs-center m-b-3",children:e}),(0,g.jsx)("p",{className:"text-xs-center m-b-5",children:t}),r&&a&&(0,g.jsx)(j.A,{block:!0,onClick:r,children:a})]})})})},yP=function({direction:e="back",overlay:t="",outline:a="",imageUrl:r="",title:n="",instructions:i="",showReview:l=!1,onCapture:o,onEvent:s}){let[c,d]=(0,y.useState)("CAPTURE"),[u,m]=(0,y.useState)(),[p,h]=(0,y.useState)(!1),[f,v]=(0,y.useState)(!1),[w,x]=(0,y.useState)(),C=(0,y.useRef)(null),{videoConstraints:F}=yN(e),S=(0,y.useMemo)(()=>!!(uf()&&"CAPTURE"===c),[c]),{enterFullScreen:k,exitFullScreen:j}=yI(S,s),A=(0,b.A)(),E=(0,y.useCallback)(async()=>{var e,t,a,r,n,i;if((null==(e=null==C?void 0:C.current)?void 0:e.video)&&(null==(a=null==(t=null==C?void 0:C.current)?void 0:t.video)?void 0:a.readyState)>=3){null==(n=null==(r=null==C?void 0:C.current)?void 0:r.video)||n.pause();let e=await yv(null==(i=null==C?void 0:C.current)?void 0:i.video);null==e||e.toBlob(e=>{e&&(l?(x({source:window.URL.createObjectURL(e),blob:e}),d("REVIEW")):o(e))},"image/jpeg",.92)}},[C,l,x,d,o,p]),_=(0,y.useCallback)(e=>{if(d("ERROR"),e instanceof DOMException)switch(null==e?void 0:e.name){case"NotAllowedError":m({title:A.formatMessage(yc.noCameraAccessTitle),description:A.formatMessage(yc.noCameraAccessParagraph),actionButton:A.formatMessage(yc.noCameraAccessAction),onAction:O}),yS("Dynamic Flow - Camera Permission Denied",s,e);return;case"NotFoundError":case"OverconstrainedError":case"AbortError":case"NotReadableError":m({title:A.formatMessage(yc.cameraConnectionIssueTitle),description:A.formatMessage(yc.cameraConnectionIssueParagraph),actionButton:A.formatMessage(yc.cameraConnectionIssueAction),onAction:O}),yS("Dynamic Flow - Camera Not Accessible",s,e);return}m({title:A.formatMessage(yc.cameraNotSupportedTitle),description:A.formatMessage(yc.cameraNotSupportedParagraph)}),yS("Dynamic Flow - Camera Not Supported",s,e)},[A,s]),I=(0,y.useCallback)(t=>{k(),v(!0),h(yg(t)),yj(s,{direction:e},t)},[h,s,e,k]),O=()=>d("CAPTURE");(0,y.useEffect)(()=>{"CAPTURE"!==c&&j()},[c,j]);let N=(0,g.jsxs)("div",{className:"camera-capture",children:[F&&(0,g.jsx)(es,{ref:C,audio:!1,videoConstraints:F,mirrored:p,onUserMediaError:_,onUserMedia:I}),(0,g.jsx)(yL,{overlay:t,outline:a,imageUrl:r,title:n,instructions:i}),S&&(0,g.jsx)(yh,{}),f&&(0,g.jsx)(yd,{onCapture:()=>{E()}})]}),T=(0,g.jsxs)("div",{className:"camera-capture",children:[(0,g.jsx)("img",{className:"review-image",src:null==w?void 0:w.source,alt:""}),(0,g.jsx)(yL,{overlay:t,imageUrl:r,title:n,instructions:i,reviewInstructions:A.formatMessage(yc.reviewInstructions)}),(0,g.jsx)(yu,{onSubmit:()=>{o((null==w?void 0:w.blob)||null)},onRetry:()=>{d("CAPTURE"),x(void 0)}})]});return(0,g.jsxs)("section",{children:["CAPTURE"===c&&N,"REVIEW"===c&&T,"ERROR"===c&&u&&(0,g.jsx)(yM,ex({},u))]})},yz=function(e){let{step:t,model:a,onModelChange:r,onAction:n}=e,i=uc(),l=yR(t),o=function(e){let t=Object.values(yR(e).properties)[0];if(!t)throw Error("The first schema in a camera step is expected to be of type object and have at least one property with a schema...");return t}(t),s=function(e){var t,a;if(!e.schemas||(null==(t=mb(e.schemas))?void 0:t.length)!==1)throw Error("camera step expects 1 non-hidden object schema");if((null==(a=null==e?void 0:e.actions)?void 0:a.length)!==1)throw Error("camera step expects 1 action");return e.actions[0]}(t),{title:c,image:d,cameraConfig:u}=o,{assets:m,direction:p,instructions:h}=u||{},{overlay:f,outline:v}=m||{},{url:b}=d||{},[w,x]=(0,y.useState)(!1);(0,y.useEffect)(()=>{w&&n(s)},[a]);let C=async e=>{let{$id:t}=o;if(e){let a=await new Promise((t,a)=>{let r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)});x(!0),r({model:{[t||""]:a},formSchema:l,triggerModel:a,triggerSchema:o})}};return(0,g.jsx)(yP,{overlay:f,outline:v,title:c,imageUrl:b,instructions:h,direction:p,onEvent:i,onCapture:e=>{C(e)}})};function yR(e){let t=mb(e.schemas||[])[0];if(!t||!mr(t))throw Error("The first schema in a camera step is expected to be of type object and have at least one property with a schema...");return t}var yD=(0,w.YK)({title:{id:"dynamicFlows.ExternalConfirmation.title",defaultMessage:"Please confirm",description:"Heading for the confirmation screen."},description:{id:"dynamicFlows.ExternalConfirmation.description",defaultMessage:"Please confirm you want to open **{origin}** in a new browser tab.",description:"Description for the confirmation screen."},open:{id:"dynamicFlows.ExternalConfirmation.open",defaultMessage:"Open in new tab",description:"Button text confirming opening a new browser tab."},cancel:{id:"dynamicFlows.ExternalConfirmation.cancel",defaultMessage:"Cancel",description:"Button text rejecting opening a new browser tab."}}),yV=()=>{},y$=function({url:e,onClose:t}){let{formatMessage:a}=(0,b.A)();return(0,g.jsx)(hO,{components:[{type:"box",width:"lg",components:[{type:"heading",text:a(yD.title),size:"lg",align:"center",margin:"xl"},{type:"info",markdown:a(yD.description,{origin:function(e){try{return new URL(e).origin}catch(t){return e}}(e)}),align:"center",margin:"xl"},{type:"box",width:"md",components:[{type:"button",action:{title:a(yD.open),type:"primary",url:e,exit:!0}},{type:"button",action:{title:a(yD.cancel),type:"link",url:"",exit:!0}}]}]}],submitted:!1,onAction:e=>{e.url&&window.open(e.url,"_blank"),t()},onModelChange:yV,onPersistAsync:yV})},yU=function({title:e,action:t,onAction:a}){return(0,g.jsx)("div",{className:"m-b-2",children:(0,g.jsxs)("a",{href:"/",className:"df-back-btn","aria-label":e,onClick:e=>{e.preventDefault(),a(eC(ex({},t),{skipValidation:!0}))},children:[(0,g.jsx)("span",{className:"sr-only",children:e}),(0,g.jsx)(T.A,{type:"icon",children:(0,g.jsx)(N.ArrowLeft,{size:"24"})})]})})};function yB(e){var t,a,r;let{step:n,globalError:i,onAction:l}=e,o=null==(t=null==n?void 0:n.external)?void 0:t.url,s=(null==(a=null==n?void 0:n.navigation)?void 0:a.back)||(null==(r=null==n?void 0:n.navigation)?void 0:r.backButton),{requiresManualTrigger:c,dismissConfirmation:d}=function(e){let[t,a]=(0,y.useState)(null),[r,n]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{e&&(n(!1),a(window.open(e,"_blank")))},[e]),{requiresManualTrigger:!!(e&&!t&&!r),dismissConfirmation:()=>n(!0)}}(o);return void 0===n?i?(0,g.jsx)(mz,{component:{context:"negative",markdown:i,margin:"lg"}}):null:o&&c?(0,g.jsx)(y$,{url:o,onClose:d}):my(n)?(0,g.jsx)(yz,eC(ex({},e),{step:n})):(0,g.jsxs)(g.Fragment,{children:[s&&(0,g.jsx)(yU,eC(ex({},s),{onAction:l})),i?(0,g.jsx)(mz,{component:{context:"negative",markdown:i,margin:"lg"}}):null,(0,g.jsx)(ys,eC(ex({},e),{stepSpecification:n}))]})}var yZ=e=>"basic"===mh(e)&&"boolean"!==e.type&&"base64url"!==e.format,yq=e=>{var t,a;let[r,n]=(0,y.useState)(null==(t=null==e?void 0:e.errors)?void 0:t.validation),[i,l]=(0,y.useState)(null==(a=null==e?void 0:e.errors)?void 0:a.error),[o,s]=(0,y.useState)({step:e||void 0,models:(null==e?void 0:e.model)?yH(e.model,yK(e)):{},etag:void 0}),{step:c,models:d,etag:u}=o,m=(0,y.useMemo)(()=>yJ(d,yY(c)),[d,c]);return{formErrors:r,globalError:i,step:c,models:d,etag:u,modelIsValid:m,setFormErrors:n,setGlobalError:l,setStepAndEtag:(e,t)=>{var a,r,i,o;s({step:e,models:e.model?yH(e.model,yK(e)):{},etag:t}),n(null!=(r=null==(a=null==e?void 0:e.errors)?void 0:a.validation)?r:null),l(null!=(o=null==(i=null==e?void 0:e.errors)?void 0:i.error)?o:null)},setSchemaModel:(e,t,a)=>{s(r=>{let n=eC(ex({},r.models),{[e]:t}),i={step:r.step,models:n,etag:r.etag};return a(n),i})}}},yH=(e,t=[])=>t.reduce((t,a)=>(a.$id||console.warn("Schema without $id property found."),eC(ex({},t),{[a.$id||""]:uL(e,a)||{}})),{}),yK=e=>[...yW((null==e?void 0:e.layout)||[]),...(null==e?void 0:e.schemas)||[]],yW=e=>e.flatMap(e=>{switch(e.type){case"columns":return[...yW([...e.left,...e.right])];case"box":return yW(e.components);case"form":return yQ(e.schema)?[e.schema]:[];default:return[]}}),yY=e=>[...yG((null==e?void 0:e.layout)||[]).map(t=>((null==e?void 0:e.schemas)||[]).find(e=>e.$id===t)).filter(Boolean),...yW((null==e?void 0:e.layout)||[])],yG=e=>e.flatMap(e=>{switch(e.type){case"columns":return[...yG([...e.left,...e.right])];case"box":return yG(e.components);case"form":return[yX(e)];default:return[]}}).filter(Boolean),yJ=(e,t=[])=>!(null==t?void 0:t.some(t=>(t.$id||console.warn("Schema without $id property found."),!uq(e[t.$id||""]||{},t)))),yX=e=>e.schema&&!yQ(e.schema)?e.schema.$ref:e.schemaId,yQ=e=>void 0!==e&&"object"==typeof e&&!Object.hasOwnProperty.call(e,"$ref"),y0=async(e,t)=>{switch(t){case"step":return y1(e);case"exit":return y4(e);case"action":return y2(e);default:throw Error("Unsupported X-Df-Response-Type. Allowed values are 'step', 'action', 'exit'.")}},y1=async e=>{let t=await y6(e);if(!uj(t))throw Error("Incorrect response body in response. Expected an object.");return{type:"step",step:t,etag:e.headers.get("etag")||void 0}},y2=async e=>{let t=await y6(e);if(!uj(t))throw Error("Incorrect response body in response. Expected an object.");if(!uj(t.action))throw Error("Incorrect response body in action response. Expected an object satisfying the type { action: Action }.");let a=t.action;return!0===a.exit&&uj(a.result)?{type:"exit",result:a.result}:{type:"action",action:t.action}},y4=async e=>({type:"exit",result:await y5(e)}),y9=async e=>{var t,a;if(y8(e),null==(t=e.headers)?void 0:t.has("X-Df-Response-Type")){let t=e.headers.get("X-Df-Response-Type");return y0(e,t)}if(null==(a=e.headers)?void 0:a.has("X-Df-Exit"))return y4(e);let r=await y6(e.clone());return uj(r)&&r.action?y2(e):y1(e)},y3=async e=>{y8(e);let t=await y6(e);if(!uj(t))throw Error("Incorrect response body in error response. Expected an object.");if(!t.refreshFormUrl&&!t.refreshUrl&&!t.validation&&!t.error)throw t;return t},y5=async e=>{y8(e);let t=await y6(e);return uj(t)?t:null},y6=async e=>{try{return await e.json()}catch(e){return null}},y8=e=>{if(!y7(e))throw Error("Incorrect type of response from fetch. Expected object of type Response.");if(e.bodyUsed)throw Error("The body of the provided Response object has already been used. Every request must respond with a new Response object.")},y7=e=>"object"==typeof e&&null!==e&&"clone"in e&&"bodyUsed"in e,ge=()=>{let{formatMessage:e}=(0,b.A)();return async(t,a,r)=>{try{return await y3(t)}catch(t){if("submission"===a&&!r)return{error:e(eV.genericErrorRetryHint)};throw t}}},gt=()=>{},ga=({flowId:e,httpClient:t,initialAction:a,initialStep:r,loaderConfig:n,displayStepTitle:i=!0,features:l,onCompletion:o,onError:s,onEvent:c=gt,onLog:d=gt})=>{let{formErrors:u,globalError:m,step:p,models:h,etag:f,modelIsValid:v,setFormErrors:w,setGlobalError:x,setStepAndEtag:C,setSchemaModel:F}=yq(r),[S,k]=(0,y.useState)(!1),{locale:j}=(0,b.A)(),{isLoading:A,loader:E,setLoadingState:_}=function(e,t){let a=ex({size:ei.o.EXTRA_LARGE,initial:!0,submission:!1},e),[r,n]=(0,y.useState)(t),i=a.initial&&"initial"===r||a.submission&&"submission"===r?(0,g.jsx)(V.A,{size:a.size,classNames:{"tw-loader":"tw-loader m-x-auto"},"data-testid":"loader"}):null;return{isLoading:"idle"!==r,setLoadingState:n,loader:i}}(n,r?"idle":"initial"),I=uu("critical",d,e,(null==p?void 0:p.id)||(null==p?void 0:p.key)),O=uu("warning",d,e,(null==p?void 0:p.id)||(null==p?void 0:p.key)),N=e=>{e&&!e.layout&&O("Deprecation warning","Support for steps with no layout is being dropped. Please add a layout array to your step.",{stepId:e.id||e.key})},T=(0,y.useMemo)(()=>{var t;return ex({flowId:e,stepId:(null==p?void 0:p.id)||(null==p?void 0:p.key)},null!=(t=null==p?void 0:p.analytics)?t:{})},[e,p]),L=(0,y.useMemo)(()=>ud(c,T),[c,T]),M=(0,y.useCallback)(({action:e,data:a,etag:r})=>{let{url:n,method:i="POST"}=e;return t(null!=n?n:"",{method:i,credentials:"include",headers:ex({"Content-Type":"application/json","accept-language":j},r?{"If-None-Match":r}:{}),body:"GET"===i?void 0:JSON.stringify(a)})},[t,j]),P=async(e,t={})=>{U(),_(p?"submission":"initial"),L("Dynamic Flow - Step Submitted",{actionId:e.id||e.$id});try{let a=await M({action:e,data:t});if(e.exit&&a.ok){await R(a,e.result);return}await q(a,"submission",e.result)}catch(t){W(t,e.exit?"Error fetching exit result":"Error fetching next step")}},z=async(e,t,a)=>{U(),_("refresh"),L("Dynamic Flow - Step Refreshed",{status:"pending"});try{let r=await M({action:{url:e,method:"POST"},data:t,etag:a});await q(r,"refresh")}catch(e){W(e,"Error fetching refresh step")}},R=async(e,t)=>{B(ex(ex({},await y5(e)),t))},{debouncedRefresh:D,isDebouncing:$,cancelPendingRefreshes:U}=function(e){let t=(0,y.useRef)(new Map),a=a=>{if(t.current.has(a))return t.current.get(a);let r=ux((t,a,r)=>e(t,a,r),1e3);return t.current.set(a,r),r};return{debouncedRefresh:(e,t,r,n)=>{let i=a(e);i(e,t,r),n&&yZ(n)||i.flush()},isDebouncing:Array.from(t.current.values()).some(e=>e.isPending()),cancelPendingRefreshes:()=>{t.current.forEach(e=>{e.cancel()})}}}(z),B=(0,y.useCallback)(e=>{L("Dynamic Flow - Flow Finished",{result:"success"}),o(e)},[o,L]);(0,y.useEffect)(()=>{L("Dynamic Flow - Flow Started",{})},[]),(0,y.useEffect)(()=>{if(!r){let e=ex({id:"#initial-step-request",method:"GET"},a);P(e,e.data)}r&&N(r)},[t,JSON.stringify(r),JSON.stringify(a)]);let Z=ge(),q=async(e,t,a)=>{try{if(304===e.status){_("idle");return}if(!e.ok){let a=void 0===p,r=await Z(e,t,a);K(r);return}let r=await y9(e);"action"===r.type?P(r.action,r.action.data):"exit"===r.type?B(uj(a)?ex(ex({},r.result),a):r.result):H(r.step,r.etag,t)}catch(a){W(a,"Error parsing fetch response",t,e.status)}},H=(e,t,a)=>{N(e),C(e,t),_("idle"),"submission"===a?(k(!1),L("Dynamic Flow - Step Started",ex({stepId:e.id||e.key},null==e?void 0:e.analytics))):L("Dynamic Flow - Step Refreshed",{status:"success"})},K=async e=>{let t=e.refreshUrl||e.refreshFormUrl;t&&await z(t,gn(h),f),e.validation&&w(e.validation),e.error&&x(e.error),_("idle")},W=(e,t,a,r)=>{I("Error fetching",t),"refresh"===a&&L("Dynamic Flow - Step Refreshed",{status:"failure"}),L("Dynamic Flow - Flow Finished",{status:"failure"}),s(e,r),_("idle")},Y=(e,t)=>{let{triggerSchema:a}=e;if(gl(e)){let e=a.refreshUrl||a.refreshFormUrl,r=(null==p?void 0:p.refreshUrl)||(null==p?void 0:p.refreshFormUrl),n=e||r;n&&D(n,gn(t),f,a)}},G=async e=>{if(A||$||e.disabled)return;if(e.exit&&!e.url){B(e.result);return}let{data:t,method:a,skipValidation:r}=e,n=ex(ex({},gn(h)),t);gi(a)?(w(null),r||k(!0),(v||r)&&await P(e,n)):await P(e)};return(0,g.jsx)(up,{flowId:e,stepId:(null==p?void 0:p.id)||(null==p?void 0:p.key),onLog:d,children:(0,g.jsx)(us,{metadata:T,onEvent:c,children:(0,g.jsx)(ui,{loading:A||$,children:(0,g.jsx)(dW,{httpClient:t,children:(0,g.jsx)(ug,{features:l,children:null!==E?E:(0,g.jsx)("div",{id:(null==p?void 0:p.id)||(null==p?void 0:p.key),className:"dynamic-flow-legacy",children:(0,g.jsx)(yB,{step:p,model:gn(h),submitted:S,globalError:m,formErrors:u,stepLayoutOptions:{displayStepTitle:i},onAction:e=>{G(e)},onModelChange:e=>{let{model:t,formSchema:a}=e,{$id:r=""}=a;x(null),u1(t)||I("Invalid model on change","onModelChange was called but the model argument is not an object"),F(r,t,t=>{Y(e,t)})}})})})})})})})},gr=function(e){return(0,g.jsx)(eB,{onError:e.onError,children:(0,g.jsx)(ga,ex({},e))})},gn=e=>Object.values(e).reduce((e,t)=>ex(ex({},e),t),{}),gi=(e="POST")=>["POST","PUT","PATCH"].includes(e.toUpperCase()),gl=e=>{let{type:t,triggerSchema:a,triggerModel:r,lastTriggerModel:n=null}=e,i=(null==a?void 0:a.refreshStepOnChange)||(null==a?void 0:a.refreshFormOnChange);return"init"!==t&&i&&(uq(r,a)||uq(n,a))}}}]);
//# sourceMappingURL=dbd72ae9-1646fe155bd05a16.js.map